{"ast":null,"code":"import dayjs from 'dayjs';\nimport duration from 'dayjs/plugin/duration';\nimport isBetween from 'dayjs/plugin/isBetween';\nimport { merge } from 'merge-anything';\nimport * as React from 'react';\nimport React__default, { createContext, useContext } from 'react';\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport PanResponder from \"react-native-web/dist/exports/PanResponder\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport calendarize from 'calendarize';\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\n\nfunction __spreadArray(to, from) {\n  for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) {\n    to[j] = from[i];\n  }\n\n  return to;\n}\n\nvar defaultTheme = {\n  isRTL: false,\n  palette: {\n    primary: {\n      main: 'rgb(66, 133, 244)',\n      contrastText: '#fff'\n    },\n    evenCellBg: '#fff',\n    oddCellBg: '#fff',\n    nowIndicator: 'red',\n    gray: {\n      100: '#f5f5f5',\n      200: '#eeeeee',\n      300: '#e0e0e0',\n      500: '#9e9e9e',\n      800: '#424242'\n    }\n  },\n  eventCellOverlappings: [{\n    main: '#E26245',\n    contrastText: '#fff'\n  }, {\n    main: '#4AC001',\n    contrastText: '#fff'\n  }, {\n    main: '#5934C7',\n    contrastText: '#fff'\n  }],\n  typography: {\n    xs: {\n      fontSize: 10\n    },\n    sm: {\n      fontSize: 12\n    },\n    xl: {\n      fontSize: 22\n    }\n  }\n};\nvar ThemeContext = createContext(defaultTheme);\n\nvar useTheme = function useTheme() {\n  var customTheme = useContext(ThemeContext);\n\n  if (!customTheme) {\n    return defaultTheme;\n  }\n\n  return customTheme;\n};\n\nvar MIN_HEIGHT = 1200;\nvar HOUR_GUIDE_WIDTH = 50;\nvar OVERLAP_OFFSET = Platform.OS === 'web' ? 20 : 8;\nvar OVERLAP_PADDING = Platform.OS === 'web' ? 3 : 0;\nvar eventCellCss = StyleSheet.create({\n  style: {\n    zIndex: 100,\n    borderRadius: 3,\n    padding: 4,\n    overflow: 'hidden',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 1\n    },\n    shadowOpacity: 0.2,\n    shadowRadius: 1,\n    elevation: 2,\n    minWidth: '33%'\n  }\n});\nvar u = StyleSheet.create({\n  flex: {\n    flexDirection: 'row'\n  },\n  'flex-row': {\n    flexDirection: 'row'\n  },\n  'flex-row-reverse': {\n    flexDirection: 'row-reverse'\n  },\n  'flex-column': {\n    flexDirection: 'column'\n  },\n  'flex-1': {\n    flex: 1\n  },\n  'justify-between': {\n    justifyContent: 'space-between'\n  },\n  'justify-center': {\n    justifyContent: 'center'\n  },\n  'items-center': {\n    alignItems: 'center'\n  },\n  'self-center': {\n    alignSelf: 'center'\n  },\n  'border-l': {\n    borderLeftWidth: 1\n  },\n  'border-t': {\n    borderTopWidth: 1\n  },\n  'border-b': {\n    borderBottomWidth: 1\n  },\n  'border-b-2': {\n    borderBottomWidth: 2\n  },\n  'border-r': {\n    borderRightWidth: 1\n  },\n  'mt-2': {\n    marginTop: 2\n  },\n  'mt-4': {\n    marginTop: 4\n  },\n  'mt-6': {\n    marginTop: 6\n  },\n  'mb-6': {\n    marginBottom: 6\n  },\n  'mx-3': {\n    marginLeft: 3,\n    marginRight: 3\n  },\n  'p-2': {\n    padding: 2\n  },\n  'p-8': {\n    padding: 8\n  },\n  'pt-2': {\n    paddingTop: 2\n  },\n  'py-2': {\n    paddingVertical: 2\n  },\n  'px-6': {\n    paddingHorizontal: 6\n  },\n  'pb-6': {\n    paddingBottom: 6\n  },\n  'text-center': {\n    textAlign: 'center'\n  },\n  rounded: {\n    borderRadius: 3\n  },\n  'rounded-full': {\n    borderRadius: 9999\n  },\n  'z-0': {\n    zIndex: 0\n  },\n  'z-10': {\n    zIndex: 10\n  },\n  'z-20': {\n    zIndex: 20\n  },\n  'w-36': {\n    width: 36\n  },\n  'w-50': {\n    width: 50\n  },\n  'h-36': {\n    height: 36\n  },\n  'overflow-hidden': {\n    overflow: 'hidden'\n  },\n  absolute: {\n    position: 'absolute'\n  },\n  truncate: Platform.OS === 'web' ? {\n    overflow: 'hidden'\n  } : {}\n});\nvar typedMemo = React__default.memo;\nvar DAY_MINUTES = 1440;\n\nfunction getDatesInMonth(date, locale) {\n  if (date === void 0) {\n    date = new Date();\n  }\n\n  if (locale === void 0) {\n    locale = 'en';\n  }\n\n  var subject = dayjs(date);\n  var days = Array(subject.daysInMonth() - 1).fill(0).map(function (_, i) {\n    return subject.date(i + 1).locale(locale);\n  });\n  return days;\n}\n\nfunction getDatesInWeek(date, weekStartsOn, locale) {\n  if (date === void 0) {\n    date = new Date();\n  }\n\n  if (weekStartsOn === void 0) {\n    weekStartsOn = 0;\n  }\n\n  if (locale === void 0) {\n    locale = 'en';\n  }\n\n  var subject = dayjs(date);\n  var subjectDOW = subject.day();\n  var days = Array(7).fill(0).map(function (_, i) {\n    return subject.add(i - (subjectDOW < weekStartsOn ? 7 + subjectDOW : subjectDOW) + weekStartsOn, 'day').locale(locale);\n  });\n  return days;\n}\n\nfunction getDatesInNextThreeDays(date, locale) {\n  if (date === void 0) {\n    date = new Date();\n  }\n\n  if (locale === void 0) {\n    locale = 'en';\n  }\n\n  var subject = dayjs(date).locale(locale);\n  var days = Array(3).fill(0).map(function (_, i) {\n    return subject.add(i, 'day');\n  });\n  return days;\n}\n\nfunction getDatesInNextOneDay(date, locale) {\n  if (date === void 0) {\n    date = new Date();\n  }\n\n  if (locale === void 0) {\n    locale = 'en';\n  }\n\n  var subject = dayjs(date).locale(locale);\n  var days = Array(1).fill(0).map(function (_, i) {\n    return subject.add(i, 'day');\n  });\n  return days;\n}\n\nvar hours = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23];\n\nfunction formatHour(hour, ampm) {\n  if (ampm === void 0) {\n    ampm = false;\n  }\n\n  if (ampm) {\n    if (hour === 0) {\n      return '';\n    }\n\n    if (hour === 12) {\n      return \"12 PM\";\n    }\n\n    if (hour > 12) {\n      return \"\".concat(hour - 12, \" PM\");\n    }\n\n    return \"\".concat(hour, \" AM\");\n  }\n\n  return \"\".concat(hour, \":00\");\n}\n\nfunction isToday(date) {\n  var today = dayjs();\n  return today.isSame(date, 'day');\n}\n\nfunction getRelativeTopInDay(date) {\n  return 100 * (date.hour() * 60 + date.minute()) / DAY_MINUTES;\n}\n\nfunction todayInMinutes() {\n  var today = dayjs();\n  return today.diff(dayjs().startOf('day'), 'minute');\n}\n\nfunction modeToNum(mode, current) {\n  if (mode === 'month') {\n    if (!current) {\n      throw new Error('You must specify current date if mode is month');\n    }\n\n    if (current instanceof Date) {\n      current = dayjs(current);\n    }\n\n    return current.daysInMonth() - current.date() + 1;\n  }\n\n  switch (mode) {\n    case 'day':\n      return 1;\n\n    case '3days':\n      return 3;\n\n    case 'week':\n    case 'custom':\n      return 7;\n\n    default:\n      throw new Error('undefined mode');\n  }\n}\n\nfunction formatStartEnd(start, end, format) {\n  return \"\".concat(dayjs(start).format(format), \" - \").concat(dayjs(end).format(format));\n}\n\nfunction isAllDayEvent(start, end) {\n  var _start = dayjs(start);\n\n  var _end = dayjs(end);\n\n  return _start.hour() === 0 && _start.minute() === 0 && _end.hour() === 0 && _end.minute() === 0;\n}\n\nfunction getCountOfEventsAtEvent(event, eventList) {\n  return eventList.filter(function (e) {\n    return dayjs(event.start).isBetween(e.start, e.end, 'minute', '[)') || dayjs(e.start).isBetween(event.start, event.end, 'minute', '[)');\n  }).length;\n}\n\nfunction getOrderOfEvent(event, eventList) {\n  var events = eventList.filter(function (e) {\n    return dayjs(event.start).isBetween(e.start, e.end, 'minute', '[)') || dayjs(e.start).isBetween(event.start, event.end, 'minute', '[)');\n  }).sort(function (a, b) {\n    if (dayjs(a.start).isSame(b.start)) {\n      return dayjs(a.start).diff(a.end) < dayjs(b.start).diff(b.end) ? -1 : 1;\n    } else {\n      return dayjs(a.start).isBefore(b.start) ? -1 : 1;\n    }\n  });\n  var index = events.indexOf(event);\n  return index === -1 ? 0 : index;\n}\n\nfunction getStyleForOverlappingEvent(eventPosition, overlapOffset, palettes) {\n  var overlapStyle = {};\n  var offset = overlapOffset;\n  var start = eventPosition * offset;\n  var zIndex = 100 + eventPosition;\n  var bgColors = palettes.map(function (p) {\n    return p.main;\n  });\n  overlapStyle = {\n    start: start + OVERLAP_PADDING,\n    end: OVERLAP_PADDING,\n    backgroundColor: bgColors[eventPosition % bgColors.length] || bgColors[0],\n    zIndex: zIndex\n  };\n  return overlapStyle;\n}\n\nfunction getDatesInNextCustomDays(date, weekStartsOn, weekEndsOn, locale) {\n  if (date === void 0) {\n    date = new Date();\n  }\n\n  if (weekStartsOn === void 0) {\n    weekStartsOn = 0;\n  }\n\n  if (weekEndsOn === void 0) {\n    weekEndsOn = 6;\n  }\n\n  if (locale === void 0) {\n    locale = 'en';\n  }\n\n  var subject = dayjs(date);\n  var subjectDOW = subject.day();\n  var days = Array(weekDaysCount(weekStartsOn, weekEndsOn)).fill(0).map(function (_, i) {\n    return subject.add(i - subjectDOW + weekStartsOn, 'day').locale(locale);\n  });\n  return days;\n}\n\nfunction weekDaysCount(weekStartsOn, weekEndsOn) {\n  if (weekEndsOn < weekStartsOn) {\n    var daysCount = 1;\n    var i = weekStartsOn;\n\n    while (i !== weekEndsOn) {\n      ++i;\n      ++daysCount;\n\n      if (i > 6) {\n        i = 0;\n      }\n\n      if (daysCount > 7) {\n        break;\n      }\n    }\n\n    return daysCount;\n  }\n\n  if (weekEndsOn > weekStartsOn) {\n    return weekEndsOn - weekStartsOn + 1;\n  }\n\n  return 1;\n}\n\nfunction getEventSpanningInfo(event, date, dayOfTheWeek, calendarWidth) {\n  var dayWidth = calendarWidth / 7;\n  var eventDuration = dayjs.duration(dayjs(event.end).diff(dayjs(event.start))).days() + 1;\n  var eventDaysLeft = dayjs.duration(dayjs(event.end).diff(date)).days() + 1;\n  var weekDaysLeft = 7 - dayOfTheWeek;\n  var isMultipleDays = eventDuration > 1;\n  var eventWeekDuration = eventDuration > weekDaysLeft ? weekDaysLeft : dayOfTheWeek === 0 && eventDaysLeft < eventDuration ? eventDaysLeft : eventDuration;\n  var isMultipleDaysStart = isMultipleDays && (date.isSame(event.start, 'day') || dayOfTheWeek === 0 && date.isAfter(event.start) || date.get('date') === 1);\n  var eventWidth = dayWidth * eventWeekDuration - 6;\n  return {\n    eventWidth: eventWidth,\n    isMultipleDays: isMultipleDays,\n    isMultipleDaysStart: isMultipleDaysStart,\n    eventWeekDuration: eventWeekDuration\n  };\n}\n\nfunction isPair(i) {\n  return i % 2 === 0;\n}\n\nfunction objHasContent(obj) {\n  return !!Object.keys(obj).length;\n}\n\nfunction stringHasContent(string) {\n  return !!string.length;\n}\n\nfunction useNow(enabled) {\n  var _a = React__default.useState(dayjs()),\n      now = _a[0],\n      setNow = _a[1];\n\n  React__default.useEffect(function () {\n    if (!enabled) {\n      return function () {};\n    }\n\n    var pid = setInterval(function () {\n      return setNow(dayjs());\n    }, 60 * 1000);\n    return function () {\n      return clearInterval(pid);\n    };\n  }, [enabled]);\n  return {\n    now: now\n  };\n}\n\nvar SWIPE_THRESHOLD = 50;\n\nfunction usePanResponder(_a) {\n  var onSwipeHorizontal = _a.onSwipeHorizontal;\n\n  var _b = React__default.useState(false),\n      panHandled = _b[0],\n      setPanHandled = _b[1];\n\n  var panResponder = React__default.useMemo(function () {\n    return PanResponder.create({\n      onMoveShouldSetPanResponder: function onMoveShouldSetPanResponder(_, _a) {\n        var dx = _a.dx,\n            dy = _a.dy;\n        return dx > 2 || dx < -2 || dy > 2 || dy < -2;\n      },\n      onPanResponderMove: function onPanResponderMove(_, _a) {\n        var dy = _a.dy,\n            dx = _a.dx;\n\n        if (dy < -1 * SWIPE_THRESHOLD || SWIPE_THRESHOLD < dy || panHandled) {\n          return;\n        }\n\n        if (dx < -1 * SWIPE_THRESHOLD) {\n          onSwipeHorizontal && onSwipeHorizontal('LEFT');\n          setPanHandled(true);\n          return;\n        }\n\n        if (dx > SWIPE_THRESHOLD) {\n          onSwipeHorizontal && onSwipeHorizontal('RIGHT');\n          setPanHandled(true);\n          return;\n        }\n      },\n      onPanResponderEnd: function onPanResponderEnd() {\n        setPanHandled(false);\n      }\n    });\n  }, [panHandled, onSwipeHorizontal]);\n  return panResponder;\n}\n\nfunction useCalendarTouchableOpacityProps(_a) {\n  var event = _a.event,\n      eventCellStyle = _a.eventCellStyle,\n      _b = _a.injectedStyles,\n      injectedStyles = _b === void 0 ? [] : _b,\n      onPressEvent = _a.onPressEvent;\n  var getEventStyle = React__default.useMemo(function () {\n    return typeof eventCellStyle === 'function' ? eventCellStyle : function () {\n      return eventCellStyle;\n    };\n  }, [eventCellStyle]);\n  var plainJsEvent = React__default.useMemo(function () {\n    return _assign(_assign({}, event), {\n      start: dayjs(event.start).toDate(),\n      end: dayjs(event.end).toDate()\n    });\n  }, [event]);\n\n  var _onPress = React__default.useCallback(function () {\n    onPressEvent && onPressEvent(plainJsEvent);\n  }, [onPressEvent, plainJsEvent]);\n\n  var touchableOpacityProps = {\n    delayPressIn: 20,\n    key: event.start.toString(),\n    style: __spreadArray(__spreadArray([eventCellCss.style], injectedStyles, true), [getEventStyle(plainJsEvent)]),\n    onPress: _onPress,\n    disabled: !onPressEvent\n  };\n  return touchableOpacityProps;\n}\n\nfunction DefaultCalendarEventRenderer(_a) {\n  var touchableOpacityProps = _a.touchableOpacityProps,\n      event = _a.event,\n      _b = _a.showTime,\n      showTime = _b === void 0 ? true : _b,\n      textColor = _a.textColor,\n      ampm = _a.ampm;\n  var theme = useTheme();\n  var eventTimeStyle = {\n    fontSize: theme.typography.xs.fontSize,\n    color: textColor\n  };\n  var eventTitleStyle = {\n    fontSize: theme.typography.sm.fontSize,\n    color: textColor\n  };\n  return React.createElement(TouchableOpacity, _assign({}, touchableOpacityProps), dayjs(event.end).diff(event.start, 'minute') < 32 && showTime ? React.createElement(Text, {\n    style: eventTitleStyle\n  }, event.title, \",\", React.createElement(Text, {\n    style: eventTimeStyle\n  }, dayjs(event.start).format(ampm ? 'hh:mm a' : 'HH:mm'))) : React.createElement(React.Fragment, null, React.createElement(Text, {\n    style: eventTitleStyle\n  }, event.title), showTime && React.createElement(Text, {\n    style: eventTimeStyle\n  }, formatStartEnd(event.start, event.end, ampm ? 'h:mm a' : 'HH:mm')), event.children && event.children));\n}\n\nvar getEventCellPositionStyle = function getEventCellPositionStyle(start, end) {\n  var relativeHeight = 100 * (1 / DAY_MINUTES) * dayjs(end).diff(start, 'minute');\n  var relativeTop = getRelativeTopInDay(dayjs(start));\n  return {\n    height: \"\".concat(relativeHeight, \"%\"),\n    top: \"\".concat(relativeTop, \"%\")\n  };\n};\n\nfunction _CalendarEvent(_a) {\n  var event = _a.event,\n      onPressEvent = _a.onPressEvent,\n      eventCellStyle = _a.eventCellStyle,\n      showTime = _a.showTime,\n      _b = _a.eventCount,\n      eventCount = _b === void 0 ? 1 : _b,\n      _c = _a.eventOrder,\n      eventOrder = _c === void 0 ? 0 : _c,\n      _d = _a.overlapOffset,\n      overlapOffset = _d === void 0 ? OVERLAP_OFFSET : _d,\n      renderEvent = _a.renderEvent,\n      ampm = _a.ampm;\n  var theme = useTheme();\n  var palettes = React.useMemo(function () {\n    return __spreadArray([theme.palette.primary], theme.eventCellOverlappings);\n  }, [theme]);\n  var touchableOpacityProps = useCalendarTouchableOpacityProps({\n    event: event,\n    eventCellStyle: eventCellStyle,\n    onPressEvent: onPressEvent,\n    injectedStyles: [getEventCellPositionStyle(event.start, event.end), getStyleForOverlappingEvent(eventOrder, overlapOffset, palettes), u['absolute'], u['mt-2'], u['mx-3']]\n  });\n  var textColor = React.useMemo(function () {\n    var fgColors = palettes.map(function (p) {\n      return p.contrastText;\n    });\n    return fgColors[eventCount % fgColors.length] || fgColors[0];\n  }, [eventCount, palettes]);\n\n  if (renderEvent) {\n    return renderEvent(event, touchableOpacityProps);\n  }\n\n  return React.createElement(DefaultCalendarEventRenderer, {\n    event: event,\n    showTime: showTime,\n    ampm: ampm,\n    touchableOpacityProps: touchableOpacityProps,\n    textColor: textColor\n  });\n}\n\nvar CalendarEvent = typedMemo(_CalendarEvent);\n\nvar HourGuideCell = function HourGuideCell(_a) {\n  var cellHeight = _a.cellHeight,\n      _onPress2 = _a.onPress,\n      date = _a.date,\n      hour = _a.hour,\n      index = _a.index;\n  var theme = useTheme();\n  var evenCellBg = theme.palette.evenCellBg;\n  var oddCellBg = theme.palette.oddCellBg;\n  return React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      return _onPress2(date.hour(hour).minute(0));\n    }\n  }, React.createElement(View, {\n    style: [u['border-l'], u['border-b'], {\n      borderColor: theme.palette.gray['200']\n    }, {\n      height: cellHeight\n    }, {\n      backgroundColor: isPair(index) ? evenCellBg : oddCellBg\n    }]\n  }));\n};\n\nvar _HourGuideColumn = function _HourGuideColumn(_a) {\n  var cellHeight = _a.cellHeight,\n      hour = _a.hour,\n      ampm = _a.ampm,\n      index = _a.index,\n      _b = _a.hourStyle,\n      hourStyle = _b === void 0 ? {} : _b;\n  var theme = useTheme();\n  var textStyle = React.useMemo(function () {\n    return {\n      color: theme.palette.gray[500],\n      fontSize: theme.typography.xs.fontSize\n    };\n  }, [theme]);\n  var evenCellBg = theme.palette.evenCellBg;\n  var oddCellBg = theme.palette.oddCellBg;\n  return React.createElement(View, {\n    style: {\n      height: cellHeight,\n      backgroundColor: isPair(index) ? evenCellBg : oddCellBg\n    }\n  }, React.createElement(Text, {\n    style: [objHasContent(hourStyle) ? hourStyle : textStyle, u['text-center']]\n  }, formatHour(hour, ampm)));\n};\n\nvar HourGuideColumn = React.memo(_HourGuideColumn, function () {\n  return true;\n});\nvar styles = StyleSheet.create({\n  nowIndicator: {\n    position: 'absolute',\n    zIndex: 10000,\n    height: 2,\n    width: '100%'\n  }\n});\n\nfunction _CalendarBody(_a) {\n  var containerHeight = _a.containerHeight,\n      cellHeight = _a.cellHeight,\n      dateRange = _a.dateRange,\n      style = _a.style,\n      onPressCell = _a.onPressCell,\n      events = _a.events,\n      onPressEvent = _a.onPressEvent,\n      eventCellStyle = _a.eventCellStyle,\n      ampm = _a.ampm,\n      showTime = _a.showTime,\n      scrollOffsetMinutes = _a.scrollOffsetMinutes,\n      onSwipeHorizontal = _a.onSwipeHorizontal,\n      hideNowIndicator = _a.hideNowIndicator,\n      overlapOffset = _a.overlapOffset,\n      renderEvent = _a.renderEvent,\n      _b = _a.headerComponent,\n      headerComponent = _b === void 0 ? null : _b,\n      _c = _a.headerComponentStyle,\n      headerComponentStyle = _c === void 0 ? {} : _c,\n      _d = _a.hourStyle,\n      hourStyle = _d === void 0 ? {} : _d;\n  var scrollView = React.useRef(null);\n  var now = useNow(!hideNowIndicator).now;\n  React.useEffect(function () {\n    if (scrollView.current && scrollOffsetMinutes && Platform.OS !== 'ios') {\n      setTimeout(function () {\n        if (scrollView && scrollView.current) {\n          scrollView.current.scrollTo({\n            y: cellHeight * scrollOffsetMinutes / 60,\n            animated: false\n          });\n        }\n      }, Platform.OS === 'web' ? 0 : 10);\n    }\n  }, [scrollView, scrollOffsetMinutes, cellHeight]);\n  var panResponder = usePanResponder({\n    onSwipeHorizontal: onSwipeHorizontal\n  });\n\n  var _onPressCell = React.useCallback(function (date) {\n    onPressCell && onPressCell(date.toDate());\n  }, [onPressCell]);\n\n  var _renderMappedEvent = function _renderMappedEvent(event) {\n    return React.createElement(CalendarEvent, {\n      key: \"\".concat(event.start).concat(event.title).concat(event.end),\n      event: event,\n      onPressEvent: onPressEvent,\n      eventCellStyle: eventCellStyle,\n      showTime: showTime,\n      eventCount: getCountOfEventsAtEvent(event, events),\n      eventOrder: getOrderOfEvent(event, events),\n      overlapOffset: overlapOffset,\n      renderEvent: renderEvent,\n      ampm: ampm\n    });\n  };\n\n  var theme = useTheme();\n  return React.createElement(React.Fragment, null, headerComponent != null ? React.createElement(View, {\n    style: headerComponentStyle\n  }, headerComponent) : null, React.createElement(ScrollView, _assign({\n    style: [{\n      height: containerHeight - cellHeight * 3\n    }, style],\n    ref: scrollView,\n    scrollEventThrottle: 32\n  }, Platform.OS !== 'web' ? panResponder.panHandlers : {}, {\n    showsVerticalScrollIndicator: false,\n    nestedScrollEnabled: true,\n    contentOffset: Platform.OS === 'ios' ? {\n      x: 0,\n      y: scrollOffsetMinutes\n    } : {\n      x: 0,\n      y: 0\n    }\n  }), React.createElement(View, _assign({\n    style: [u['flex-1'], theme.isRTL ? u['flex-row-reverse'] : u['flex-row']]\n  }, Platform.OS === 'web' ? panResponder.panHandlers : {}), React.createElement(View, {\n    style: [u['z-20'], u['w-50']]\n  }, hours.map(function (hour, index) {\n    return React.createElement(HourGuideColumn, {\n      key: hour,\n      cellHeight: cellHeight,\n      hour: hour,\n      ampm: ampm,\n      index: index,\n      hourStyle: hourStyle\n    });\n  })), dateRange.map(function (date) {\n    return React.createElement(View, {\n      style: [u['flex-1'], u['overflow-hidden']],\n      key: date.toString()\n    }, hours.map(function (hour, index) {\n      return React.createElement(HourGuideCell, {\n        key: hour,\n        cellHeight: cellHeight,\n        date: date,\n        hour: hour,\n        onPress: _onPressCell,\n        index: index\n      });\n    }), events.filter(function (_a) {\n      var start = _a.start;\n      return dayjs(start).isBetween(date.startOf('day'), date.endOf('day'), null, '[)');\n    }).map(_renderMappedEvent), events.filter(function (_a) {\n      var start = _a.start,\n          end = _a.end;\n      return dayjs(start).isBefore(date.startOf('day')) && dayjs(end).isBetween(date.startOf('day'), date.endOf('day'), null, '[)');\n    }).map(function (event) {\n      return _assign(_assign({}, event), {\n        start: dayjs(event.end).startOf('day')\n      });\n    }).map(_renderMappedEvent), events.filter(function (_a) {\n      var start = _a.start,\n          end = _a.end;\n      return dayjs(start).isBefore(date.startOf('day')) && dayjs(end).isAfter(date.endOf('day'));\n    }).map(function (event) {\n      return _assign(_assign({}, event), {\n        start: dayjs(event.end).startOf('day'),\n        end: dayjs(event.end).endOf('day')\n      });\n    }).map(_renderMappedEvent), isToday(date) && !hideNowIndicator && React.createElement(View, {\n      style: [styles.nowIndicator, {\n        backgroundColor: theme.palette.nowIndicator\n      }, {\n        top: \"\".concat(getRelativeTopInDay(now), \"%\")\n      }]\n    }));\n  }))));\n}\n\nvar CalendarBody = typedMemo(_CalendarBody);\n\nfunction _CalendarEventForMonthView(_a) {\n  var event = _a.event,\n      onPressEvent = _a.onPressEvent,\n      eventCellStyle = _a.eventCellStyle,\n      renderEvent = _a.renderEvent,\n      date = _a.date,\n      dayOfTheWeek = _a.dayOfTheWeek,\n      calendarWidth = _a.calendarWidth,\n      isRTL = _a.isRTL,\n      eventMinHeightForMonthView = _a.eventMinHeightForMonthView;\n  var theme = useTheme();\n\n  var _b = React.useMemo(function () {\n    return getEventSpanningInfo(event, date, dayOfTheWeek, calendarWidth);\n  }, [date, dayOfTheWeek, event, calendarWidth]),\n      eventWidth = _b.eventWidth,\n      isMultipleDays = _b.isMultipleDays,\n      isMultipleDaysStart = _b.isMultipleDaysStart,\n      eventWeekDuration = _b.eventWeekDuration;\n\n  var touchableOpacityProps = useCalendarTouchableOpacityProps({\n    event: event,\n    eventCellStyle: eventCellStyle,\n    onPressEvent: onPressEvent,\n    injectedStyles: [{\n      backgroundColor: theme.palette.primary.main\n    }, isMultipleDaysStart && eventWeekDuration > 1 ? {\n      position: 'absolute',\n      width: eventWidth,\n      zIndex: 10000\n    } : {}, isRTL ? {\n      right: 0\n    } : {\n      left: 0\n    }, u['mt-2']]\n  });\n  return React.createElement(TouchableOpacity, {\n    style: {\n      minHeight: eventMinHeightForMonthView\n    },\n    onPress: function onPress() {\n      return onPressEvent === null || onPressEvent === void 0 ? void 0 : onPressEvent(event);\n    }\n  }, !isMultipleDays && date.isSame(event.start, 'day') || isMultipleDays && isMultipleDaysStart ? renderEvent ? renderEvent(event, touchableOpacityProps) : React.createElement(View, _assign({}, touchableOpacityProps), React.createElement(Text, {\n    style: [{\n      color: theme.palette.primary.contrastText\n    }, theme.typography.xs, u['truncate'], isRTL && {\n      textAlign: 'right'\n    }],\n    numberOfLines: 1\n  }, event.title)) : null);\n}\n\nvar CalendarEventForMonthView = typedMemo(_CalendarEventForMonthView);\n\nfunction _CalendarBodyForMonthView(_a) {\n  var containerHeight = _a.containerHeight,\n      targetDate = _a.targetDate,\n      style = _a.style,\n      onPressCell = _a.onPressCell,\n      events = _a.events,\n      onPressEvent = _a.onPressEvent,\n      eventCellStyle = _a.eventCellStyle,\n      onSwipeHorizontal = _a.onSwipeHorizontal,\n      hideNowIndicator = _a.hideNowIndicator,\n      renderEvent = _a.renderEvent,\n      maxVisibleEventCount = _a.maxVisibleEventCount,\n      weekStartsOn = _a.weekStartsOn,\n      eventMinHeightForMonthView = _a.eventMinHeightForMonthView;\n  var now = useNow(!hideNowIndicator).now;\n\n  var _b = React.useState(0),\n      calendarWidth = _b[0],\n      setCalendarWidth = _b[1];\n\n  var panResponder = usePanResponder({\n    onSwipeHorizontal: onSwipeHorizontal\n  });\n  var weeks = calendarize(targetDate.toDate(), weekStartsOn);\n  var minCellHeight = containerHeight / 5 - 30;\n  var theme = useTheme();\n  return React.createElement(View, _assign({\n    style: [{\n      height: containerHeight\n    }, u['flex-column'], u['flex-1'], u['border-b'], u['border-l'], u['border-r'], u['rounded'], {\n      borderColor: theme.palette.gray['200']\n    }, style],\n    onLayout: function onLayout(_a) {\n      var layout = _a.nativeEvent.layout;\n      return setCalendarWidth(layout.width);\n    }\n  }, panResponder.panHandlers), weeks.map(function (week, i) {\n    return React.createElement(View, {\n      key: i,\n      style: [u['flex-1'], theme.isRTL ? u['flex-row-reverse'] : u['flex-row'], Platform.OS === 'android' && style, {\n        minHeight: minCellHeight\n      }]\n    }, week.map(function (d) {\n      return d > 0 ? targetDate.date(d) : null;\n    }).map(function (date, ii) {\n      return React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return date && onPressCell && onPressCell(date.toDate());\n        },\n        style: [i > 0 && u['border-t'], theme.isRTL && ii > 0 && u['border-r'], !theme.isRTL && ii > 0 && u['border-l'], {\n          borderColor: theme.palette.gray['200']\n        }, u['p-2'], u['flex-1'], u['flex-column'], {\n          minHeight: minCellHeight\n        }],\n        key: ii\n      }, React.createElement(Text, {\n        style: [{\n          textAlign: 'center'\n        }, theme.typography.sm, {\n          color: (date === null || date === void 0 ? void 0 : date.format('YYYY-MM-DD')) === now.format('YYYY-MM-DD') ? theme.palette.primary.main : theme.palette.gray['800']\n        }]\n      }, date && date.format('D')), date && events.sort(function (a, b) {\n        if (dayjs(a.start).isSame(b.start, 'day')) {\n          var aDuration = dayjs.duration(dayjs(a.end).diff(dayjs(a.start))).days();\n          var bDuration = dayjs.duration(dayjs(b.end).diff(dayjs(b.start))).days();\n          return bDuration - aDuration;\n        }\n\n        return a.start.getTime() - b.start.getTime();\n      }).filter(function (_a) {\n        var start = _a.start,\n            end = _a.end;\n        return date.isBetween(dayjs(start).startOf('day'), dayjs(end).endOf('day'), null, '[)');\n      }).reduce(function (elements, event, index, events) {\n        return __spreadArray(__spreadArray([], elements, true), [index > maxVisibleEventCount ? null : index === maxVisibleEventCount ? React.createElement(Text, {\n          key: index,\n          style: {\n            fontSize: 11,\n            marginTop: 2,\n            fontWeight: 'bold'\n          }\n        }, events.length - maxVisibleEventCount, \" More\") : React.createElement(CalendarEventForMonthView, {\n          key: index,\n          event: event,\n          eventCellStyle: eventCellStyle,\n          onPressEvent: onPressEvent,\n          renderEvent: renderEvent,\n          date: date,\n          dayOfTheWeek: ii,\n          calendarWidth: calendarWidth,\n          isRTL: theme.isRTL,\n          eventMinHeightForMonthView: eventMinHeightForMonthView\n        })]);\n      }, []));\n    }));\n  }));\n}\n\nvar CalendarBodyForMonthView = typedMemo(_CalendarBodyForMonthView);\n\nfunction _CalendarHeader(_a) {\n  var dateRange = _a.dateRange,\n      cellHeight = _a.cellHeight,\n      style = _a.style,\n      allDayEvents = _a.allDayEvents,\n      onPressDateHeader = _a.onPressDateHeader,\n      onPressEvent = _a.onPressEvent,\n      activeDate = _a.activeDate,\n      _b = _a.headerContentStyle,\n      headerContentStyle = _b === void 0 ? {} : _b,\n      _c = _a.dayHeaderStyle,\n      dayHeaderStyle = _c === void 0 ? {} : _c,\n      _d = _a.dayHeaderHighlightColor,\n      dayHeaderHighlightColor = _d === void 0 ? '' : _d,\n      _e = _a.weekDayHeaderHighlightColor,\n      weekDayHeaderHighlightColor = _e === void 0 ? '' : _e,\n      _f = _a.showAllDayEventCell,\n      showAllDayEventCell = _f === void 0 ? true : _f;\n\n  var _onPressHeader = React.useCallback(function (date) {\n    onPressDateHeader && onPressDateHeader(date);\n  }, [onPressDateHeader]);\n\n  var _onPressEvent = React.useCallback(function (event) {\n    onPressEvent && onPressEvent(event);\n  }, [onPressEvent]);\n\n  var theme = useTheme();\n  var borderColor = {\n    borderColor: theme.palette.gray['200']\n  };\n  var primaryBg = {\n    backgroundColor: theme.palette.primary.main\n  };\n  return React.createElement(View, {\n    style: [showAllDayEventCell ? u['border-b-2'] : {}, showAllDayEventCell ? borderColor : {}, theme.isRTL ? u['flex-row-reverse'] : u['flex-row'], style]\n  }, React.createElement(View, {\n    style: [u['z-10'], u['w-50'], borderColor]\n  }), dateRange.map(function (date) {\n    var shouldHighlight = activeDate ? date.isSame(activeDate, 'date') : isToday(date);\n    return React.createElement(TouchableOpacity, {\n      style: [u['flex-1'], u['pt-2']],\n      onPress: function onPress() {\n        return _onPressHeader(date.toDate());\n      },\n      disabled: onPressDateHeader === undefined,\n      key: date.toString()\n    }, React.createElement(View, {\n      style: [{\n        height: cellHeight\n      }, objHasContent(headerContentStyle) ? headerContentStyle : u['justify-between']]\n    }, React.createElement(Text, {\n      style: [theme.typography.xs, u['text-center'], {\n        color: shouldHighlight ? stringHasContent(weekDayHeaderHighlightColor) ? weekDayHeaderHighlightColor : theme.palette.primary.main : theme.palette.gray['500']\n      }]\n    }, date.format('ddd')), React.createElement(View, {\n      style: objHasContent(dayHeaderStyle) ? dayHeaderStyle : shouldHighlight ? [primaryBg, u['h-36'], u['w-36'], u['pb-6'], u['rounded-full'], u['items-center'], u['justify-center'], u['self-center'], u['z-20']] : [u['mb-6']]\n    }, React.createElement(Text, {\n      style: [{\n        color: shouldHighlight ? stringHasContent(dayHeaderHighlightColor) ? dayHeaderHighlightColor : theme.palette.primary.contrastText : theme.palette.gray['800']\n      }, theme.typography.xl, u['text-center'], Platform.OS === 'web' && shouldHighlight && !stringHasContent(dayHeaderHighlightColor) && u['mt-6']]\n    }, date.format('D')))), showAllDayEventCell ? React.createElement(View, {\n      style: [u['border-l'], {\n        borderColor: theme.palette.gray['200']\n      }, {\n        height: cellHeight\n      }]\n    }, allDayEvents.map(function (event) {\n      if (!dayjs(date).isBetween(event.start, event.end, 'day', '[]')) {\n        return null;\n      }\n\n      return React.createElement(TouchableOpacity, {\n        style: [eventCellCss.style, primaryBg, u['mt-2']],\n        key: \"\".concat(event.start).concat(event.title),\n        onPress: function onPress() {\n          return _onPressEvent(event);\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: theme.typography.sm.fontSize,\n          color: theme.palette.primary.contrastText\n        }\n      }, event.title));\n    })) : null);\n  }));\n}\n\nvar CalendarHeader = typedMemo(_CalendarHeader);\n\nfunction _CalendarHeaderForMonthView(_a) {\n  var locale = _a.locale,\n      weekStartsOn = _a.weekStartsOn,\n      style = _a.style;\n  var dates = getDatesInWeek(new Date(), weekStartsOn, locale);\n  var todayWeekNum = dayjs().day();\n  var theme = useTheme();\n  return React.createElement(View, {\n    style: [u['border-b'], {\n      borderColor: theme.palette.gray['100']\n    }, theme.isRTL ? u['flex-row-reverse'] : u['flex-row'], style]\n  }, dates.map(function (date) {\n    return React.createElement(View, {\n      style: {\n        flex: 1,\n        paddingTop: 2\n      },\n      key: date.toISOString()\n    }, React.createElement(View, {\n      style: {\n        height: 30\n      }\n    }, React.createElement(Text, {\n      style: [u['text-center'], {\n        color: todayWeekNum === date.day() ? theme.palette.primary.main : theme.palette.gray['800']\n      }]\n    }, date.format('ddd'))));\n  }));\n}\n\nvar CalendarHeaderForMonthView = typedMemo(_CalendarHeaderForMonthView);\n\nfunction _CalendarContainer(_a) {\n  var events = _a.events,\n      height = _a.height,\n      hourRowHeight = _a.hourRowHeight,\n      _b = _a.ampm,\n      ampm = _b === void 0 ? false : _b,\n      date = _a.date,\n      eventCellStyle = _a.eventCellStyle,\n      _c = _a.locale,\n      locale = _c === void 0 ? 'en' : _c,\n      _d = _a.hideNowIndicator,\n      hideNowIndicator = _d === void 0 ? false : _d,\n      _e = _a.mode,\n      mode = _e === void 0 ? 'week' : _e,\n      overlapOffset = _a.overlapOffset,\n      _f = _a.scrollOffsetMinutes,\n      scrollOffsetMinutes = _f === void 0 ? 0 : _f,\n      _g = _a.showTime,\n      showTime = _g === void 0 ? true : _g,\n      _h = _a.headerContainerStyle,\n      headerContainerStyle = _h === void 0 ? {} : _h,\n      _j = _a.headerContentStyle,\n      headerContentStyle = _j === void 0 ? {} : _j,\n      _k = _a.dayHeaderStyle,\n      dayHeaderStyle = _k === void 0 ? {} : _k,\n      _l = _a.dayHeaderHighlightColor,\n      dayHeaderHighlightColor = _l === void 0 ? '' : _l,\n      _m = _a.weekDayHeaderHighlightColor,\n      weekDayHeaderHighlightColor = _m === void 0 ? '' : _m,\n      _o = _a.bodyContainerStyle,\n      bodyContainerStyle = _o === void 0 ? {} : _o,\n      _p = _a.swipeEnabled,\n      swipeEnabled = _p === void 0 ? true : _p,\n      _q = _a.weekStartsOn,\n      weekStartsOn = _q === void 0 ? 0 : _q,\n      onChangeDate = _a.onChangeDate,\n      onPressCell = _a.onPressCell,\n      onPressDateHeader = _a.onPressDateHeader,\n      onPressEvent = _a.onPressEvent,\n      renderEvent = _a.renderEvent,\n      _r = _a.renderHeader,\n      HeaderComponent = _r === void 0 ? CalendarHeader : _r,\n      _s = _a.renderHeaderForMonthView,\n      HeaderComponentForMonthView = _s === void 0 ? CalendarHeaderForMonthView : _s,\n      _t = _a.weekEndsOn,\n      weekEndsOn = _t === void 0 ? 6 : _t,\n      _u = _a.maxVisibleEventCount,\n      maxVisibleEventCount = _u === void 0 ? 3 : _u,\n      _v = _a.eventMinHeightForMonthView,\n      eventMinHeightForMonthView = _v === void 0 ? 22 : _v,\n      activeDate = _a.activeDate,\n      _w = _a.headerComponent,\n      headerComponent = _w === void 0 ? null : _w,\n      _x = _a.headerComponentStyle,\n      headerComponentStyle = _x === void 0 ? {} : _x,\n      _y = _a.hourStyle,\n      hourStyle = _y === void 0 ? {} : _y,\n      _z = _a.showAllDayEventCell,\n      showAllDayEventCell = _z === void 0 ? true : _z;\n\n  var _0 = React__default.useState(dayjs(date)),\n      targetDate = _0[0],\n      setTargetDate = _0[1];\n\n  React__default.useEffect(function () {\n    if (date) {\n      setTargetDate(dayjs(date));\n    }\n  }, [date]);\n  var allDayEvents = React__default.useMemo(function () {\n    return events.filter(function (event) {\n      return isAllDayEvent(event.start, event.end);\n    });\n  }, [events]);\n  var daytimeEvents = React__default.useMemo(function () {\n    return events.filter(function (event) {\n      return !isAllDayEvent(event.start, event.end);\n    });\n  }, [events]);\n  var dateRange = React__default.useMemo(function () {\n    switch (mode) {\n      case 'month':\n        return getDatesInMonth(targetDate, locale);\n\n      case 'week':\n        return getDatesInWeek(targetDate, weekStartsOn, locale);\n\n      case '3days':\n        return getDatesInNextThreeDays(targetDate, locale);\n\n      case 'day':\n        return getDatesInNextOneDay(targetDate, locale);\n\n      case 'custom':\n        return getDatesInNextCustomDays(targetDate, weekStartsOn, weekEndsOn, locale);\n\n      default:\n        throw new Error(\"[react-native-big-calendar] The mode which you specified \\\"\".concat(mode, \"\\\" is not supported.\"));\n    }\n  }, [mode, targetDate, locale, weekEndsOn, weekStartsOn]);\n  React__default.useEffect(function () {\n    if (onChangeDate) {\n      onChangeDate([dateRange[0].toDate(), dateRange.slice(-1)[0].toDate()]);\n    }\n  }, [dateRange, onChangeDate]);\n  var cellHeight = React__default.useMemo(function () {\n    return hourRowHeight || Math.max(height - 30, MIN_HEIGHT) / 24;\n  }, [height, hourRowHeight]);\n  var theme = useTheme();\n  var onSwipeHorizontal = React__default.useCallback(function (direction) {\n    if (!swipeEnabled) {\n      return;\n    }\n\n    if (direction === 'LEFT' && !theme.isRTL || direction === 'RIGHT' && theme.isRTL) {\n      setTargetDate(targetDate.add(modeToNum(mode, targetDate), 'day'));\n    } else {\n      setTargetDate(targetDate.add(modeToNum(mode, targetDate) * -1, 'day'));\n    }\n  }, [swipeEnabled, targetDate, mode, theme.isRTL]);\n  var commonProps = {\n    cellHeight: cellHeight,\n    dateRange: dateRange,\n    mode: mode,\n    onPressEvent: onPressEvent\n  };\n\n  if (mode === 'month') {\n    var headerProps_1 = {\n      style: headerContainerStyle,\n      locale: locale,\n      weekStartsOn: weekStartsOn,\n      headerContentStyle: headerContentStyle,\n      dayHeaderStyle: dayHeaderStyle,\n      dayHeaderHighlightColor: dayHeaderHighlightColor,\n      weekDayHeaderHighlightColor: weekDayHeaderHighlightColor,\n      showAllDayEventCell: showAllDayEventCell\n    };\n    return React__default.createElement(React__default.Fragment, null, React__default.createElement(HeaderComponentForMonthView, _assign({}, headerProps_1)), React__default.createElement(CalendarBodyForMonthView, _assign({}, commonProps, {\n      style: bodyContainerStyle,\n      containerHeight: height,\n      events: __spreadArray(__spreadArray([], daytimeEvents, true), allDayEvents),\n      eventCellStyle: eventCellStyle,\n      weekStartsOn: weekStartsOn,\n      hideNowIndicator: hideNowIndicator,\n      onPressCell: onPressCell,\n      onPressEvent: onPressEvent,\n      onSwipeHorizontal: onSwipeHorizontal,\n      renderEvent: renderEvent,\n      targetDate: targetDate,\n      maxVisibleEventCount: maxVisibleEventCount,\n      eventMinHeightForMonthView: eventMinHeightForMonthView\n    })));\n  }\n\n  var headerProps = _assign(_assign({}, commonProps), {\n    style: headerContainerStyle,\n    allDayEvents: allDayEvents,\n    onPressDateHeader: onPressDateHeader,\n    activeDate: activeDate,\n    headerContentStyle: headerContentStyle,\n    dayHeaderStyle: dayHeaderStyle,\n    dayHeaderHighlightColor: dayHeaderHighlightColor,\n    weekDayHeaderHighlightColor: weekDayHeaderHighlightColor,\n    showAllDayEventCell: showAllDayEventCell\n  });\n\n  return React__default.createElement(React__default.Fragment, null, React__default.createElement(HeaderComponent, _assign({}, headerProps)), React__default.createElement(CalendarBody, _assign({}, commonProps, {\n    style: bodyContainerStyle,\n    containerHeight: height,\n    events: daytimeEvents,\n    eventCellStyle: eventCellStyle,\n    hideNowIndicator: hideNowIndicator,\n    overlapOffset: overlapOffset,\n    scrollOffsetMinutes: scrollOffsetMinutes,\n    ampm: ampm,\n    showTime: showTime,\n    onPressCell: onPressCell,\n    onPressEvent: onPressEvent,\n    onSwipeHorizontal: onSwipeHorizontal,\n    renderEvent: renderEvent,\n    headerComponent: headerComponent,\n    headerComponentStyle: headerComponentStyle,\n    hourStyle: hourStyle\n  })));\n}\n\nvar CalendarContainer = typedMemo(_CalendarContainer);\ndayjs.extend(isBetween);\n\nfunction _Calendar(_a) {\n  var _b = _a.theme,\n      theme = _b === void 0 ? defaultTheme : _b,\n      isRTL = _a.isRTL,\n      props = __rest(_a, [\"theme\", \"isRTL\"]);\n\n  var _theme = merge(defaultTheme, theme, {\n    isRTL: isRTL\n  });\n\n  return React__default.createElement(ThemeContext.Provider, {\n    value: _theme\n  }, React__default.createElement(CalendarContainer, _assign({}, props)));\n}\n\nvar Calendar = typedMemo(_Calendar);\ndayjs.extend(duration);\ndayjs.extend(isBetween);\nexport { Calendar, CalendarBody, CalendarBodyForMonthView, CalendarEvent, CalendarEventForMonthView, CalendarHeader, CalendarHeaderForMonthView, DAY_MINUTES, DefaultCalendarEventRenderer, HOUR_GUIDE_WIDTH, MIN_HEIGHT, OVERLAP_OFFSET, OVERLAP_PADDING, ThemeContext, Calendar as default, defaultTheme, eventCellCss, formatHour, formatStartEnd, getCountOfEventsAtEvent, getDatesInMonth, getDatesInNextCustomDays, getDatesInNextOneDay, getDatesInNextThreeDays, getDatesInWeek, getEventSpanningInfo, getOrderOfEvent, getRelativeTopInDay, getStyleForOverlappingEvent, hours, isAllDayEvent, isPair, isToday, modeToNum, objHasContent, stringHasContent, todayInMinutes, typedMemo, u, useTheme };","map":{"version":3,"sources":["../src/theme/defaultTheme.ts","../src/theme/ThemeContext.tsx","../src/commonStyles.ts","../src/utils.ts","../src/hooks/useNow.ts","../src/hooks/usePanResponder.ts","../src/hooks/useCalendarTouchableOpacityProps.ts","../src/components/DefaultCalendarEventRenderer.tsx","../src/components/CalendarEvent.tsx","../src/components/HourGuideCell.tsx","../src/components/HourGuideColumn.tsx","../src/components/CalendarBody.tsx","../src/components/CalendarEventForMonthView.tsx","../src/components/CalendarBodyForMonthView.tsx","../src/components/CalendarHeader.tsx","../src/components/CalendarHeaderForMonthView.tsx","../src/components/CalendarContainer.tsx","../src/components/Calendar.tsx","../src/index.ts"],"names":["React"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAEa,YAAY,GAAmB;AAC1C,EAAA,KAAK,EAAE,KADmC;AAE1C,EAAA,OAAO,EAAE;AACP,IAAA,OAAO,EAAE;AACP,MAAA,IAAI,EAAE,mBADC;AAEP,MAAA,YAAY,EAAE;AAFP,KADF;AAKP,IAAA,UAAU,EAAE,MALL;AAMP,IAAA,SAAS,EAAE,MANJ;AAOP,IAAA,YAAY,EAAE,KAPP;AAQP,IAAA,IAAI,EAAE;AAEJ,WAAK,SAFD;AAGJ,WAAK,SAHD;AAIJ,WAAK,SAJD;AAMJ,WAAK,SAND;AASJ,WAAK;AATD;AARC,GAFiC;AAuB1C,EAAA,qBAAqB,EAAE,CACrB;AAAE,IAAA,IAAI,EAAE,SAAR;AAAmB,IAAA,YAAY,EAAE;AAAjC,GADqB,EAErB;AAAE,IAAA,IAAI,EAAE,SAAR;AAAmB,IAAA,YAAY,EAAE;AAAjC,GAFqB,EAGrB;AAAE,IAAA,IAAI,EAAE,SAAR;AAAmB,IAAA,YAAY,EAAE;AAAjC,GAHqB,CAvBmB;AA4B1C,EAAA,UAAU,EAAE;AACV,IAAA,EAAE,EAAE;AACF,MAAA,QAAQ,EAAE;AADR,KADM;AAIV,IAAA,EAAE,EAAE;AACF,MAAA,QAAQ,EAAE;AADR,KAJM;AAOV,IAAA,EAAE,EAAE;AACF,MAAA,QAAQ,EAAE;AADR;AAPM;AA5B8B,C;ICE/B,YAAY,GAAG,aAAa,CAAC,YAAD,C;;IAE5B,QAAQ,GAAG,SAAX,QAAW,GAAA;AACtB,MAAM,WAAW,GAAG,UAAU,CAAC,YAAD,CAA9B;;AACA,MAAI,CAAC,WAAL,EAAkB;AAChB,WAAO,YAAP;AACD;;AACD,SAAO,WAAP;AACF,C;;ICVa,UAAU,GAAG,I;IACb,gBAAgB,GAAG,E;IACnB,cAAc,GAAG,QAAQ,CAAC,EAAT,KAAgB,KAAhB,GAAwB,EAAxB,GAA6B,C;IAC9C,eAAe,GAAG,QAAQ,CAAC,EAAT,KAAgB,KAAhB,GAAwB,CAAxB,GAA4B,C;IAE9C,YAAY,GAAG,UAAU,CAAC,MAAX,CAAkB;AAC5C,EAAA,KAAK,EAAE;AACL,IAAA,MAAM,EAAE,GADH;AAEL,IAAA,YAAY,EAAE,CAFT;AAGL,IAAA,OAAO,EAAE,CAHJ;AAIL,IAAA,QAAQ,EAAE,QAJL;AAKL,IAAA,WAAW,EAAE,MALR;AAML,IAAA,YAAY,EAAE;AAAE,MAAA,KAAK,EAAE,CAAT;AAAY,MAAA,MAAM,EAAE;AAApB,KANT;AAOL,IAAA,aAAa,EAAE,GAPV;AAQL,IAAA,YAAY,EAAE,CART;AASL,IAAA,SAAS,EAAE,CATN;AAUL,IAAA,QAAQ,EAAE;AAVL;AADqC,CAAlB,C;IAkBf,CAAC,GAAG,UAAU,CAAC,MAAX,CAAkB;AAIjC,EAAA,IAAI,EAAE;AACJ,IAAA,aAAa,EAAE;AADX,GAJ2B;AAOjC,cAAY;AACV,IAAA,aAAa,EAAE;AADL,GAPqB;AAUjC,sBAAoB;AAClB,IAAA,aAAa,EAAE;AADG,GAVa;AAajC,iBAAe;AACb,IAAA,aAAa,EAAE;AADF,GAbkB;AAgBjC,YAAU;AACR,IAAA,IAAI,EAAE;AADE,GAhBuB;AAmBjC,qBAAmB;AACjB,IAAA,cAAc,EAAE;AADC,GAnBc;AAsBjC,oBAAkB;AAChB,IAAA,cAAc,EAAE;AADA,GAtBe;AAyBjC,kBAAgB;AACd,IAAA,UAAU,EAAE;AADE,GAzBiB;AA4BjC,iBAAe;AACb,IAAA,SAAS,EAAE;AADE,GA5BkB;AAmCjC,cAAY;AACV,IAAA,eAAe,EAAE;AADP,GAnCqB;AAsCjC,cAAY;AACV,IAAA,cAAc,EAAE;AADN,GAtCqB;AAyCjC,cAAY;AACV,IAAA,iBAAiB,EAAE;AADT,GAzCqB;AA4CjC,gBAAc;AACZ,IAAA,iBAAiB,EAAE;AADP,GA5CmB;AA+CjC,cAAY;AACV,IAAA,gBAAgB,EAAE;AADR,GA/CqB;AAsDjC,UAAQ;AACN,IAAA,SAAS,EAAE;AADL,GAtDyB;AAyDjC,UAAQ;AACN,IAAA,SAAS,EAAE;AADL,GAzDyB;AA4DjC,UAAQ;AACN,IAAA,SAAS,EAAE;AADL,GA5DyB;AA+DjC,UAAQ;AACN,IAAA,YAAY,EAAE;AADR,GA/DyB;AAkEjC,UAAQ;AACN,IAAA,UAAU,EAAE,CADN;AAEN,IAAA,WAAW,EAAE;AAFP,GAlEyB;AAsEjC,SAAO;AACL,IAAA,OAAO,EAAE;AADJ,GAtE0B;AAyEjC,SAAO;AACL,IAAA,OAAO,EAAE;AADJ,GAzE0B;AA4EjC,UAAQ;AACN,IAAA,UAAU,EAAE;AADN,GA5EyB;AA+EjC,UAAQ;AACN,IAAA,eAAe,EAAE;AADX,GA/EyB;AAkFjC,UAAQ;AACN,IAAA,iBAAiB,EAAE;AADb,GAlFyB;AAqFjC,UAAQ;AACN,IAAA,aAAa,EAAE;AADT,GArFyB;AA4FjC,iBAAe;AACb,IAAA,SAAS,EAAE;AADE,GA5FkB;AAmGjC,EAAA,OAAO,EAAE;AACP,IAAA,YAAY,EAAE;AADP,GAnGwB;AAsGjC,kBAAgB;AACd,IAAA,YAAY,EAAE;AADA,GAtGiB;AA6GjC,SAAO;AACL,IAAA,MAAM,EAAE;AADH,GA7G0B;AAgHjC,UAAQ;AACN,IAAA,MAAM,EAAE;AADF,GAhHyB;AAmHjC,UAAQ;AACN,IAAA,MAAM,EAAE;AADF,GAnHyB;AA0HjC,UAAQ;AACN,IAAA,KAAK,EAAE;AADD,GA1HyB;AA6HjC,UAAQ;AACN,IAAA,KAAK,EAAE;AADD,GA7HyB;AAgIjC,UAAQ;AACN,IAAA,MAAM,EAAE;AADF,GAhIyB;AAuIjC,qBAAmB;AACjB,IAAA,QAAQ,EAAE;AADO,GAvIc;AA0IjC,EAAA,QAAQ,EAAE;AACR,IAAA,QAAQ,EAAE;AADF,GA1IuB;AA6IjC,EAAA,QAAQ,EACN,QAAQ,CAAC,EAAT,KAAgB,KAAhB,GACI;AACE,IAAA,QAAQ,EAAE;AADZ,GADJ,GAMI;AApJ2B,CAAlB,C;ICjBJ,SAAS,GAAmBA,cAAK,CAAC,I;IAElC,WAAW,GAAG,I;;SAEX,e,CAAgB,I,EAAuC,M,EAAa;AAApD,MAAA,IAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,IAAA,GAAA,IAA+B,IAA/B,EAAA;AAAqC;;AAAE,MAAA,MAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,MAAA,GAAA,IAAA;AAAa;;AAClF,MAAM,OAAO,GAAG,KAAK,CAAC,IAAD,CAArB;AACA,MAAM,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,WAAR,KAAwB,CAAzB,CAAL,CACV,IADU,CACL,CADK,EAEV,GAFU,CAEN,UAAC,CAAD,EAAI,CAAJ,EAAK;AACR,WAAO,OAAO,CAAC,IAAR,CAAa,CAAC,GAAG,CAAjB,EAAoB,MAApB,CAA2B,MAA3B,CAAP;AACD,GAJU,CAAb;AAKA,SAAO,IAAP;AACD;;SAEe,c,CACd,I,EACA,Y,EACA,M,EAAa;AAFb,MAAA,IAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,IAAA,GAAA,IAA+B,IAA/B,EAAA;AAAqC;;AACrC,MAAA,YAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,YAAA,GAAA,CAAA;AAAyB;;AACzB,MAAA,MAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,MAAA,GAAA,IAAA;AAAa;;AAEb,MAAM,OAAO,GAAG,KAAK,CAAC,IAAD,CAArB;AACA,MAAM,UAAU,GAAG,OAAO,CAAC,GAAR,EAAnB;AACA,MAAM,IAAI,GAAG,KAAK,CAAC,CAAD,CAAL,CACV,IADU,CACL,CADK,EAEV,GAFU,CAEN,UAAC,CAAD,EAAI,CAAJ,EAAK;AACR,WAAO,OAAO,CACX,GADI,CACA,CAAC,IAAI,UAAU,GAAG,YAAb,GAA4B,IAAI,UAAhC,GAA6C,UAAjD,CAAD,GAAgE,YADhE,EAC8E,KAD9E,EAEJ,MAFI,CAEG,MAFH,CAAP;AAGD,GANU,CAAb;AAOA,SAAO,IAAP;AACD;;SAEe,uB,CAAwB,I,EAAuC,M,EAAa;AAApD,MAAA,IAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,IAAA,GAAA,IAA+B,IAA/B,EAAA;AAAqC;;AAAE,MAAA,MAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,MAAA,GAAA,IAAA;AAAa;;AAC1F,MAAM,OAAO,GAAG,KAAK,CAAC,IAAD,CAAL,CAAY,MAAZ,CAAmB,MAAnB,CAAhB;AACA,MAAM,IAAI,GAAG,KAAK,CAAC,CAAD,CAAL,CACV,IADU,CACL,CADK,EAEV,GAFU,CAEN,UAAC,CAAD,EAAI,CAAJ,EAAK;AACR,WAAO,OAAO,CAAC,GAAR,CAAY,CAAZ,EAAe,KAAf,CAAP;AACD,GAJU,CAAb;AAKA,SAAO,IAAP;AACD;;SAEe,oB,CAAqB,I,EAAuC,M,EAAa;AAApD,MAAA,IAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,IAAA,GAAA,IAA+B,IAA/B,EAAA;AAAqC;;AAAE,MAAA,MAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,MAAA,GAAA,IAAA;AAAa;;AACvF,MAAM,OAAO,GAAG,KAAK,CAAC,IAAD,CAAL,CAAY,MAAZ,CAAmB,MAAnB,CAAhB;AACA,MAAM,IAAI,GAAG,KAAK,CAAC,CAAD,CAAL,CACV,IADU,CACL,CADK,EAEV,GAFU,CAEN,UAAC,CAAD,EAAI,CAAJ,EAAK;AACR,WAAO,OAAO,CAAC,GAAR,CAAY,CAAZ,EAAe,KAAf,CAAP;AACD,GAJU,CAAb;AAKA,SAAO,IAAP;AACD;;IAEY,KAAK,GAAG,CACnB,CADmB,EAChB,CADgB,EACb,CADa,EACV,CADU,EACP,CADO,EACJ,CADI,EACD,CADC,EACE,CADF,EACK,CADL,EACQ,CADR,EACW,EADX,EACe,EADf,EACmB,EADnB,EACuB,EADvB,EAC2B,EAD3B,EAC+B,EAD/B,EACmC,EADnC,EACuC,EADvC,EAC2C,EAD3C,EAC+C,EAD/C,EACmD,EADnD,EACuD,EADvD,EAC2D,EAD3D,EAC+D,EAD/D,C;;SAIL,U,CAAW,I,EAAc,I,EAAY;AAAZ,MAAA,IAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,IAAA,GAAA,KAAA;AAAY;;AACnD,MAAI,IAAJ,EAAU;AACR,QAAI,IAAI,KAAK,CAAb,EAAgB;AACd,aAAO,EAAP;AACD;;AACD,QAAI,IAAI,KAAK,EAAb,EAAiB;AACf,aAAO,OAAP;AACD;;AACD,QAAI,IAAI,GAAG,EAAX,EAAe;AACb,aAAO,GAAA,MAAA,CAAG,IAAI,GAAG,EAAV,EAAY,KAAZ,CAAP;AACD;;AACD,WAAO,GAAA,MAAA,CAAG,IAAH,EAAO,KAAP,CAAP;AACD;;AACD,SAAO,GAAA,MAAA,CAAG,IAAH,EAAO,KAAP,CAAP;AACD;;SAEe,O,CAAQ,I,EAAiB;AACvC,MAAM,KAAK,GAAG,KAAK,EAAnB;AACA,SAAO,KAAK,CAAC,MAAN,CAAa,IAAb,EAAmB,KAAnB,CAAP;AACD;;SAEe,mB,CAAoB,I,EAAiB;AACnD,SAAQ,OAAO,IAAI,CAAC,IAAL,KAAc,EAAd,GAAmB,IAAI,CAAC,MAAL,EAA1B,CAAD,GAA6C,WAApD;AACD;;SAEe,c,GAAc;AAC5B,MAAM,KAAK,GAAG,KAAK,EAAnB;AACA,SAAO,KAAK,CAAC,IAAN,CAAW,KAAK,GAAG,OAAR,CAAgB,KAAhB,CAAX,EAAmC,QAAnC,CAAP;AACD;;SAEe,S,CAAU,I,EAAY,O,EAA4B;AAChE,MAAI,IAAI,KAAK,OAAb,EAAsB;AACpB,QAAI,CAAC,OAAL,EAAc;AACZ,YAAM,IAAI,KAAJ,CAAU,gDAAV,CAAN;AACD;;AACD,QAAI,OAAO,YAAY,IAAvB,EAA6B;AAC3B,MAAA,OAAO,GAAG,KAAK,CAAC,OAAD,CAAf;AACD;;AACD,WAAO,OAAO,CAAC,WAAR,KAAwB,OAAO,CAAC,IAAR,EAAxB,GAAyC,CAAhD;AACD;;AACD,UAAQ,IAAR;AACE,SAAK,KAAL;AACE,aAAO,CAAP;;AACF,SAAK,OAAL;AACE,aAAO,CAAP;;AACF,SAAK,MAAL;AACA,SAAK,QAAL;AACE,aAAO,CAAP;;AACF;AACE,YAAM,IAAI,KAAJ,CAAU,gBAAV,CAAN;AATJ;AAWD;;SAEe,c,CAAe,K,EAAa,G,EAAW,M,EAAc;AACnE,SAAO,GAAA,MAAA,CAAG,KAAK,CAAC,KAAD,CAAL,CAAa,MAAb,CAAoB,MAApB,CAAH,EAA8B,KAA9B,EAA8B,MAA9B,CAAoC,KAAK,CAAC,GAAD,CAAL,CAAW,MAAX,CAAkB,MAAlB,CAApC,CAAP;AACD;;SAEe,a,CAAc,K,EAAa,G,EAAS;AAClD,MAAM,MAAM,GAAG,KAAK,CAAC,KAAD,CAApB;;AACA,MAAM,IAAI,GAAG,KAAK,CAAC,GAAD,CAAlB;;AAEA,SAAO,MAAM,CAAC,IAAP,OAAkB,CAAlB,IAAuB,MAAM,CAAC,MAAP,OAAoB,CAA3C,IAAgD,IAAI,CAAC,IAAL,OAAgB,CAAhE,IAAqE,IAAI,CAAC,MAAL,OAAkB,CAA9F;AACD;;SAEe,uB,CACd,K,EACA,S,EAA+B;AAE/B,SAAO,SAAS,CAAC,MAAV,CACL,UAAC,CAAD,EAAE;AACA,WAAA,KAAK,CAAC,KAAK,CAAC,KAAP,CAAL,CAAmB,SAAnB,CAA6B,CAAC,CAAC,KAA/B,EAAsC,CAAC,CAAC,GAAxC,EAA6C,QAA7C,EAAuD,IAAvD,KACA,KAAK,CAAC,CAAC,CAAC,KAAH,CAAL,CAAe,SAAf,CAAyB,KAAK,CAAC,KAA/B,EAAsC,KAAK,CAAC,GAA5C,EAAiD,QAAjD,EAA2D,IAA3D,CADA;AACgE,GAH7D,EAIL,MAJF;AAKD;;SAEe,e,CAAgB,K,EAA2B,S,EAA+B;AACxF,MAAM,MAAM,GAAG,SAAS,CACrB,MADY,CAEX,UAAC,CAAD,EAAE;AACA,WAAA,KAAK,CAAC,KAAK,CAAC,KAAP,CAAL,CAAmB,SAAnB,CAA6B,CAAC,CAAC,KAA/B,EAAsC,CAAC,CAAC,GAAxC,EAA6C,QAA7C,EAAuD,IAAvD,KACA,KAAK,CAAC,CAAC,CAAC,KAAH,CAAL,CAAe,SAAf,CAAyB,KAAK,CAAC,KAA/B,EAAsC,KAAK,CAAC,GAA5C,EAAiD,QAAjD,EAA2D,IAA3D,CADA;AACgE,GAJvD,EAMZ,IANY,CAMP,UAAC,CAAD,EAAI,CAAJ,EAAK;AACT,QAAI,KAAK,CAAC,CAAC,CAAC,KAAH,CAAL,CAAe,MAAf,CAAsB,CAAC,CAAC,KAAxB,CAAJ,EAAoC;AAClC,aAAO,KAAK,CAAC,CAAC,CAAC,KAAH,CAAL,CAAe,IAAf,CAAoB,CAAC,CAAC,GAAtB,IAA6B,KAAK,CAAC,CAAC,CAAC,KAAH,CAAL,CAAe,IAAf,CAAoB,CAAC,CAAC,GAAtB,CAA7B,GAA0D,CAAC,CAA3D,GAA+D,CAAtE;AACD,KAFD,MAEO;AACL,aAAO,KAAK,CAAC,CAAC,CAAC,KAAH,CAAL,CAAe,QAAf,CAAwB,CAAC,CAAC,KAA1B,IAAmC,CAAC,CAApC,GAAwC,CAA/C;AACD;AACF,GAZY,CAAf;AAaA,MAAM,KAAK,GAAG,MAAM,CAAC,OAAP,CAAe,KAAf,CAAd;AACA,SAAO,KAAK,KAAK,CAAC,CAAX,GAAe,CAAf,GAAmB,KAA1B;AACD;;SAEe,2B,CACd,a,EACA,a,EACA,Q,EAAmB;AAEnB,MAAI,YAAY,GAAG,EAAnB;AACA,MAAM,MAAM,GAAG,aAAf;AACA,MAAM,KAAK,GAAG,aAAa,GAAG,MAA9B;AACA,MAAM,MAAM,GAAG,MAAM,aAArB;AACA,MAAM,QAAQ,GAAG,QAAQ,CAAC,GAAT,CAAa,UAAC,CAAD,EAAE;AAAK,WAAA,CAAC,CAAC,IAAF;AAAM,GAA1B,CAAjB;AACA,EAAA,YAAY,GAAG;AACb,IAAA,KAAK,EAAE,KAAK,GAAG,eADF;AAEb,IAAA,GAAG,EAAE,eAFQ;AAGb,IAAA,eAAe,EAAE,QAAQ,CAAC,aAAa,GAAG,QAAQ,CAAC,MAA1B,CAAR,IAA6C,QAAQ,CAAC,CAAD,CAHzD;AAIb,IAAA,MAAM,EAAA;AAJO,GAAf;AAMA,SAAO,YAAP;AACD;;SAEe,wB,CACd,I,EACA,Y,EACA,U,EACA,M,EAAa;AAHb,MAAA,IAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,IAAA,GAAA,IAA+B,IAA/B,EAAA;AAAqC;;AACrC,MAAA,YAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,YAAA,GAAA,CAAA;AAAyB;;AACzB,MAAA,UAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,UAAA,GAAA,CAAA;AAAuB;;AACvB,MAAA,MAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,MAAA,GAAA,IAAA;AAAa;;AAEb,MAAM,OAAO,GAAG,KAAK,CAAC,IAAD,CAArB;AACA,MAAM,UAAU,GAAG,OAAO,CAAC,GAAR,EAAnB;AACA,MAAM,IAAI,GAAG,KAAK,CAAC,aAAa,CAAC,YAAD,EAAe,UAAf,CAAd,CAAL,CACV,IADU,CACL,CADK,EAEV,GAFU,CAEN,UAAC,CAAD,EAAI,CAAJ,EAAK;AACR,WAAO,OAAO,CAAC,GAAR,CAAY,CAAC,GAAG,UAAJ,GAAiB,YAA7B,EAA2C,KAA3C,EAAkD,MAAlD,CAAyD,MAAzD,CAAP;AACD,GAJU,CAAb;AAKA,SAAO,IAAP;AACD;;AAGD,SAAS,aAAT,CAAuB,YAAvB,EAA8C,UAA9C,EAAiE;AAE/D,MAAI,UAAU,GAAG,YAAjB,EAA+B;AAC7B,QAAI,SAAS,GAAG,CAAhB;AACA,QAAI,CAAC,GAAG,YAAR;;AACA,WAAO,CAAC,KAAK,UAAb,EAAyB;AACvB,QAAE,CAAF;AACA,QAAE,SAAF;;AACA,UAAI,CAAC,GAAG,CAAR,EAAW;AACT,QAAA,CAAC,GAAG,CAAJ;AACD;;AAED,UAAI,SAAS,GAAG,CAAhB,EAAmB;AACjB;AACD;AACF;;AACD,WAAO,SAAP;AACD;;AAED,MAAI,UAAU,GAAG,YAAjB,EAA+B;AAC7B,WAAO,UAAU,GAAG,YAAb,GAA4B,CAAnC;AACD;;AAED,SAAO,CAAP;AACD;;SAEe,oB,CACd,K,EACA,I,EACA,Y,EACA,a,EAAqB;AAErB,MAAM,QAAQ,GAAG,aAAa,GAAG,CAAjC;AAGA,MAAM,aAAa,GAAG,KAAK,CAAC,QAAN,CAAe,KAAK,CAAC,KAAK,CAAC,GAAP,CAAL,CAAiB,IAAjB,CAAsB,KAAK,CAAC,KAAK,CAAC,KAAP,CAA3B,CAAf,EAA0D,IAA1D,KAAmE,CAAzF;AACA,MAAM,aAAa,GAAG,KAAK,CAAC,QAAN,CAAe,KAAK,CAAC,KAAK,CAAC,GAAP,CAAL,CAAiB,IAAjB,CAAsB,IAAtB,CAAf,EAA4C,IAA5C,KAAqD,CAA3E;AACA,MAAM,YAAY,GAAG,IAAI,YAAzB;AACA,MAAM,cAAc,GAAG,aAAa,GAAG,CAAvC;AAEA,MAAM,iBAAiB,GACrB,aAAa,GAAG,YAAhB,GACI,YADJ,GAEI,YAAY,KAAK,CAAjB,IAAsB,aAAa,GAAG,aAAtC,GACA,aADA,GAEA,aALN;AAMA,MAAM,mBAAmB,GACvB,cAAc,KACb,IAAI,CAAC,MAAL,CAAY,KAAK,CAAC,KAAlB,EAAyB,KAAzB,KACE,YAAY,KAAK,CAAjB,IAAsB,IAAI,CAAC,OAAL,CAAa,KAAK,CAAC,KAAnB,CADxB,IAEC,IAAI,CAAC,GAAL,CAAS,MAAT,MAAqB,CAHT,CADhB;AAMA,MAAM,UAAU,GAAG,QAAQ,GAAG,iBAAX,GAA+B,CAAlD;AAEA,SAAO;AAAE,IAAA,UAAU,EAAA,UAAZ;AAAc,IAAA,cAAc,EAAA,cAA5B;AAA8B,IAAA,mBAAmB,EAAA,mBAAjD;AAAmD,IAAA,iBAAiB,EAAA;AAApE,GAAP;AACD;;SAEe,M,CAAO,C,EAAS;AAC9B,SAAO,CAAC,GAAG,CAAJ,KAAU,CAAjB;AACD;;SAEe,a,CAAc,G,EAA0B;AACtD,SAAO,CAAC,CAAC,MAAM,CAAC,IAAP,CAAY,GAAZ,EAAiB,MAA1B;AACD;;SAEe,gB,CAAiB,M,EAAc;AAC7C,SAAO,CAAC,CAAC,MAAM,CAAC,MAAhB;AACF;;SChQgB,M,CAAO,O,EAAgB;AAC/B,MAAA,EAAA,GAAgBA,cAAK,CAAC,QAANA,CAAe,KAAK,EAApBA,CAAhB;AAAA,MAAC,GAAG,GAAA,EAAA,CAAA,CAAA,CAAJ;AAAA,MAAM,MAAM,GAAA,EAAA,CAAA,CAAA,CAAZ;;AAENA,EAAAA,cAAK,CAAC,SAANA,CAAgB,YAAA;AACd,QAAI,CAAC,OAAL,EAAc;AACZ,aAAO,YAAA,CAAQ,CAAf;AACD;;AACD,QAAM,GAAG,GAAG,WAAW,CAAC,YAAA;AAAM,aAAA,MAAM,CAAC,KAAK,EAAN,CAAN;AAAe,KAAtB,EAAwB,KAAK,IAA7B,CAAvB;AACA,WAAO,YAAA;AAAM,aAAA,aAAa,CAAC,GAAD,CAAb;AAAkB,KAA/B;AACD,GANDA,EAMG,CAAC,OAAD,CANHA;AAQA,SAAO;AACL,IAAA,GAAG,EAAA;AADE,GAAP;AAGF;;ACbA,IAAM,eAAe,GAAG,EAAxB;;SAEgB,e,CAAgB,E,EAI/B;MAHC,iBAAiB,GAAA,EAAA,CAAA,iB;;AAIX,MAAA,EAAA,GAA8BA,cAAK,CAAC,QAANA,CAAe,KAAfA,CAA9B;AAAA,MAAC,UAAU,GAAA,EAAA,CAAA,CAAA,CAAX;AAAA,MAAa,aAAa,GAAA,EAAA,CAAA,CAAA,CAA1B;;AAEN,MAAM,YAAY,GAAGA,cAAK,CAAC,OAANA,CACnB,YAAA;AACE,WAAA,YAAY,CAAC,MAAb,CAAoB;AAElB,MAAA,2BAA2B,EAAE,qCAAC,CAAD,EAAI,EAAJ,EAAc;YAAR,EAAE,GAAA,EAAA,CAAA,E;YAAE,EAAE,GAAA,EAAA,CAAA,E;AACvC,eAAO,EAAE,GAAG,CAAL,IAAU,EAAE,GAAG,CAAC,CAAhB,IAAqB,EAAE,GAAG,CAA1B,IAA+B,EAAE,GAAG,CAAC,CAA5C;AACD,OAJiB;AAKlB,MAAA,kBAAkB,EAAE,4BAAC,CAAD,EAAI,EAAJ,EAAc;YAAR,EAAE,GAAA,EAAA,CAAA,E;YAAE,EAAE,GAAA,EAAA,CAAA,E;;AAC9B,YAAI,EAAE,GAAG,CAAC,CAAD,GAAK,eAAV,IAA6B,eAAe,GAAG,EAA/C,IAAqD,UAAzD,EAAqE;AACnE;AACD;;AACD,YAAI,EAAE,GAAG,CAAC,CAAD,GAAK,eAAd,EAA+B;AAC7B,UAAA,iBAAiB,IAAI,iBAAiB,CAAC,MAAD,CAAtC;AACA,UAAA,aAAa,CAAC,IAAD,CAAb;AACA;AACD;;AACD,YAAI,EAAE,GAAG,eAAT,EAA0B;AACxB,UAAA,iBAAiB,IAAI,iBAAiB,CAAC,OAAD,CAAtC;AACA,UAAA,aAAa,CAAC,IAAD,CAAb;AACA;AACD;AACF,OAnBiB;AAoBlB,MAAA,iBAAiB,EAAE,6BAAA;AACjB,QAAA,aAAa,CAAC,KAAD,CAAb;AACD;AAtBiB,KAApB,CAAA;AAuBE,GAzBeA,EA0BnB,CAAC,UAAD,EAAa,iBAAb,CA1BmBA,CAArB;AA6BA,SAAO,YAAP;AACF;;SC7BgB,gC,CAA+D,E,EAKpC;MAJzC,KAAK,GAAA,EAAA,CAAA,K;MACL,cAAc,GAAA,EAAA,CAAA,c;MACd,EAAA,GAAA,EAAA,CAAA,c;MAAA,cAAc,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,EAAH,GAAK,E;MACnB,YAAY,GAAA,EAAA,CAAA,Y;AAEZ,MAAM,aAAa,GAAGA,cAAK,CAAC,OAANA,CACpB,YAAA;AAAM,WAAC,OAAO,cAAP,KAA0B,UAA1B,GAAuC,cAAvC,GAAwD,YAAA;AAAM,aAAA,cAAA;AAAc,KAA7E;AAA8E,GADhEA,EAEpB,CAAC,cAAD,CAFoBA,CAAtB;AAKA,MAAM,YAAY,GAAGA,cAAK,CAAC,OAANA,CACnB,YAAA;AAAM,WAAA,OAAA,CAAA,OAAA,CAAA,EAAA,EACD,KADC,CAAA,EACI;AACR,MAAA,KAAK,EAAE,KAAK,CAAC,KAAK,CAAC,KAAP,CAAL,CAAmB,MAAnB,EADC;AAER,MAAA,GAAG,EAAE,KAAK,CAAC,KAAK,CAAC,GAAP,CAAL,CAAiB,MAAjB;AAFG,KADJ,CAAA;AAIJ,GALiBA,EAMnB,CAAC,KAAD,CANmBA,CAArB;;AASA,MAAM,QAAQ,GAAGA,cAAK,CAAC,WAANA,CAAkB,YAAA;AACjC,IAAA,YAAY,IAAI,YAAY,CAAC,YAAD,CAA5B;AACD,GAFgBA,EAEd,CAAC,YAAD,EAAe,YAAf,CAFcA,CAAjB;;AAIA,MAAM,qBAAqB,GAAkC;AAC3D,IAAA,YAAY,EAAE,EAD6C;AAE3D,IAAA,GAAG,EAAE,KAAK,CAAC,KAAN,CAAY,QAAZ,EAFsD;AAG3D,IAAA,KAAK,EAAA,aAAA,CAAA,aAAA,CAAA,CAAG,YAAY,CAAC,KAAhB,CAAA,EAA0B,cAA1B,EAAwC,IAAxC,CAAA,EAAwC,CAAE,aAAa,CAAC,YAAD,CAAf,CAAxC,CAHsD;AAI3D,IAAA,OAAO,EAAE,QAJkD;AAK3D,IAAA,QAAQ,EAAE,CAAC;AALgD,GAA7D;AAQA,SAAO,qBAAP;AACF;;SC/BgB,4B,CAA2D,E,EAMpC;MALrC,qBAAqB,GAAA,EAAA,CAAA,qB;MACrB,KAAK,GAAA,EAAA,CAAA,K;MACL,EAAA,GAAA,EAAA,CAAA,Q;MAAA,QAAQ,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,IAAH,GAAO,E;MACf,SAAS,GAAA,EAAA,CAAA,S;MACT,IAAI,GAAA,EAAA,CAAA,I;AAEJ,MAAM,KAAK,GAAG,QAAQ,EAAtB;AACA,MAAM,cAAc,GAAG;AAAE,IAAA,QAAQ,EAAE,KAAK,CAAC,UAAN,CAAiB,EAAjB,CAAoB,QAAhC;AAA0C,IAAA,KAAK,EAAE;AAAjD,GAAvB;AACA,MAAM,eAAe,GAAG;AAAE,IAAA,QAAQ,EAAE,KAAK,CAAC,UAAN,CAAiB,EAAjB,CAAoB,QAAhC;AAA0C,IAAA,KAAK,EAAE;AAAjD,GAAxB;AAEA,SACE,KAAA,CAAA,aAAA,CAAC,gBAAD,EAAiB,OAAA,CAAA,EAAA,EAAK,qBAAL,CAAjB,EACG,KAAK,CAAC,KAAK,CAAC,GAAP,CAAL,CAAiB,IAAjB,CAAsB,KAAK,CAAC,KAA5B,EAAmC,QAAnC,IAA+C,EAA/C,IAAqD,QAArD,GACC,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AAAC,IAAA,KAAK,EAAE;AAAR,GAAL,EACG,KAAK,CAAC,KADT,E,GAAA,EAEE,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AAAC,IAAA,KAAK,EAAE;AAAR,GAAL,EACG,KAAK,CAAC,KAAK,CAAC,KAAP,CAAL,CAAmB,MAAnB,CAA0B,IAAI,GAAG,SAAH,GAAe,OAA7C,CADH,CAFF,CADD,GAQC,KAAA,CAAA,aAAA,CAAA,KAAA,CAAA,QAAA,EAAA,IAAA,EACE,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AAAC,IAAA,KAAK,EAAE;AAAR,GAAL,EAA+B,KAAK,CAAC,KAArC,CADF,EAEG,QAAQ,IACP,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AAAC,IAAA,KAAK,EAAE;AAAR,GAAL,EACG,cAAc,CAAC,KAAK,CAAC,KAAP,EAAc,KAAK,CAAC,GAApB,EAAyB,IAAI,GAAG,QAAH,GAAc,OAA3C,CADjB,CAHJ,EAOG,KAAK,CAAC,QAAN,IAAkB,KAAK,CAAC,QAP3B,CATJ,CADF;AAsBF;;ACvCA,IAAM,yBAAyB,GAAG,SAA5B,yBAA4B,CAAC,KAAD,EAAc,GAAd,EAAuB;AACvD,MAAM,cAAc,GAAG,OAAO,IAAI,WAAX,IAA0B,KAAK,CAAC,GAAD,CAAL,CAAW,IAAX,CAAgB,KAAhB,EAAuB,QAAvB,CAAjD;AACA,MAAM,WAAW,GAAG,mBAAmB,CAAC,KAAK,CAAC,KAAD,CAAN,CAAvC;AACA,SAAO;AACL,IAAA,MAAM,EAAE,GAAA,MAAA,CAAG,cAAH,EAAiB,GAAjB,CADH;AAEL,IAAA,GAAG,EAAE,GAAA,MAAA,CAAG,WAAH,EAAc,GAAd;AAFA,GAAP;AAID,CAPD;;AAqBA,SAAS,cAAT,CAAsD,EAAtD,EAUwB;MATtB,KAAK,GAAA,EAAA,CAAA,K;MACL,YAAY,GAAA,EAAA,CAAA,Y;MACZ,cAAc,GAAA,EAAA,CAAA,c;MACd,QAAQ,GAAA,EAAA,CAAA,Q;MACR,EAAA,GAAA,EAAA,CAAA,U;MAAA,UAAU,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,CAAH,GAAI,E;MACd,EAAA,GAAA,EAAA,CAAA,U;MAAA,UAAU,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,CAAH,GAAI,E;MACd,EAAA,GAAA,EAAA,CAAA,a;MAAA,aAAa,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,cAAH,GAAiB,E;MAC9B,WAAW,GAAA,EAAA,CAAA,W;MACX,IAAI,GAAA,EAAA,CAAA,I;AAEJ,MAAM,KAAK,GAAG,QAAQ,EAAtB;AAEA,MAAM,QAAQ,GAAG,KAAK,CAAC,OAAN,CACf,YAAA;AAAM,WAAA,aAAA,CAAA,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAA,EAA2B,KAAK,CAAC,qBAAjC,CAAA;AAAuD,GAD9C,EAEf,CAAC,KAAD,CAFe,CAAjB;AAKA,MAAM,qBAAqB,GAAG,gCAAgC,CAAC;AAC7D,IAAA,KAAK,EAAA,KADwD;AAE7D,IAAA,cAAc,EAAA,cAF+C;AAG7D,IAAA,YAAY,EAAA,YAHiD;AAI7D,IAAA,cAAc,EAAE,CACd,yBAAyB,CAAC,KAAK,CAAC,KAAP,EAAc,KAAK,CAAC,GAApB,CADX,EAEd,2BAA2B,CAAC,UAAD,EAAa,aAAb,EAA4B,QAA5B,CAFb,EAGd,CAAC,CAAC,UAAD,CAHa,EAId,CAAC,CAAC,MAAD,CAJa,EAKd,CAAC,CAAC,MAAD,CALa;AAJ6C,GAAD,CAA9D;AAaA,MAAM,SAAS,GAAG,KAAK,CAAC,OAAN,CAAc,YAAA;AAC9B,QAAM,QAAQ,GAAG,QAAQ,CAAC,GAAT,CAAa,UAAC,CAAD,EAAE;AAAK,aAAA,CAAC,CAAC,YAAF;AAAc,KAAlC,CAAjB;AACA,WAAO,QAAQ,CAAC,UAAU,GAAG,QAAQ,CAAC,MAAvB,CAAR,IAA0C,QAAQ,CAAC,CAAD,CAAzD;AACD,GAHiB,EAGf,CAAC,UAAD,EAAa,QAAb,CAHe,CAAlB;;AAKA,MAAI,WAAJ,EAAiB;AACf,WAAO,WAAW,CAAC,KAAD,EAAQ,qBAAR,CAAlB;AACD;;AAED,SACE,KAAA,CAAA,aAAA,CAAC,4BAAD,EAA6B;AAC3B,IAAA,KAAK,EAAE,KADoB;AAE3B,IAAA,QAAQ,EAAE,QAFiB;AAG3B,IAAA,IAAI,EAAE,IAHqB;AAI3B,IAAA,qBAAqB,EAAE,qBAJI;AAK3B,IAAA,SAAS,EAAE;AALgB,GAA7B,CADF;AASD;;IAEY,aAAa,GAAG,SAAS,CAAC,cAAD,C;;AClE/B,IAAM,aAAa,GAAG,SAAhB,aAAgB,CAAC,EAAD,EAA+D;MAA5D,UAAU,GAAA,EAAA,CAAA,U;MAAE,SAAO,GAAA,EAAA,CAAA,O;MAAE,IAAI,GAAA,EAAA,CAAA,I;MAAE,IAAI,GAAA,EAAA,CAAA,I;MAAE,KAAK,GAAA,EAAA,CAAA,K;AACpE,MAAM,KAAK,GAAG,QAAQ,EAAtB;AAEA,MAAM,UAAU,GAAG,KAAK,CAAC,OAAN,CAAc,UAAjC;AACA,MAAM,SAAS,GAAG,KAAK,CAAC,OAAN,CAAc,SAAhC;AAEA,SACE,KAAA,CAAA,aAAA,CAAC,wBAAD,EAAyB;AAAC,IAAA,OAAO,EAAE,mBAAA;AAAM,aAAA,SAAO,CAAC,IAAI,CAAC,IAAL,CAAU,IAAV,EAAgB,MAAhB,CAAuB,CAAvB,CAAD,CAAP;AAAkC;AAAlD,GAAzB,EACE,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AACH,IAAA,KAAK,EAAE,CACL,CAAC,CAAC,UAAD,CADI,EAEL,CAAC,CAAC,UAAD,CAFI,EAGL;AAAE,MAAA,WAAW,EAAE,KAAK,CAAC,OAAN,CAAc,IAAd,CAAmB,KAAnB;AAAf,KAHK,EAIL;AAAE,MAAA,MAAM,EAAE;AAAV,KAJK,EAKL;AAAE,MAAA,eAAe,EAAE,MAAM,CAAC,KAAD,CAAN,GAAgB,UAAhB,GAA6B;AAAhD,KALK;AADJ,GAAL,CADF,CADF;AAaD,CAnBM;;ACAP,IAAM,gBAAgB,GAAG,SAAnB,gBAAmB,CAAC,EAAD,EAMF;MALrB,UAAU,GAAA,EAAA,CAAA,U;MACV,IAAI,GAAA,EAAA,CAAA,I;MACJ,IAAI,GAAA,EAAA,CAAA,I;MACJ,KAAK,GAAA,EAAA,CAAA,K;MACL,EAAA,GAAA,EAAA,CAAA,S;MAAA,SAAS,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,EAAH,GAAK,E;AAEd,MAAM,KAAK,GAAG,QAAQ,EAAtB;AACA,MAAM,SAAS,GAAG,KAAK,CAAC,OAAN,CAChB,YAAA;AAAM,WAAC;AAAE,MAAA,KAAK,EAAE,KAAK,CAAC,OAAN,CAAc,IAAd,CAAmB,GAAnB,CAAT;AAAkC,MAAA,QAAQ,EAAE,KAAK,CAAC,UAAN,CAAiB,EAAjB,CAAoB;AAAhE,KAAD;AAA4E,GADlE,EAEhB,CAAC,KAAD,CAFgB,CAAlB;AAIA,MAAM,UAAU,GAAG,KAAK,CAAC,OAAN,CAAc,UAAjC;AACA,MAAM,SAAS,GAAG,KAAK,CAAC,OAAN,CAAc,SAAhC;AAEA,SACE,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AAAC,IAAA,KAAK,EAAE;AAAE,MAAA,MAAM,EAAE,UAAV;AAAsB,MAAA,eAAe,EAAE,MAAM,CAAC,KAAD,CAAN,GAAgB,UAAhB,GAA6B;AAApE;AAAR,GAAL,EACE,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AAAC,IAAA,KAAK,EAAE,CAAC,aAAa,CAAC,SAAD,CAAb,GAA2B,SAA3B,GAAuC,SAAxC,EAAmD,CAAC,CAAC,aAAD,CAApD;AAAR,GAAL,EACG,UAAU,CAAC,IAAD,EAAO,IAAP,CADb,CADF,CADF;AAOD,CAtBD;;AAwBO,IAAM,eAAe,GAAG,KAAK,CAAC,IAAN,CAAW,gBAAX,EAA6B,YAAA;AAAM,SAAA,IAAA;AAAI,CAAvC,CAAxB;ACdP,IAAM,MAAM,GAAG,UAAU,CAAC,MAAX,CAAkB;AAC/B,EAAA,YAAY,EAAE;AACZ,IAAA,QAAQ,EAAE,UADE;AAEZ,IAAA,MAAM,EAAE,KAFI;AAGZ,IAAA,MAAM,EAAE,CAHI;AAIZ,IAAA,KAAK,EAAE;AAJK;AADiB,CAAlB,CAAf;;AA8BA,SAAS,aAAT,CAAqD,EAArD,EAmBuB;MAlBrB,eAAe,GAAA,EAAA,CAAA,e;MACf,UAAU,GAAA,EAAA,CAAA,U;MACV,SAAS,GAAA,EAAA,CAAA,S;MACT,KAAK,GAAA,EAAA,CAAA,K;MACL,WAAW,GAAA,EAAA,CAAA,W;MACX,MAAM,GAAA,EAAA,CAAA,M;MACN,YAAY,GAAA,EAAA,CAAA,Y;MACZ,cAAc,GAAA,EAAA,CAAA,c;MACd,IAAI,GAAA,EAAA,CAAA,I;MACJ,QAAQ,GAAA,EAAA,CAAA,Q;MACR,mBAAmB,GAAA,EAAA,CAAA,mB;MACnB,iBAAiB,GAAA,EAAA,CAAA,iB;MACjB,gBAAgB,GAAA,EAAA,CAAA,gB;MAChB,aAAa,GAAA,EAAA,CAAA,a;MACb,WAAW,GAAA,EAAA,CAAA,W;MACX,EAAA,GAAA,EAAA,CAAA,e;MAAA,eAAe,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,IAAH,GAAO,E;MACtB,EAAA,GAAA,EAAA,CAAA,oB;MAAA,oBAAoB,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,EAAH,GAAK,E;MACzB,EAAA,GAAA,EAAA,CAAA,S;MAAA,SAAS,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,EAAH,GAAK,E;AAEd,MAAM,UAAU,GAAG,KAAK,CAAC,MAAN,CAAyB,IAAzB,CAAnB;AACQ,MAAA,GAAG,GAAK,MAAM,CAAC,CAAC,gBAAF,CAAN,CAAL,GAAH;AAER,EAAA,KAAK,CAAC,SAAN,CAAgB,YAAA;AACd,QAAI,UAAU,CAAC,OAAX,IAAsB,mBAAtB,IAA6C,QAAQ,CAAC,EAAT,KAAgB,KAAjE,EAAwE;AAGtE,MAAA,UAAU,CACR,YAAA;AACE,YAAI,UAAU,IAAI,UAAU,CAAC,OAA7B,EAAsC;AACpC,UAAA,UAAU,CAAC,OAAX,CAAmB,QAAnB,CAA4B;AAC1B,YAAA,CAAC,EAAG,UAAU,GAAG,mBAAd,GAAqC,EADd;AAE1B,YAAA,QAAQ,EAAE;AAFgB,WAA5B;AAID;AACF,OARO,EASR,QAAQ,CAAC,EAAT,KAAgB,KAAhB,GAAwB,CAAxB,GAA4B,EATpB,CAAV;AAWD;AACF,GAhBD,EAgBG,CAAC,UAAD,EAAa,mBAAb,EAAkC,UAAlC,CAhBH;AAkBA,MAAM,YAAY,GAAG,eAAe,CAAC;AACnC,IAAA,iBAAiB,EAAA;AADkB,GAAD,CAApC;;AAIA,MAAM,YAAY,GAAG,KAAK,CAAC,WAAN,CACnB,UAAC,IAAD,EAAkB;AAChB,IAAA,WAAW,IAAI,WAAW,CAAC,IAAI,CAAC,MAAL,EAAD,CAA1B;AACD,GAHkB,EAInB,CAAC,WAAD,CAJmB,CAArB;;AAOA,MAAM,kBAAkB,GAAG,SAArB,kBAAqB,CAAC,KAAD,EAAS;AAAK,WACvC,KAAA,CAAA,aAAA,CAAC,aAAD,EAAc;AACZ,MAAA,GAAG,EAAE,GAAA,MAAA,CAAG,KAAK,CAAC,KAAT,EAAc,MAAd,CAAiB,KAAK,CAAC,KAAvB,EAA4B,MAA5B,CAA+B,KAAK,CAAC,GAArC,CADO;AAEZ,MAAA,KAAK,EAAE,KAFK;AAGZ,MAAA,YAAY,EAAE,YAHF;AAIZ,MAAA,cAAc,EAAE,cAJJ;AAKZ,MAAA,QAAQ,EAAE,QALE;AAMZ,MAAA,UAAU,EAAE,uBAAuB,CAAC,KAAD,EAAQ,MAAR,CANvB;AAOZ,MAAA,UAAU,EAAE,eAAe,CAAC,KAAD,EAAQ,MAAR,CAPf;AAQZ,MAAA,aAAa,EAAE,aARH;AASZ,MAAA,WAAW,EAAE,WATD;AAUZ,MAAA,IAAI,EAAE;AAVM,KAAd,CADuC;AAaxC,GAbD;;AAeA,MAAM,KAAK,GAAG,QAAQ,EAAtB;AAEA,SACE,KAAA,CAAA,aAAA,CAAC,KAAK,CAAC,QAAP,EAAe,IAAf,EACG,eAAe,IAAI,IAAnB,GAA0B,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AAAC,IAAA,KAAK,EAAE;AAAR,GAAL,EAAoC,eAApC,CAA1B,GAAwF,IAD3F,EAEE,KAAA,CAAA,aAAA,CAAC,UAAD,EAAW,OAAA,CAAA;AACT,IAAA,KAAK,EAAE,CACL;AACE,MAAA,MAAM,EAAE,eAAe,GAAG,UAAU,GAAG;AADzC,KADK,EAIL,KAJK,CADE;AAOT,IAAA,GAAG,EAAE,UAPI;AAQT,IAAA,mBAAmB,EAAE;AARZ,GAAA,EASJ,QAAQ,CAAC,EAAT,KAAgB,KAAhB,GAAwB,YAAY,CAAC,WAArC,GAAmD,EAT/C,EASiD;AAC1D,IAAA,4BAA4B,EAAE,KAD4B;AAE1D,IAAA,mBAAmB,EAAA,IAFuC;AAG1D,IAAA,aAAa,EAAE,QAAQ,CAAC,EAAT,KAAgB,KAAhB,GAAwB;AAAE,MAAA,CAAC,EAAE,CAAL;AAAQ,MAAA,CAAC,EAAE;AAAX,KAAxB,GAA2D;AAAE,MAAA,CAAC,EAAE,CAAL;AAAQ,MAAA,CAAC,EAAE;AAAX;AAHhB,GATjD,CAAX,EAcE,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK,OAAA,CAAA;AACH,IAAA,KAAK,EAAE,CAAC,CAAC,CAAC,QAAD,CAAF,EAAc,KAAK,CAAC,KAAN,GAAc,CAAC,CAAC,kBAAD,CAAf,GAAsC,CAAC,CAAC,UAAD,CAArD;AADJ,GAAA,EAEE,QAAQ,CAAC,EAAT,KAAgB,KAAhB,GAAwB,YAAY,CAAC,WAArC,GAAmD,EAFrD,CAAL,EAIE,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AAAC,IAAA,KAAK,EAAE,CAAC,CAAC,CAAC,MAAD,CAAF,EAAY,CAAC,CAAC,MAAD,CAAb;AAAR,GAAL,EACG,KAAK,CAAC,GAAN,CAAU,UAAC,IAAD,EAAO,KAAP,EAAY;AAAK,WAC1B,KAAA,CAAA,aAAA,CAAC,eAAD,EAAgB;AACd,MAAA,GAAG,EAAE,IADS;AAEd,MAAA,UAAU,EAAE,UAFE;AAGd,MAAA,IAAI,EAAE,IAHQ;AAId,MAAA,IAAI,EAAE,IAJQ;AAKd,MAAA,KAAK,EAAE,KALO;AAMd,MAAA,SAAS,EAAE;AANG,KAAhB,CAD0B;AAS3B,GATA,CADH,CAJF,EAgBG,SAAS,CAAC,GAAV,CAAc,UAAC,IAAD,EAAK;AAAK,WACvB,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AAAC,MAAA,KAAK,EAAE,CAAC,CAAC,CAAC,QAAD,CAAF,EAAc,CAAC,CAAC,iBAAD,CAAf,CAAR;AAA6C,MAAA,GAAG,EAAE,IAAI,CAAC,QAAL;AAAlD,KAAL,EACG,KAAK,CAAC,GAAN,CAAU,UAAC,IAAD,EAAO,KAAP,EAAY;AAAK,aAC1B,KAAA,CAAA,aAAA,CAAC,aAAD,EAAc;AACZ,QAAA,GAAG,EAAE,IADO;AAEZ,QAAA,UAAU,EAAE,UAFA;AAGZ,QAAA,IAAI,EAAE,IAHM;AAIZ,QAAA,IAAI,EAAE,IAJM;AAKZ,QAAA,OAAO,EAAE,YALG;AAMZ,QAAA,KAAK,EAAE;AANK,OAAd,CAD0B;AAS3B,KATA,CADH,EAeG,MAAM,CACJ,MADF,CACS,UAAC,EAAD,EAAU;UAAP,KAAK,GAAA,EAAA,CAAA,K;AACd,aAAA,KAAK,CAAC,KAAD,CAAL,CAAa,SAAb,CAAuB,IAAI,CAAC,OAAL,CAAa,KAAb,CAAvB,EAA4C,IAAI,CAAC,KAAL,CAAW,KAAX,CAA5C,EAA+D,IAA/D,EAAqE,IAArE,CAAA;AAA0E,KAF7E,EAIE,GAJF,CAIM,kBAJN,CAfH,EAwBG,MAAM,CACJ,MADF,CAEG,UAAC,EAAD,EAAe;UAAZ,KAAK,GAAA,EAAA,CAAA,K;UAAE,GAAG,GAAA,EAAA,CAAA,G;AACX,aAAA,KAAK,CAAC,KAAD,CAAL,CAAa,QAAb,CAAsB,IAAI,CAAC,OAAL,CAAa,KAAb,CAAtB,KACA,KAAK,CAAC,GAAD,CAAL,CAAW,SAAX,CAAqB,IAAI,CAAC,OAAL,CAAa,KAAb,CAArB,EAA0C,IAAI,CAAC,KAAL,CAAW,KAAX,CAA1C,EAA6D,IAA7D,EAAmE,IAAnE,CADA;AACwE,KAJ7E,EAME,GANF,CAMM,UAAC,KAAD,EAAM;AAAK,aAAA,OAAA,CAAA,OAAA,CAAA,EAAA,EACX,KADW,CAAA,EACN;AACR,QAAA,KAAK,EAAE,KAAK,CAAC,KAAK,CAAC,GAAP,CAAL,CAAiB,OAAjB,CAAyB,KAAzB;AADC,OADM,CAAA;AAGd,KATH,EAUE,GAVF,CAUM,kBAVN,CAxBH,EAuCG,MAAM,CACJ,MADF,CAEG,UAAC,EAAD,EAAe;UAAZ,KAAK,GAAA,EAAA,CAAA,K;UAAE,GAAG,GAAA,EAAA,CAAA,G;AACX,aAAA,KAAK,CAAC,KAAD,CAAL,CAAa,QAAb,CAAsB,IAAI,CAAC,OAAL,CAAa,KAAb,CAAtB,KACA,KAAK,CAAC,GAAD,CAAL,CAAW,OAAX,CAAmB,IAAI,CAAC,KAAL,CAAW,KAAX,CAAnB,CADA;AACqC,KAJ1C,EAME,GANF,CAMM,UAAC,KAAD,EAAM;AAAK,aAAA,OAAA,CAAA,OAAA,CAAA,EAAA,EACX,KADW,CAAA,EACN;AACR,QAAA,KAAK,EAAE,KAAK,CAAC,KAAK,CAAC,GAAP,CAAL,CAAiB,OAAjB,CAAyB,KAAzB,CADC;AAER,QAAA,GAAG,EAAE,KAAK,CAAC,KAAK,CAAC,GAAP,CAAL,CAAiB,KAAjB,CAAuB,KAAvB;AAFG,OADM,CAAA;AAId,KAVH,EAWE,GAXF,CAWM,kBAXN,CAvCH,EAoDG,OAAO,CAAC,IAAD,CAAP,IAAiB,CAAC,gBAAlB,IACC,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AACH,MAAA,KAAK,EAAE,CACL,MAAM,CAAC,YADF,EAEL;AAAE,QAAA,eAAe,EAAE,KAAK,CAAC,OAAN,CAAc;AAAjC,OAFK,EAGL;AAAE,QAAA,GAAG,EAAE,GAAA,MAAA,CAAG,mBAAmB,CAAC,GAAD,CAAtB,EAA2B,GAA3B;AAAP,OAHK;AADJ,KAAL,CArDJ,CADuB;AA+DxB,GA/DA,CAhBH,CAdF,CAFF,CADF;AAqGD;;IAEY,YAAY,GAAG,SAAS,CAAC,aAAD,C;;AC9MrC,SAAS,0BAAT,CAAkE,EAAlE,EAUwB;MATtB,KAAK,GAAA,EAAA,CAAA,K;MACL,YAAY,GAAA,EAAA,CAAA,Y;MACZ,cAAc,GAAA,EAAA,CAAA,c;MACd,WAAW,GAAA,EAAA,CAAA,W;MACX,IAAI,GAAA,EAAA,CAAA,I;MACJ,YAAY,GAAA,EAAA,CAAA,Y;MACZ,aAAa,GAAA,EAAA,CAAA,a;MACb,KAAK,GAAA,EAAA,CAAA,K;MACL,0BAA0B,GAAA,EAAA,CAAA,0B;AAE1B,MAAM,KAAK,GAAG,QAAQ,EAAtB;;AAEM,MAAA,EAAA,GAAyE,KAAK,CAAC,OAAN,CAC7E,YAAA;AAAM,WAAA,oBAAoB,CAAC,KAAD,EAAQ,IAAR,EAAc,YAAd,EAA4B,aAA5B,CAApB;AAA8D,GADS,EAE7E,CAAC,IAAD,EAAO,YAAP,EAAqB,KAArB,EAA4B,aAA5B,CAF6E,CAAzE;AAAA,MAAE,UAAU,GAAA,EAAA,CAAA,UAAZ;AAAA,MAAc,cAAc,GAAA,EAAA,CAAA,cAA5B;AAAA,MAA8B,mBAAmB,GAAA,EAAA,CAAA,mBAAjD;AAAA,MAAmD,iBAAiB,GAAA,EAAA,CAAA,iBAApE;;AAKN,MAAM,qBAAqB,GAAG,gCAAgC,CAAC;AAC7D,IAAA,KAAK,EAAA,KADwD;AAE7D,IAAA,cAAc,EAAA,cAF+C;AAG7D,IAAA,YAAY,EAAA,YAHiD;AAI7D,IAAA,cAAc,EAAE,CACd;AAAE,MAAA,eAAe,EAAE,KAAK,CAAC,OAAN,CAAc,OAAd,CAAsB;AAAzC,KADc,EAEd,mBAAmB,IAAI,iBAAiB,GAAG,CAA3C,GACI;AACE,MAAA,QAAQ,EAAE,UADZ;AAEE,MAAA,KAAK,EAAE,UAFT;AAGE,MAAA,MAAM,EAAE;AAHV,KADJ,GAMI,EARU,EASd,KAAK,GAAG;AAAE,MAAA,KAAK,EAAE;AAAT,KAAH,GAAkB;AAAE,MAAA,IAAI,EAAE;AAAR,KATT,EAUd,CAAC,CAAC,MAAD,CAVa;AAJ6C,GAAD,CAA9D;AAkBA,SACE,KAAA,CAAA,aAAA,CAAC,gBAAD,EAAiB;AACf,IAAA,KAAK,EAAE;AAAE,MAAA,SAAS,EAAE;AAAb,KADQ;AAEf,IAAA,OAAO,EAAE,mBAAA;AAAM,aAAA,YAAY,KAAA,IAAZ,IAAA,YAAY,KAAA,KAAA,CAAZ,GAAY,KAAA,CAAZ,GAAA,YAAY,CAAG,KAAH,CAAZ;AAAqB;AAFrB,GAAjB,EAII,CAAC,cAAD,IAAmB,IAAI,CAAC,MAAL,CAAY,KAAK,CAAC,KAAlB,EAAyB,KAAzB,CAApB,IACA,cAAc,IAAI,mBADlB,GAEC,WAAW,GACT,WAAW,CAAC,KAAD,EAAQ,qBAAR,CADF,GAGT,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK,OAAA,CAAA,EAAA,EAAK,qBAAL,CAAL,EACE,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AACH,IAAA,KAAK,EAAE,CACL;AAAE,MAAA,KAAK,EAAE,KAAK,CAAC,OAAN,CAAc,OAAd,CAAsB;AAA/B,KADK,EAEL,KAAK,CAAC,UAAN,CAAiB,EAFZ,EAGL,CAAC,CAAC,UAAD,CAHI,EAIL,KAAK,IAAI;AAAE,MAAA,SAAS,EAAE;AAAb,KAJJ,CADJ;AAOH,IAAA,aAAa,EAAE;AAPZ,GAAL,EASG,KAAK,CAAC,KATT,CADF,CALH,GAmBG,IAvBN,CADF;AA2BD;;IAEY,yBAAyB,GAAG,SAAS,CAAC,0BAAD,C;;ACpDlD,SAAS,yBAAT,CAAiE,EAAjE,EAcmC;MAbjC,eAAe,GAAA,EAAA,CAAA,e;MACf,UAAU,GAAA,EAAA,CAAA,U;MACV,KAAK,GAAA,EAAA,CAAA,K;MACL,WAAW,GAAA,EAAA,CAAA,W;MACX,MAAM,GAAA,EAAA,CAAA,M;MACN,YAAY,GAAA,EAAA,CAAA,Y;MACZ,cAAc,GAAA,EAAA,CAAA,c;MACd,iBAAiB,GAAA,EAAA,CAAA,iB;MACjB,gBAAgB,GAAA,EAAA,CAAA,gB;MAChB,WAAW,GAAA,EAAA,CAAA,W;MACX,oBAAoB,GAAA,EAAA,CAAA,oB;MACpB,YAAY,GAAA,EAAA,CAAA,Y;MACZ,0BAA0B,GAAA,EAAA,CAAA,0B;AAElB,MAAA,GAAG,GAAK,MAAM,CAAC,CAAC,gBAAF,CAAN,CAAL,GAAH;;AACF,MAAA,EAAA,GAAoC,KAAK,CAAC,QAAN,CAAuB,CAAvB,CAApC;AAAA,MAAC,aAAa,GAAA,EAAA,CAAA,CAAA,CAAd;AAAA,MAAgB,gBAAgB,GAAA,EAAA,CAAA,CAAA,CAAhC;;AAEN,MAAM,YAAY,GAAG,eAAe,CAAC;AACnC,IAAA,iBAAiB,EAAA;AADkB,GAAD,CAApC;AAIA,MAAM,KAAK,GAAG,WAAW,CAAC,UAAU,CAAC,MAAX,EAAD,EAAsB,YAAtB,CAAzB;AAEA,MAAM,aAAa,GAAG,eAAe,GAAG,CAAlB,GAAsB,EAA5C;AACA,MAAM,KAAK,GAAG,QAAQ,EAAtB;AAEA,SACE,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK,OAAA,CAAA;AACH,IAAA,KAAK,EAAE,CACL;AACE,MAAA,MAAM,EAAE;AADV,KADK,EAIL,CAAC,CAAC,aAAD,CAJI,EAKL,CAAC,CAAC,QAAD,CALI,EAML,CAAC,CAAC,UAAD,CANI,EAOL,CAAC,CAAC,UAAD,CAPI,EAQL,CAAC,CAAC,UAAD,CARI,EASL,CAAC,CAAC,SAAD,CATI,EAUL;AAAE,MAAA,WAAW,EAAE,KAAK,CAAC,OAAN,CAAc,IAAd,CAAmB,KAAnB;AAAf,KAVK,EAWL,KAXK,CADJ;AAcH,IAAA,QAAQ,EAAE,kBAAC,EAAD,EAA4B;UAAV,MAAM,GAAA,EAAA,CAAA,WAAA,CAAA,M;AAAS,aAAA,gBAAgB,CAAC,MAAM,CAAC,KAAR,CAAhB;AAA8B;AAdtE,GAAA,EAeC,YAAY,CAAC,WAfd,CAAL,EAiBG,KAAK,CAAC,GAAN,CAAU,UAAC,IAAD,EAAO,CAAP,EAAQ;AAAK,WACtB,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AACH,MAAA,GAAG,EAAE,CADF;AAEH,MAAA,KAAK,EAAE,CACL,CAAC,CAAC,QAAD,CADI,EAEL,KAAK,CAAC,KAAN,GAAc,CAAC,CAAC,kBAAD,CAAf,GAAsC,CAAC,CAAC,UAAD,CAFlC,EAGL,QAAQ,CAAC,EAAT,KAAgB,SAAhB,IAA6B,KAHxB,EAIL;AACE,QAAA,SAAS,EAAE;AADb,OAJK;AAFJ,KAAL,EAWG,IAAI,CACF,GADF,CACM,UAAC,CAAD,EAAE;AAAK,aAAC,CAAC,GAAG,CAAJ,GAAQ,UAAU,CAAC,IAAX,CAAgB,CAAhB,CAAR,GAA6B,IAA9B;AAAmC,KADhD,EAEE,GAFF,CAEM,UAAC,IAAD,EAAO,EAAP,EAAS;AAAK,aACjB,KAAA,CAAA,aAAA,CAAC,gBAAD,EAAiB;AACf,QAAA,OAAO,EAAE,mBAAA;AAAM,iBAAA,IAAI,IAAI,WAAR,IAAuB,WAAW,CAAC,IAAI,CAAC,MAAL,EAAD,CAAlC;AAAiD,SADjD;AAEf,QAAA,KAAK,EAAE,CACL,CAAC,GAAG,CAAJ,IAAS,CAAC,CAAC,UAAD,CADL,EAEL,KAAK,CAAC,KAAN,IAAe,EAAE,GAAG,CAApB,IAAyB,CAAC,CAAC,UAAD,CAFrB,EAGL,CAAC,KAAK,CAAC,KAAP,IAAgB,EAAE,GAAG,CAArB,IAA0B,CAAC,CAAC,UAAD,CAHtB,EAIL;AAAE,UAAA,WAAW,EAAE,KAAK,CAAC,OAAN,CAAc,IAAd,CAAmB,KAAnB;AAAf,SAJK,EAKL,CAAC,CAAC,KAAD,CALI,EAML,CAAC,CAAC,QAAD,CANI,EAOL,CAAC,CAAC,aAAD,CAPI,EAQL;AACE,UAAA,SAAS,EAAE;AADb,SARK,CAFQ;AAcf,QAAA,GAAG,EAAE;AAdU,OAAjB,EAgBE,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AACH,QAAA,KAAK,EAAE,CACL;AAAE,UAAA,SAAS,EAAE;AAAb,SADK,EAEL,KAAK,CAAC,UAAN,CAAiB,EAFZ,EAGL;AACE,UAAA,KAAK,EACH,CAAA,IAAI,KAAA,IAAJ,IAAA,IAAI,KAAA,KAAA,CAAJ,GAAI,KAAA,CAAJ,GAAA,IAAI,CAAE,MAAN,CAAa,YAAb,CAAA,MAA+B,GAAG,CAAC,MAAJ,CAAW,YAAX,CAA/B,GACI,KAAK,CAAC,OAAN,CAAc,OAAd,CAAsB,IAD1B,GAEI,KAAK,CAAC,OAAN,CAAc,IAAd,CAAmB,KAAnB;AAJR,SAHK;AADJ,OAAL,EAYG,IAAI,IAAI,IAAI,CAAC,MAAL,CAAY,GAAZ,CAZX,CAhBF,EA8BG,IAAI,IACH,MAAM,CACH,IADH,CACQ,UAAC,CAAD,EAAI,CAAJ,EAAK;AACT,YAAI,KAAK,CAAC,CAAC,CAAC,KAAH,CAAL,CAAe,MAAf,CAAsB,CAAC,CAAC,KAAxB,EAA+B,KAA/B,CAAJ,EAA2C;AACzC,cAAM,SAAS,GAAG,KAAK,CAAC,QAAN,CAAe,KAAK,CAAC,CAAC,CAAC,GAAH,CAAL,CAAa,IAAb,CAAkB,KAAK,CAAC,CAAC,CAAC,KAAH,CAAvB,CAAf,EAAkD,IAAlD,EAAlB;AACA,cAAM,SAAS,GAAG,KAAK,CAAC,QAAN,CAAe,KAAK,CAAC,CAAC,CAAC,GAAH,CAAL,CAAa,IAAb,CAAkB,KAAK,CAAC,CAAC,CAAC,KAAH,CAAvB,CAAf,EAAkD,IAAlD,EAAlB;AACA,iBAAO,SAAS,GAAG,SAAnB;AACD;;AACD,eAAO,CAAC,CAAC,KAAF,CAAQ,OAAR,KAAoB,CAAC,CAAC,KAAF,CAAQ,OAAR,EAA3B;AACD,OARH,EASG,MATH,CASU,UAAC,EAAD,EAAe;YAAZ,KAAK,GAAA,EAAA,CAAA,K;YAAE,GAAG,GAAA,EAAA,CAAA,G;AACnB,eAAA,IAAI,CAAC,SAAL,CACE,KAAK,CAAC,KAAD,CAAL,CAAa,OAAb,CAAqB,KAArB,CADF,EAEE,KAAK,CAAC,GAAD,CAAL,CAAW,KAAX,CAAiB,KAAjB,CAFF,EAGE,IAHF,EAIE,IAJF,CAAA;AAKC,OAfL,EAiBG,MAjBH,CAkBI,UAAC,QAAD,EAAW,KAAX,EAAkB,KAAlB,EAAyB,MAAzB,EAA+B;AAAK,eAAA,aAAA,CAAA,aAAA,CAAA,EAAA,EAC/B,QAD+B,EACvB,IADuB,CAAA,EACvB,CACX,KAAK,GAAG,oBAAR,GAA+B,IAA/B,GAAsC,KAAK,KAAK,oBAAV,GACpC,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AACH,UAAA,GAAG,EAAE,KADF;AAEH,UAAA,KAAK,EAAE;AAAE,YAAA,QAAQ,EAAE,EAAZ;AAAgB,YAAA,SAAS,EAAE,CAA3B;AAA8B,YAAA,UAAU,EAAE;AAA1C;AAFJ,SAAL,EAIG,MAAM,CAAC,MAAP,GAAgB,oBAJnB,EAKO,OALP,CADoC,GAQpC,KAAA,CAAA,aAAA,CAAC,yBAAD,EAA0B;AACxB,UAAA,GAAG,EAAE,KADmB;AAExB,UAAA,KAAK,EAAE,KAFiB;AAGxB,UAAA,cAAc,EAAE,cAHQ;AAIxB,UAAA,YAAY,EAAE,YAJU;AAKxB,UAAA,WAAW,EAAE,WALW;AAMxB,UAAA,IAAI,EAAE,IANkB;AAOxB,UAAA,YAAY,EAAE,EAPU;AAQxB,UAAA,aAAa,EAAE,aARS;AASxB,UAAA,KAAK,EAAE,KAAK,CAAC,KATW;AAUxB,UAAA,0BAA0B,EAAE;AAVJ,SAA1B,CATS,CADuB,CAAA;AAuBnC,OAzCL,EA0CI,EA1CJ,CA/BJ,CADiB;AA6ElB,KA/EF,CAXH,CADsB;AA6FvB,GA7FA,CAjBH,CADF;AAkHD;;IAEY,wBAAwB,GAAG,SAAS,CAAC,yBAAD,C;;AC1JjD,SAAS,eAAT,CAAuD,EAAvD,EAayB;MAZvB,SAAS,GAAA,EAAA,CAAA,S;MACT,UAAU,GAAA,EAAA,CAAA,U;MACV,KAAK,GAAA,EAAA,CAAA,K;MACL,YAAY,GAAA,EAAA,CAAA,Y;MACZ,iBAAiB,GAAA,EAAA,CAAA,iB;MACjB,YAAY,GAAA,EAAA,CAAA,Y;MACZ,UAAU,GAAA,EAAA,CAAA,U;MACV,EAAA,GAAA,EAAA,CAAA,kB;MAAA,kBAAkB,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,EAAH,GAAK,E;MACvB,EAAA,GAAA,EAAA,CAAA,c;MAAA,cAAc,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,EAAH,GAAK,E;MACnB,EAAA,GAAA,EAAA,CAAA,uB;MAAA,uBAAuB,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,EAAH,GAAK,E;MAC5B,EAAA,GAAA,EAAA,CAAA,2B;MAAA,2BAA2B,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,EAAH,GAAK,E;MAChC,EAAA,GAAA,EAAA,CAAA,mB;MAAA,mBAAmB,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,IAAH,GAAO,E;;AAE1B,MAAM,cAAc,GAAG,KAAK,CAAC,WAAN,CACrB,UAAC,IAAD,EAAW;AACT,IAAA,iBAAiB,IAAI,iBAAiB,CAAC,IAAD,CAAtC;AACD,GAHoB,EAIrB,CAAC,iBAAD,CAJqB,CAAvB;;AAOA,MAAM,aAAa,GAAG,KAAK,CAAC,WAAN,CACpB,UAAC,KAAD,EAAS;AACP,IAAA,YAAY,IAAI,YAAY,CAAC,KAAD,CAA5B;AACD,GAHmB,EAIpB,CAAC,YAAD,CAJoB,CAAtB;;AAOA,MAAM,KAAK,GAAG,QAAQ,EAAtB;AAEA,MAAM,WAAW,GAAG;AAAE,IAAA,WAAW,EAAE,KAAK,CAAC,OAAN,CAAc,IAAd,CAAmB,KAAnB;AAAf,GAApB;AACA,MAAM,SAAS,GAAG;AAAE,IAAA,eAAe,EAAE,KAAK,CAAC,OAAN,CAAc,OAAd,CAAsB;AAAzC,GAAlB;AAEA,SACE,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AACH,IAAA,KAAK,EAAE,CACL,mBAAmB,GAAG,CAAC,CAAC,YAAD,CAAJ,GAAqB,EADnC,EAEL,mBAAmB,GAAG,WAAH,GAAiB,EAF/B,EAGL,KAAK,CAAC,KAAN,GAAc,CAAC,CAAC,kBAAD,CAAf,GAAsC,CAAC,CAAC,UAAD,CAHlC,EAIL,KAJK;AADJ,GAAL,EAQE,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AAAC,IAAA,KAAK,EAAE,CAAC,CAAC,CAAC,MAAD,CAAF,EAAY,CAAC,CAAC,MAAD,CAAb,EAAuB,WAAvB;AAAR,GAAL,CARF,EASG,SAAS,CAAC,GAAV,CAAc,UAAC,IAAD,EAAK;AAClB,QAAM,eAAe,GAAG,UAAU,GAAG,IAAI,CAAC,MAAL,CAAY,UAAZ,EAAwB,MAAxB,CAAH,GAAqC,OAAO,CAAC,IAAD,CAA9E;AAEA,WACE,KAAA,CAAA,aAAA,CAAC,gBAAD,EAAiB;AACf,MAAA,KAAK,EAAE,CAAC,CAAC,CAAC,QAAD,CAAF,EAAc,CAAC,CAAC,MAAD,CAAf,CADQ;AAEf,MAAA,OAAO,EAAE,mBAAA;AAAM,eAAA,cAAc,CAAC,IAAI,CAAC,MAAL,EAAD,CAAd;AAA6B,OAF7B;AAGf,MAAA,QAAQ,EAAE,iBAAiB,KAAK,SAHjB;AAIf,MAAA,GAAG,EAAE,IAAI,CAAC,QAAL;AAJU,KAAjB,EAME,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AACH,MAAA,KAAK,EAAE,CACL;AAAE,QAAA,MAAM,EAAE;AAAV,OADK,EAEL,aAAa,CAAC,kBAAD,CAAb,GAAoC,kBAApC,GAAyD,CAAC,CAAC,iBAAD,CAFrD;AADJ,KAAL,EAME,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AACH,MAAA,KAAK,EAAE,CACL,KAAK,CAAC,UAAN,CAAiB,EADZ,EAEL,CAAC,CAAC,aAAD,CAFI,EAGL;AACE,QAAA,KAAK,EAAE,eAAe,GAClB,gBAAgB,CAAC,2BAAD,CAAhB,GACE,2BADF,GAEE,KAAK,CAAC,OAAN,CAAc,OAAd,CAAsB,IAHN,GAIlB,KAAK,CAAC,OAAN,CAAc,IAAd,CAAmB,KAAnB;AALN,OAHK;AADJ,KAAL,EAaG,IAAI,CAAC,MAAL,CAAY,KAAZ,CAbH,CANF,EAqBE,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AACH,MAAA,KAAK,EACH,aAAa,CAAC,cAAD,CAAb,GACI,cADJ,GAEI,eAAe,GACf,CACE,SADF,EAEE,CAAC,CAAC,MAAD,CAFH,EAGE,CAAC,CAAC,MAAD,CAHH,EAIE,CAAC,CAAC,MAAD,CAJH,EAKE,CAAC,CAAC,cAAD,CALH,EAME,CAAC,CAAC,cAAD,CANH,EAOE,CAAC,CAAC,gBAAD,CAPH,EAQE,CAAC,CAAC,aAAD,CARH,EASE,CAAC,CAAC,MAAD,CATH,CADe,GAYf,CAAC,CAAC,CAAC,MAAD,CAAF;AAhBH,KAAL,EAmBE,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AACH,MAAA,KAAK,EAAE,CACL;AACE,QAAA,KAAK,EAAE,eAAe,GAClB,gBAAgB,CAAC,uBAAD,CAAhB,GACE,uBADF,GAEE,KAAK,CAAC,OAAN,CAAc,OAAd,CAAsB,YAHN,GAIlB,KAAK,CAAC,OAAN,CAAc,IAAd,CAAmB,KAAnB;AALN,OADK,EAQL,KAAK,CAAC,UAAN,CAAiB,EARZ,EASL,CAAC,CAAC,aAAD,CATI,EAUL,QAAQ,CAAC,EAAT,KAAgB,KAAhB,IACE,eADF,IAEE,CAAC,gBAAgB,CAAC,uBAAD,CAFnB,IAGE,CAAC,CAAC,MAAD,CAbE;AADJ,KAAL,EAiBG,IAAI,CAAC,MAAL,CAAY,GAAZ,CAjBH,CAnBF,CArBF,CANF,EAmEG,mBAAmB,GAClB,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AACH,MAAA,KAAK,EAAE,CACL,CAAC,CAAC,UAAD,CADI,EAEL;AAAE,QAAA,WAAW,EAAE,KAAK,CAAC,OAAN,CAAc,IAAd,CAAmB,KAAnB;AAAf,OAFK,EAGL;AAAE,QAAA,MAAM,EAAE;AAAV,OAHK;AADJ,KAAL,EAOG,YAAY,CAAC,GAAb,CAAiB,UAAC,KAAD,EAAM;AACtB,UAAI,CAAC,KAAK,CAAC,IAAD,CAAL,CAAY,SAAZ,CAAsB,KAAK,CAAC,KAA5B,EAAmC,KAAK,CAAC,GAAzC,EAA8C,KAA9C,EAAqD,IAArD,CAAL,EAAiE;AAC/D,eAAO,IAAP;AACD;;AACD,aACE,KAAA,CAAA,aAAA,CAAC,gBAAD,EAAiB;AACf,QAAA,KAAK,EAAE,CAAC,YAAY,CAAC,KAAd,EAAqB,SAArB,EAAgC,CAAC,CAAC,MAAD,CAAjC,CADQ;AAEf,QAAA,GAAG,EAAE,GAAA,MAAA,CAAG,KAAK,CAAC,KAAT,EAAc,MAAd,CAAiB,KAAK,CAAC,KAAvB,CAFU;AAGf,QAAA,OAAO,EAAE,mBAAA;AAAM,iBAAA,aAAa,CAAC,KAAD,CAAb;AAAoB;AAHpB,OAAjB,EAKE,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AACH,QAAA,KAAK,EAAE;AACL,UAAA,QAAQ,EAAE,KAAK,CAAC,UAAN,CAAiB,EAAjB,CAAoB,QADzB;AAEL,UAAA,KAAK,EAAE,KAAK,CAAC,OAAN,CAAc,OAAd,CAAsB;AAFxB;AADJ,OAAL,EAMG,KAAK,CAAC,KANT,CALF,CADF;AAgBD,KApBA,CAPH,CADkB,GA8BhB,IAjGN,CADF;AAqGD,GAxGA,CATH,CADF;AAqHD;;IAEY,cAAc,GAAG,SAAS,CAAC,eAAD,C;;ACjKvC,SAAS,2BAAT,CAAqC,EAArC,EAIkC;MAHhC,MAAM,GAAA,EAAA,CAAA,M;MACN,YAAY,GAAA,EAAA,CAAA,Y;MACZ,KAAK,GAAA,EAAA,CAAA,K;AAEL,MAAM,KAAK,GAAG,cAAc,CAAC,IAAI,IAAJ,EAAD,EAAa,YAAb,EAA2B,MAA3B,CAA5B;AACA,MAAM,YAAY,GAAG,KAAK,GAAG,GAAR,EAArB;AAEA,MAAM,KAAK,GAAG,QAAQ,EAAtB;AAEA,SACE,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AACH,IAAA,KAAK,EAAE,CACL,CAAC,CAAC,UAAD,CADI,EAEL;AAAE,MAAA,WAAW,EAAE,KAAK,CAAC,OAAN,CAAc,IAAd,CAAmB,KAAnB;AAAf,KAFK,EAGL,KAAK,CAAC,KAAN,GAAc,CAAC,CAAC,kBAAD,CAAf,GAAsC,CAAC,CAAC,UAAD,CAHlC,EAIL,KAJK;AADJ,GAAL,EAQG,KAAK,CAAC,GAAN,CAAU,UAAC,IAAD,EAAK;AAAK,WACnB,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AAAC,MAAA,KAAK,EAAE;AAAE,QAAA,IAAI,EAAE,CAAR;AAAW,QAAA,UAAU,EAAE;AAAvB,OAAR;AAAoC,MAAA,GAAG,EAAE,IAAI,CAAC,WAAL;AAAzC,KAAL,EACE,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AAAC,MAAA,KAAK,EAAE;AAAE,QAAA,MAAM,EAAE;AAAV;AAAR,KAAL,EACE,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AACH,MAAA,KAAK,EAAE,CACL,CAAC,CAAC,aAAD,CADI,EAEL;AACE,QAAA,KAAK,EACH,YAAY,KAAK,IAAI,CAAC,GAAL,EAAjB,GACI,KAAK,CAAC,OAAN,CAAc,OAAd,CAAsB,IAD1B,GAEI,KAAK,CAAC,OAAN,CAAc,IAAd,CAAmB,KAAnB;AAJR,OAFK;AADJ,KAAL,EAWG,IAAI,CAAC,MAAL,CAAY,KAAZ,CAXH,CADF,CADF,CADmB;AAkBpB,GAlBA,CARH,CADF;AA8BD;;IAEY,0BAA0B,GAAG,SAAS,CAAC,2BAAD,C;;ACmCnD,SAAS,kBAAT,CAA0D,EAA1D,EAoC4B;MAnC1B,MAAM,GAAA,EAAA,CAAA,M;MACN,MAAM,GAAA,EAAA,CAAA,M;MACN,aAAa,GAAA,EAAA,CAAA,a;MACb,EAAA,GAAA,EAAA,CAAA,I;MAAA,IAAI,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,KAAH,GAAQ,E;MACZ,IAAI,GAAA,EAAA,CAAA,I;MACJ,cAAc,GAAA,EAAA,CAAA,c;MACd,EAAA,GAAA,EAAA,CAAA,M;MAAA,MAAM,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,IAAH,GAAO,E;MACb,EAAA,GAAA,EAAA,CAAA,gB;MAAA,gBAAgB,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,KAAH,GAAQ,E;MACxB,EAAA,GAAA,EAAA,CAAA,I;MAAA,IAAI,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,MAAH,GAAS,E;MACb,aAAa,GAAA,EAAA,CAAA,a;MACb,EAAA,GAAA,EAAA,CAAA,mB;MAAA,mBAAmB,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,CAAH,GAAI,E;MACvB,EAAA,GAAA,EAAA,CAAA,Q;MAAA,QAAQ,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,IAAH,GAAO,E;MACf,EAAA,GAAA,EAAA,CAAA,oB;MAAA,oBAAoB,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,EAAH,GAAK,E;MACzB,EAAA,GAAA,EAAA,CAAA,kB;MAAA,kBAAkB,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,EAAH,GAAK,E;MACvB,EAAA,GAAA,EAAA,CAAA,c;MAAA,cAAc,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,EAAH,GAAK,E;MACnB,EAAA,GAAA,EAAA,CAAA,uB;MAAA,uBAAuB,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,EAAH,GAAK,E;MAC5B,EAAA,GAAA,EAAA,CAAA,2B;MAAA,2BAA2B,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,EAAH,GAAK,E;MAChC,EAAA,GAAA,EAAA,CAAA,kB;MAAA,kBAAkB,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,EAAH,GAAK,E;MACvB,EAAA,GAAA,EAAA,CAAA,Y;MAAA,YAAY,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,IAAH,GAAO,E;MACnB,EAAA,GAAA,EAAA,CAAA,Y;MAAA,YAAY,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,CAAH,GAAI,E;MAChB,YAAY,GAAA,EAAA,CAAA,Y;MACZ,WAAW,GAAA,EAAA,CAAA,W;MACX,iBAAiB,GAAA,EAAA,CAAA,iB;MACjB,YAAY,GAAA,EAAA,CAAA,Y;MACZ,WAAW,GAAA,EAAA,CAAA,W;MACX,EAAA,GAAA,EAAA,CAAA,Y;MAAc,eAAe,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,cAAH,GAAiB,E;MAC9C,EAAA,GAAA,EAAA,CAAA,wB;MAA0B,2BAA2B,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,0BAAH,GAA6B,E;MAClF,EAAA,GAAA,EAAA,CAAA,U;MAAA,UAAU,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,CAAH,GAAI,E;MACd,EAAA,GAAA,EAAA,CAAA,oB;MAAA,oBAAoB,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,CAAH,GAAI,E;MACxB,EAAA,GAAA,EAAA,CAAA,0B;MAAA,0BAA0B,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,EAAH,GAAK,E;MAC/B,UAAU,GAAA,EAAA,CAAA,U;MACV,EAAA,GAAA,EAAA,CAAA,e;MAAA,eAAe,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,IAAH,GAAO,E;MACtB,EAAA,GAAA,EAAA,CAAA,oB;MAAA,oBAAoB,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,EAAH,GAAK,E;MACzB,EAAA,GAAA,EAAA,CAAA,S;MAAA,SAAS,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,EAAH,GAAK,E;MACd,EAAA,GAAA,EAAA,CAAA,mB;MAAA,mBAAmB,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,IAAH,GAAO,E;;AAEpB,MAAA,EAAA,GAA8BA,cAAK,CAAC,QAANA,CAAe,KAAK,CAAC,IAAD,CAApBA,CAA9B;AAAA,MAAC,UAAU,GAAA,EAAA,CAAA,CAAA,CAAX;AAAA,MAAa,aAAa,GAAA,EAAA,CAAA,CAAA,CAA1B;;AAENA,EAAAA,cAAK,CAAC,SAANA,CAAgB,YAAA;AACd,QAAI,IAAJ,EAAU;AACR,MAAA,aAAa,CAAC,KAAK,CAAC,IAAD,CAAN,CAAb;AACD;AACF,GAJDA,EAIG,CAAC,IAAD,CAJHA;AAMA,MAAM,YAAY,GAAGA,cAAK,CAAC,OAANA,CACnB,YAAA;AAAM,WAAA,MAAM,CAAC,MAAP,CAAc,UAAC,KAAD,EAAM;AAAK,aAAA,aAAa,CAAC,KAAK,CAAC,KAAP,EAAc,KAAK,CAAC,GAApB,CAAb;AAAqC,KAA9D,CAAA;AAA+D,GADlDA,EAEnB,CAAC,MAAD,CAFmBA,CAArB;AAKA,MAAM,aAAa,GAAGA,cAAK,CAAC,OAANA,CACpB,YAAA;AAAM,WAAA,MAAM,CAAC,MAAP,CAAc,UAAC,KAAD,EAAM;AAAK,aAAA,CAAC,aAAa,CAAC,KAAK,CAAC,KAAP,EAAc,KAAK,CAAC,GAApB,CAAd;AAAsC,KAA/D,CAAA;AAAgE,GADlDA,EAEpB,CAAC,MAAD,CAFoBA,CAAtB;AAKA,MAAM,SAAS,GAAGA,cAAK,CAAC,OAANA,CAAc,YAAA;AAC9B,YAAQ,IAAR;AACE,WAAK,OAAL;AACE,eAAO,eAAe,CAAC,UAAD,EAAa,MAAb,CAAtB;;AACF,WAAK,MAAL;AACE,eAAO,cAAc,CAAC,UAAD,EAAa,YAAb,EAA2B,MAA3B,CAArB;;AACF,WAAK,OAAL;AACE,eAAO,uBAAuB,CAAC,UAAD,EAAa,MAAb,CAA9B;;AACF,WAAK,KAAL;AACE,eAAO,oBAAoB,CAAC,UAAD,EAAa,MAAb,CAA3B;;AACF,WAAK,QAAL;AACE,eAAO,wBAAwB,CAAC,UAAD,EAAa,YAAb,EAA2B,UAA3B,EAAuC,MAAvC,CAA/B;;AACF;AACE,cAAM,IAAI,KAAJ,CACJ,8DAAA,MAAA,CAA6D,IAA7D,EAAiE,sBAAjE,CADI,CAAN;AAZJ;AAgBD,GAjBiBA,EAiBf,CAAC,IAAD,EAAO,UAAP,EAAmB,MAAnB,EAA2B,UAA3B,EAAuC,YAAvC,CAjBeA,CAAlB;AAmBAA,EAAAA,cAAK,CAAC,SAANA,CAAgB,YAAA;AACd,QAAI,YAAJ,EAAkB;AAChB,MAAA,YAAY,CAAC,CAAC,SAAS,CAAC,CAAD,CAAT,CAAa,MAAb,EAAD,EAAwB,SAAS,CAAC,KAAV,CAAgB,CAAC,CAAjB,EAAoB,CAApB,EAAuB,MAAvB,EAAxB,CAAD,CAAZ;AACD;AACF,GAJDA,EAIG,CAAC,SAAD,EAAY,YAAZ,CAJHA;AAMA,MAAM,UAAU,GAAGA,cAAK,CAAC,OAANA,CACjB,YAAA;AAAM,WAAA,aAAa,IAAI,IAAI,CAAC,GAAL,CAAS,MAAM,GAAG,EAAlB,EAAsB,UAAtB,IAAoC,EAArD;AAAuD,GAD5CA,EAEjB,CAAC,MAAD,EAAS,aAAT,CAFiBA,CAAnB;AAKA,MAAM,KAAK,GAAG,QAAQ,EAAtB;AAEA,MAAM,iBAAiB,GAAGA,cAAK,CAAC,WAANA,CACxB,UAAC,SAAD,EAA+B;AAC7B,QAAI,CAAC,YAAL,EAAmB;AACjB;AACD;;AACD,QAAK,SAAS,KAAK,MAAd,IAAwB,CAAC,KAAK,CAAC,KAAhC,IAA2C,SAAS,KAAK,OAAd,IAAyB,KAAK,CAAC,KAA9E,EAAsF;AACpF,MAAA,aAAa,CAAC,UAAU,CAAC,GAAX,CAAe,SAAS,CAAC,IAAD,EAAO,UAAP,CAAxB,EAA4C,KAA5C,CAAD,CAAb;AACD,KAFD,MAEO;AACL,MAAA,aAAa,CAAC,UAAU,CAAC,GAAX,CAAe,SAAS,CAAC,IAAD,EAAO,UAAP,CAAT,GAA8B,CAAC,CAA9C,EAAiD,KAAjD,CAAD,CAAb;AACD;AACF,GAVuBA,EAWxB,CAAC,YAAD,EAAe,UAAf,EAA2B,IAA3B,EAAiC,KAAK,CAAC,KAAvC,CAXwBA,CAA1B;AAcA,MAAM,WAAW,GAAG;AAClB,IAAA,UAAU,EAAA,UADQ;AAElB,IAAA,SAAS,EAAA,SAFS;AAGlB,IAAA,IAAI,EAAA,IAHc;AAIlB,IAAA,YAAY,EAAA;AAJM,GAApB;;AAOA,MAAI,IAAI,KAAK,OAAb,EAAsB;AACpB,QAAM,aAAW,GAAG;AAClB,MAAA,KAAK,EAAE,oBADW;AAElB,MAAA,MAAM,EAAE,MAFU;AAGlB,MAAA,YAAY,EAAE,YAHI;AAIlB,MAAA,kBAAkB,EAAE,kBAJF;AAKlB,MAAA,cAAc,EAAE,cALE;AAMlB,MAAA,uBAAuB,EAAE,uBANP;AAOlB,MAAA,2BAA2B,EAAE,2BAPX;AAQlB,MAAA,mBAAmB,EAAE;AARH,KAApB;AAUA,WACEA,cAAAA,CAAAA,aAAAA,CAACA,cAAK,CAAC,QAAPA,EAAe,IAAfA,EACEA,cAAAA,CAAAA,aAAAA,CAAC,2BAADA,EAA4B,OAAA,CAAA,EAAA,EAAK,aAAL,CAA5BA,CADFA,EAEEA,cAAAA,CAAAA,aAAAA,CAAC,wBAADA,EAAyB,OAAA,CAAA,EAAA,EACnB,WADmB,EACR;AACf,MAAA,KAAK,EAAE,kBADQ;AAEf,MAAA,eAAe,EAAE,MAFF;AAGf,MAAA,MAAM,EAAA,aAAA,CAAA,aAAA,CAAA,EAAA,EAAM,aAAN,EAAmB,IAAnB,CAAA,EAAwB,YAAxB,CAHS;AAIf,MAAA,cAAc,EAAE,cAJD;AAKf,MAAA,YAAY,EAAE,YALC;AAMf,MAAA,gBAAgB,EAAE,gBANH;AAOf,MAAA,WAAW,EAAE,WAPE;AAQf,MAAA,YAAY,EAAE,YARC;AASf,MAAA,iBAAiB,EAAE,iBATJ;AAUf,MAAA,WAAW,EAAE,WAVE;AAWf,MAAA,UAAU,EAAE,UAXG;AAYf,MAAA,oBAAoB,EAAE,oBAZP;AAaf,MAAA,0BAA0B,EAAE;AAbb,KADQ,CAAzBA,CAFFA,CADF;AAqBD;;AAED,MAAM,WAAW,GAAA,OAAA,CAAA,OAAA,CAAA,EAAA,EACZ,WADY,CAAA,EACD;AACd,IAAA,KAAK,EAAE,oBADO;AAEd,IAAA,YAAY,EAAE,YAFA;AAGd,IAAA,iBAAiB,EAAE,iBAHL;AAId,IAAA,UAAU,EAAA,UAJI;AAKd,IAAA,kBAAkB,EAAE,kBALN;AAMd,IAAA,cAAc,EAAE,cANF;AAOd,IAAA,uBAAuB,EAAE,uBAPX;AAQd,IAAA,2BAA2B,EAAE,2BARf;AASd,IAAA,mBAAmB,EAAE;AATP,GADC,CAAjB;;AAaA,SACEA,cAAAA,CAAAA,aAAAA,CAACA,cAAK,CAAC,QAAPA,EAAe,IAAfA,EACEA,cAAAA,CAAAA,aAAAA,CAAC,eAADA,EAAgB,OAAA,CAAA,EAAA,EAAK,WAAL,CAAhBA,CADFA,EAEEA,cAAAA,CAAAA,aAAAA,CAAC,YAADA,EAAa,OAAA,CAAA,EAAA,EACP,WADO,EACI;AACf,IAAA,KAAK,EAAE,kBADQ;AAEf,IAAA,eAAe,EAAE,MAFF;AAGf,IAAA,MAAM,EAAE,aAHO;AAIf,IAAA,cAAc,EAAE,cAJD;AAKf,IAAA,gBAAgB,EAAE,gBALH;AAMf,IAAA,aAAa,EAAE,aANA;AAOf,IAAA,mBAAmB,EAAE,mBAPN;AAQf,IAAA,IAAI,EAAE,IARS;AASf,IAAA,QAAQ,EAAE,QATK;AAUf,IAAA,WAAW,EAAE,WAVE;AAWf,IAAA,YAAY,EAAE,YAXC;AAYf,IAAA,iBAAiB,EAAE,iBAZJ;AAaf,IAAA,WAAW,EAAE,WAbE;AAcf,IAAA,eAAe,EAAE,eAdF;AAef,IAAA,oBAAoB,EAAE,oBAfP;AAgBf,IAAA,SAAS,EAAE;AAhBI,GADJ,CAAbA,CAFFA,CADF;AAwBD;;AAEM,IAAM,iBAAiB,GAAG,SAAS,CAAC,kBAAD,CAAnC;AC/PP,KAAK,CAAC,MAAN,CAAa,SAAb;;AAEA,SAAS,SAAT,CAAiD,EAAjD,EAImB;AAHjB,MAAA,EAAA,GAAA,EAAA,CAAA,KAAA;AAAA,MAAA,KAAK,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,YAAH,GAAe,EAApB;AAAA,MACA,KAAK,GAAA,EAAA,CAAA,KADL;AAAA,MAEG,KAAK,GAAA,MAAA,CAAA,EAAA,EAHuC,CAAA,OAAA,EAAA,OAAA,CAGvC,CAFR;;AAIA,MAAM,MAAM,GAAG,KAAK,CAAC,YAAD,EAAe,KAAf,EAAsB;AAAE,IAAA,KAAK,EAAA;AAAP,GAAtB,CAApB;;AACA,SACEA,cAAAA,CAAAA,aAAAA,CAAC,YAAY,CAAC,QAAdA,EAAsB;AAAC,IAAA,KAAK,EAAE;AAAR,GAAtBA,EACEA,cAAAA,CAAAA,aAAAA,CAAC,iBAADA,EAAkB,OAAA,CAAA,EAAA,EAAK,KAAL,CAAlBA,CADFA,CADF;AAKD;;IAEY,QAAQ,GAAG,SAAS,CAAC,SAAD,C;AC3BjC,KAAK,CAAC,MAAN,CAAa,QAAb;AACA,KAAK,CAAC,MAAN,CAAa,SAAb","sourcesContent":["import { ThemeInterface } from './ThemeInterface'\n\nexport const defaultTheme: ThemeInterface = {\n  isRTL: false,\n  palette: {\n    primary: {\n      main: 'rgb(66, 133, 244)',\n      contrastText: '#fff',\n    },\n    evenCellBg: '#fff',\n    oddCellBg: '#fff',\n    nowIndicator: 'red',\n    gray: {\n      // 50: '#fafafa',\n      100: '#f5f5f5',\n      200: '#eeeeee',\n      300: '#e0e0e0',\n      // 400: '#bdbdbd',\n      500: '#9e9e9e',\n      // 600: '#757575',\n      // 700: '#616161',\n      800: '#424242',\n      // 900: '#212121',\n    },\n  },\n  eventCellOverlappings: [\n    { main: '#E26245', contrastText: '#fff' }, // orange\n    { main: '#4AC001', contrastText: '#fff' }, // green\n    { main: '#5934C7', contrastText: '#fff' }, // purple\n  ],\n  typography: {\n    xs: {\n      fontSize: 10,\n    },\n    sm: {\n      fontSize: 12,\n    },\n    xl: {\n      fontSize: 22,\n    },\n  },\n}\n","import { createContext, useContext } from 'react'\n\nimport { defaultTheme } from './defaultTheme'\n\nexport const ThemeContext = createContext(defaultTheme)\n\nexport const useTheme = () => {\n  const customTheme = useContext(ThemeContext)\n  if (!customTheme) {\n    return defaultTheme\n  }\n  return customTheme\n}\n","import { Platform, StyleSheet } from 'react-native'\n\nexport const MIN_HEIGHT = 1200\nexport const HOUR_GUIDE_WIDTH = 50\nexport const OVERLAP_OFFSET = Platform.OS === 'web' ? 20 : 8\nexport const OVERLAP_PADDING = Platform.OS === 'web' ? 3 : 0\n\nexport const eventCellCss = StyleSheet.create({\n  style: {\n    zIndex: 100,\n    borderRadius: 3,\n    padding: 4,\n    overflow: 'hidden',\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 1 },\n    shadowOpacity: 0.2,\n    shadowRadius: 1,\n    elevation: 2,\n    minWidth: '33%',\n  },\n})\n\n/*\n * Utility-first CSS.\n */\nexport const u = StyleSheet.create({\n  /*\n   * Flex\n   */\n  flex: {\n    flexDirection: 'row',\n  },\n  'flex-row': {\n    flexDirection: 'row',\n  },\n  'flex-row-reverse': {\n    flexDirection: 'row-reverse',\n  },\n  'flex-column': {\n    flexDirection: 'column',\n  },\n  'flex-1': {\n    flex: 1,\n  },\n  'justify-between': {\n    justifyContent: 'space-between',\n  },\n  'justify-center': {\n    justifyContent: 'center',\n  },\n  'items-center': {\n    alignItems: 'center',\n  },\n  'self-center': {\n    alignSelf: 'center',\n  },\n\n  /*\n   * Border\n   */\n  'border-l': {\n    borderLeftWidth: 1,\n  },\n  'border-t': {\n    borderTopWidth: 1,\n  },\n  'border-b': {\n    borderBottomWidth: 1,\n  },\n  'border-b-2': {\n    borderBottomWidth: 2,\n  },\n  'border-r': {\n    borderRightWidth: 1,\n  },\n\n  /*\n   * Spacing\n   */\n  'mt-2': {\n    marginTop: 2,\n  },\n  'mt-4': {\n    marginTop: 4,\n  },\n  'mt-6': {\n    marginTop: 6,\n  },\n  'mb-6': {\n    marginBottom: 6,\n  },\n  'mx-3': {\n    marginLeft: 3,\n    marginRight: 3,\n  },\n  'p-2': {\n    padding: 2,\n  },\n  'p-8': {\n    padding: 8,\n  },\n  'pt-2': {\n    paddingTop: 2,\n  },\n  'py-2': {\n    paddingVertical: 2,\n  },\n  'px-6': {\n    paddingHorizontal: 6,\n  },\n  'pb-6': {\n    paddingBottom: 6,\n  },\n\n  /*\n   * Text\n   */\n  'text-center': {\n    textAlign: 'center',\n  },\n\n  /*\n   * Radius\n   */\n  rounded: {\n    borderRadius: 3,\n  },\n  'rounded-full': {\n    borderRadius: 9999,\n  },\n\n  /*\n   * Z Index\n   */\n  'z-0': {\n    zIndex: 0,\n  },\n  'z-10': {\n    zIndex: 10,\n  },\n  'z-20': {\n    zIndex: 20,\n  },\n\n  /*\n   * Width\n   */\n  'w-36': {\n    width: 36,\n  },\n  'w-50': {\n    width: 50,\n  },\n  'h-36': {\n    height: 36,\n  },\n\n  /*\n   * Misc\n   */\n  'overflow-hidden': {\n    overflow: 'hidden',\n  },\n  absolute: {\n    position: 'absolute',\n  },\n  truncate:\n    Platform.OS === 'web'\n      ? {\n          overflow: 'hidden',\n          // textOverflow: 'ellipsis',\n          // whiteSpace: 'nowrap',\n        }\n      : {},\n})\n","import dayjs from 'dayjs'\nimport React from 'react'\nimport { TextStyle, ViewStyle } from 'react-native'\n\nimport { OVERLAP_PADDING } from './commonStyles'\nimport { ICalendarEventBase, Mode, WeekNum } from './interfaces'\nimport { Palette } from './theme/ThemeInterface'\n\nexport const typedMemo: <T>(c: T) => T = React.memo\n\nexport const DAY_MINUTES = 1440\n\nexport function getDatesInMonth(date: Date | dayjs.Dayjs = new Date(), locale = 'en') {\n  const subject = dayjs(date)\n  const days = Array(subject.daysInMonth() - 1)\n    .fill(0)\n    .map((_, i) => {\n      return subject.date(i + 1).locale(locale)\n    })\n  return days\n}\n\nexport function getDatesInWeek(\n  date: Date | dayjs.Dayjs = new Date(),\n  weekStartsOn: WeekNum = 0,\n  locale = 'en',\n) {\n  const subject = dayjs(date)\n  const subjectDOW = subject.day()\n  const days = Array(7)\n    .fill(0)\n    .map((_, i) => {\n      return subject\n        .add(i - (subjectDOW < weekStartsOn ? 7 + subjectDOW : subjectDOW) + weekStartsOn, 'day')\n        .locale(locale)\n    })\n  return days\n}\n\nexport function getDatesInNextThreeDays(date: Date | dayjs.Dayjs = new Date(), locale = 'en') {\n  const subject = dayjs(date).locale(locale)\n  const days = Array(3)\n    .fill(0)\n    .map((_, i) => {\n      return subject.add(i, 'day')\n    })\n  return days\n}\n\nexport function getDatesInNextOneDay(date: Date | dayjs.Dayjs = new Date(), locale = 'en') {\n  const subject = dayjs(date).locale(locale)\n  const days = Array(1)\n    .fill(0)\n    .map((_, i) => {\n      return subject.add(i, 'day')\n    })\n  return days\n}\n\nexport const hours = [\n  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23,\n]\n\nexport function formatHour(hour: number, ampm = false) {\n  if (ampm) {\n    if (hour === 0) {\n      return ''\n    }\n    if (hour === 12) {\n      return `12 PM`\n    }\n    if (hour > 12) {\n      return `${hour - 12} PM`\n    }\n    return `${hour} AM`\n  }\n  return `${hour}:00`\n}\n\nexport function isToday(date: dayjs.Dayjs) {\n  const today = dayjs()\n  return today.isSame(date, 'day')\n}\n\nexport function getRelativeTopInDay(date: dayjs.Dayjs) {\n  return (100 * (date.hour() * 60 + date.minute())) / DAY_MINUTES\n}\n\nexport function todayInMinutes() {\n  const today = dayjs()\n  return today.diff(dayjs().startOf('day'), 'minute')\n}\n\nexport function modeToNum(mode: Mode, current?: dayjs.Dayjs | Date): number {\n  if (mode === 'month') {\n    if (!current) {\n      throw new Error('You must specify current date if mode is month')\n    }\n    if (current instanceof Date) {\n      current = dayjs(current)\n    }\n    return current.daysInMonth() - current.date() + 1\n  }\n  switch (mode) {\n    case 'day':\n      return 1\n    case '3days':\n      return 3\n    case 'week':\n    case 'custom':\n      return 7\n    default:\n      throw new Error('undefined mode')\n  }\n}\n\nexport function formatStartEnd(start: Date, end: Date, format: string) {\n  return `${dayjs(start).format(format)} - ${dayjs(end).format(format)}`\n}\n\nexport function isAllDayEvent(start: Date, end: Date) {\n  const _start = dayjs(start)\n  const _end = dayjs(end)\n\n  return _start.hour() === 0 && _start.minute() === 0 && _end.hour() === 0 && _end.minute() === 0\n}\n\nexport function getCountOfEventsAtEvent(\n  event: ICalendarEventBase,\n  eventList: ICalendarEventBase[],\n) {\n  return eventList.filter(\n    (e) =>\n      dayjs(event.start).isBetween(e.start, e.end, 'minute', '[)') ||\n      dayjs(e.start).isBetween(event.start, event.end, 'minute', '[)'),\n  ).length\n}\n\nexport function getOrderOfEvent(event: ICalendarEventBase, eventList: ICalendarEventBase[]) {\n  const events = eventList\n    .filter(\n      (e) =>\n        dayjs(event.start).isBetween(e.start, e.end, 'minute', '[)') ||\n        dayjs(e.start).isBetween(event.start, event.end, 'minute', '[)'),\n    )\n    .sort((a, b) => {\n      if (dayjs(a.start).isSame(b.start)) {\n        return dayjs(a.start).diff(a.end) < dayjs(b.start).diff(b.end) ? -1 : 1\n      } else {\n        return dayjs(a.start).isBefore(b.start) ? -1 : 1\n      }\n    })\n  const index = events.indexOf(event)\n  return index === -1 ? 0 : index\n}\n\nexport function getStyleForOverlappingEvent(\n  eventPosition: number,\n  overlapOffset: number,\n  palettes: Palette[],\n) {\n  let overlapStyle = {}\n  const offset = overlapOffset\n  const start = eventPosition * offset\n  const zIndex = 100 + eventPosition\n  const bgColors = palettes.map((p) => p.main)\n  overlapStyle = {\n    start: start + OVERLAP_PADDING,\n    end: OVERLAP_PADDING,\n    backgroundColor: bgColors[eventPosition % bgColors.length] || bgColors[0],\n    zIndex,\n  }\n  return overlapStyle\n}\n\nexport function getDatesInNextCustomDays(\n  date: Date | dayjs.Dayjs = new Date(),\n  weekStartsOn: WeekNum = 0,\n  weekEndsOn: WeekNum = 6,\n  locale = 'en',\n) {\n  const subject = dayjs(date)\n  const subjectDOW = subject.day()\n  const days = Array(weekDaysCount(weekStartsOn, weekEndsOn))\n    .fill(0)\n    .map((_, i) => {\n      return subject.add(i - subjectDOW + weekStartsOn, 'day').locale(locale)\n    })\n  return days\n}\n\n// TODO: This method should be unit-tested\nfunction weekDaysCount(weekStartsOn: WeekNum, weekEndsOn: WeekNum) {\n  // handle reverse week\n  if (weekEndsOn < weekStartsOn) {\n    let daysCount = 1\n    let i = weekStartsOn\n    while (i !== weekEndsOn) {\n      ++i\n      ++daysCount\n      if (i > 6) {\n        i = 0\n      }\n      // fallback for infinite\n      if (daysCount > 7) {\n        break\n      }\n    }\n    return daysCount\n  }\n  // normal week\n  if (weekEndsOn > weekStartsOn) {\n    return weekEndsOn - weekStartsOn + 1\n  }\n  // default\n  return 1\n}\n\nexport function getEventSpanningInfo(\n  event: ICalendarEventBase,\n  date: dayjs.Dayjs,\n  dayOfTheWeek: number,\n  calendarWidth: number,\n) {\n  const dayWidth = calendarWidth / 7\n\n  // adding + 1 because durations start at 0\n  const eventDuration = dayjs.duration(dayjs(event.end).diff(dayjs(event.start))).days() + 1\n  const eventDaysLeft = dayjs.duration(dayjs(event.end).diff(date)).days() + 1\n  const weekDaysLeft = 7 - dayOfTheWeek\n  const isMultipleDays = eventDuration > 1\n  // This is to determine how many days from the event to show during a week\n  const eventWeekDuration =\n    eventDuration > weekDaysLeft\n      ? weekDaysLeft\n      : dayOfTheWeek === 0 && eventDaysLeft < eventDuration\n      ? eventDaysLeft\n      : eventDuration\n  const isMultipleDaysStart =\n    isMultipleDays &&\n    (date.isSame(event.start, 'day') ||\n      (dayOfTheWeek === 0 && date.isAfter(event.start)) ||\n      date.get('date') === 1)\n  // - 6 to take in account the padding\n  const eventWidth = dayWidth * eventWeekDuration - 6\n\n  return { eventWidth, isMultipleDays, isMultipleDaysStart, eventWeekDuration }\n}\n\nexport function isPair(i: number): boolean {\n  return i % 2 === 0\n}\n\nexport function objHasContent(obj: ViewStyle | TextStyle): boolean {\n  return !!Object.keys(obj).length\n}\n\nexport function stringHasContent(string: string): boolean {\n  return !!string.length\n}\n","import dayjs from 'dayjs'\nimport React from 'react'\n\nexport function useNow(enabled: boolean) {\n  const [now, setNow] = React.useState(dayjs())\n\n  React.useEffect(() => {\n    if (!enabled) {\n      return () => {}\n    }\n    const pid = setInterval(() => setNow(dayjs()), 60 * 1000)\n    return () => clearInterval(pid)\n  }, [enabled])\n\n  return {\n    now,\n  }\n}\n","import React from 'react'\nimport { PanResponder } from 'react-native'\nimport { HorizontalDirection } from '../interfaces'\n\nconst SWIPE_THRESHOLD = 50\n\nexport function usePanResponder({\n  onSwipeHorizontal,\n}: {\n  onSwipeHorizontal?: (d: HorizontalDirection) => void\n}) {\n  const [panHandled, setPanHandled] = React.useState(false)\n\n  const panResponder = React.useMemo(\n    () =>\n      PanResponder.create({\n        // see https://stackoverflow.com/questions/47568850/touchableopacity-with-parent-panresponder\n        onMoveShouldSetPanResponder: (_, { dx, dy }) => {\n          return dx > 2 || dx < -2 || dy > 2 || dy < -2\n        },\n        onPanResponderMove: (_, { dy, dx }) => {\n          if (dy < -1 * SWIPE_THRESHOLD || SWIPE_THRESHOLD < dy || panHandled) {\n            return\n          }\n          if (dx < -1 * SWIPE_THRESHOLD) {\n            onSwipeHorizontal && onSwipeHorizontal('LEFT')\n            setPanHandled(true)\n            return\n          }\n          if (dx > SWIPE_THRESHOLD) {\n            onSwipeHorizontal && onSwipeHorizontal('RIGHT')\n            setPanHandled(true)\n            return\n          }\n        },\n        onPanResponderEnd: () => {\n          setPanHandled(false)\n        },\n      }),\n    [panHandled, onSwipeHorizontal],\n  )\n\n  return panResponder\n}\n","import dayjs from 'dayjs'\nimport React from 'react'\nimport { ViewStyle } from 'react-native'\n\nimport { eventCellCss } from '../commonStyles'\nimport { CalendarTouchableOpacityProps, EventCellStyle, ICalendarEventBase } from '../interfaces'\n\ninterface UseCalendarTouchableOpacityPropsProps<T extends ICalendarEventBase> {\n  event: T\n  eventCellStyle?: EventCellStyle<T>\n  onPressEvent?: (event: T) => void\n  injectedStyles?: ViewStyle[]\n}\n\nexport function useCalendarTouchableOpacityProps<T extends ICalendarEventBase>({\n  event,\n  eventCellStyle,\n  injectedStyles = [],\n  onPressEvent,\n}: UseCalendarTouchableOpacityPropsProps<T>) {\n  const getEventStyle = React.useMemo(\n    () => (typeof eventCellStyle === 'function' ? eventCellStyle : () => eventCellStyle),\n    [eventCellStyle],\n  )\n\n  const plainJsEvent = React.useMemo(\n    () => ({\n      ...event,\n      start: dayjs(event.start).toDate(),\n      end: dayjs(event.end).toDate(),\n    }),\n    [event],\n  )\n\n  const _onPress = React.useCallback(() => {\n    onPressEvent && onPressEvent(plainJsEvent)\n  }, [onPressEvent, plainJsEvent])\n\n  const touchableOpacityProps: CalendarTouchableOpacityProps = {\n    delayPressIn: 20,\n    key: event.start.toString(),\n    style: [eventCellCss.style, ...injectedStyles, getEventStyle(plainJsEvent)],\n    onPress: _onPress,\n    disabled: !onPressEvent,\n  }\n\n  return touchableOpacityProps\n}\n","import dayjs from 'dayjs'\nimport * as React from 'react'\nimport { Text, TouchableOpacity } from 'react-native'\n\nimport { CalendarTouchableOpacityProps, ICalendarEventBase } from '../interfaces'\nimport { useTheme } from '../theme/ThemeContext'\nimport { formatStartEnd } from '../utils'\n\ninterface DefaultCalendarEventRendererProps<T extends ICalendarEventBase> {\n  touchableOpacityProps: CalendarTouchableOpacityProps\n  event: T\n  showTime?: boolean\n  textColor: string\n  ampm: boolean\n}\n\nexport function DefaultCalendarEventRenderer<T extends ICalendarEventBase>({\n  touchableOpacityProps,\n  event,\n  showTime = true,\n  textColor,\n  ampm,\n}: DefaultCalendarEventRendererProps<T>) {\n  const theme = useTheme()\n  const eventTimeStyle = { fontSize: theme.typography.xs.fontSize, color: textColor }\n  const eventTitleStyle = { fontSize: theme.typography.sm.fontSize, color: textColor }\n\n  return (\n    <TouchableOpacity {...touchableOpacityProps}>\n      {dayjs(event.end).diff(event.start, 'minute') < 32 && showTime ? (\n        <Text style={eventTitleStyle}>\n          {event.title},\n          <Text style={eventTimeStyle}>\n            {dayjs(event.start).format(ampm ? 'hh:mm a' : 'HH:mm')}\n          </Text>\n        </Text>\n      ) : (\n        <>\n          <Text style={eventTitleStyle}>{event.title}</Text>\n          {showTime && (\n            <Text style={eventTimeStyle}>\n              {formatStartEnd(event.start, event.end, ampm ? 'h:mm a' : 'HH:mm')}\n            </Text>\n          )}\n          {event.children && event.children}\n        </>\n      )}\n    </TouchableOpacity>\n  )\n}\n","import dayjs from 'dayjs'\nimport * as React from 'react'\n\nimport { OVERLAP_OFFSET, u } from '../commonStyles'\nimport { useCalendarTouchableOpacityProps } from '../hooks/useCalendarTouchableOpacityProps'\nimport { EventCellStyle, EventRenderer, ICalendarEventBase } from '../interfaces'\nimport { useTheme } from '../theme/ThemeContext'\nimport { DAY_MINUTES, getRelativeTopInDay, getStyleForOverlappingEvent, typedMemo } from '../utils'\nimport { DefaultCalendarEventRenderer } from './DefaultCalendarEventRenderer'\n\nconst getEventCellPositionStyle = (start: Date, end: Date) => {\n  const relativeHeight = 100 * (1 / DAY_MINUTES) * dayjs(end).diff(start, 'minute')\n  const relativeTop = getRelativeTopInDay(dayjs(start))\n  return {\n    height: `${relativeHeight}%`,\n    top: `${relativeTop}%`,\n  }\n}\n\ninterface CalendarEventProps<T extends ICalendarEventBase> {\n  event: T\n  onPressEvent?: (event: T) => void\n  eventCellStyle?: EventCellStyle<T>\n  showTime: boolean\n  eventCount?: number\n  eventOrder?: number\n  overlapOffset?: number\n  renderEvent?: EventRenderer<T>\n  ampm: boolean\n}\n\nfunction _CalendarEvent<T extends ICalendarEventBase>({\n  event,\n  onPressEvent,\n  eventCellStyle,\n  showTime,\n  eventCount = 1,\n  eventOrder = 0,\n  overlapOffset = OVERLAP_OFFSET,\n  renderEvent,\n  ampm,\n}: CalendarEventProps<T>) {\n  const theme = useTheme()\n\n  const palettes = React.useMemo(\n    () => [theme.palette.primary, ...theme.eventCellOverlappings],\n    [theme],\n  )\n\n  const touchableOpacityProps = useCalendarTouchableOpacityProps({\n    event,\n    eventCellStyle,\n    onPressEvent,\n    injectedStyles: [\n      getEventCellPositionStyle(event.start, event.end),\n      getStyleForOverlappingEvent(eventOrder, overlapOffset, palettes),\n      u['absolute'],\n      u['mt-2'],\n      u['mx-3'],\n    ],\n  })\n\n  const textColor = React.useMemo(() => {\n    const fgColors = palettes.map((p) => p.contrastText)\n    return fgColors[eventCount % fgColors.length] || fgColors[0]\n  }, [eventCount, palettes])\n\n  if (renderEvent) {\n    return renderEvent(event, touchableOpacityProps)\n  }\n\n  return (\n    <DefaultCalendarEventRenderer\n      event={event}\n      showTime={showTime}\n      ampm={ampm}\n      touchableOpacityProps={touchableOpacityProps}\n      textColor={textColor}\n    />\n  )\n}\n\nexport const CalendarEvent = typedMemo(_CalendarEvent)\n","import dayjs from 'dayjs'\nimport * as React from 'react'\nimport { TouchableWithoutFeedback, View } from 'react-native'\n\nimport { u } from '../commonStyles'\nimport { useTheme } from '../theme/ThemeContext'\nimport { isPair } from '../utils'\n\ninterface HourGuideCellProps {\n  cellHeight: number\n  onPress: (d: dayjs.Dayjs) => void\n  date: dayjs.Dayjs\n  hour: number\n  index: number\n}\n\nexport const HourGuideCell = ({ cellHeight, onPress, date, hour, index }: HourGuideCellProps) => {\n  const theme = useTheme()\n\n  const evenCellBg = theme.palette.evenCellBg\n  const oddCellBg = theme.palette.oddCellBg\n\n  return (\n    <TouchableWithoutFeedback onPress={() => onPress(date.hour(hour).minute(0))}>\n      <View\n        style={[\n          u['border-l'],\n          u['border-b'],\n          { borderColor: theme.palette.gray['200'] },\n          { height: cellHeight },\n          { backgroundColor: isPair(index) ? evenCellBg : oddCellBg },\n        ]}\n      />\n    </TouchableWithoutFeedback>\n  )\n}\n","import * as React from 'react'\nimport { Text, TextStyle, View } from 'react-native'\n\nimport { u } from '../commonStyles'\nimport { useTheme } from '../theme/ThemeContext'\nimport { formatHour } from '../utils'\nimport { isPair, objHasContent } from '../utils'\n\ninterface HourGuideColumnProps {\n  cellHeight: number\n  hour: number\n  ampm: boolean\n  index: number\n  hourStyle: TextStyle\n}\n\nconst _HourGuideColumn = ({\n  cellHeight,\n  hour,\n  ampm,\n  index,\n  hourStyle = {},\n}: HourGuideColumnProps) => {\n  const theme = useTheme()\n  const textStyle = React.useMemo(\n    () => ({ color: theme.palette.gray[500], fontSize: theme.typography.xs.fontSize }),\n    [theme],\n  )\n  const evenCellBg = theme.palette.evenCellBg\n  const oddCellBg = theme.palette.oddCellBg\n\n  return (\n    <View style={{ height: cellHeight, backgroundColor: isPair(index) ? evenCellBg : oddCellBg }}>\n      <Text style={[objHasContent(hourStyle) ? hourStyle : textStyle, u['text-center']]}>\n        {formatHour(hour, ampm)}\n      </Text>\n    </View>\n  )\n}\n\nexport const HourGuideColumn = React.memo(_HourGuideColumn, () => true)\n","import dayjs from 'dayjs'\nimport * as React from 'react'\nimport { Platform, ScrollView, StyleSheet, TextStyle, View, ViewStyle } from 'react-native'\n\nimport { u } from '../commonStyles'\nimport { useNow } from '../hooks/useNow'\nimport { usePanResponder } from '../hooks/usePanResponder'\nimport {\n  EventCellStyle,\n  EventRenderer,\n  HorizontalDirection,\n  ICalendarEventBase,\n} from '../interfaces'\nimport { useTheme } from '../theme/ThemeContext'\nimport {\n  getCountOfEventsAtEvent,\n  getOrderOfEvent,\n  getRelativeTopInDay,\n  hours,\n  isToday,\n  typedMemo,\n} from '../utils'\nimport { CalendarEvent } from './CalendarEvent'\nimport { HourGuideCell } from './HourGuideCell'\nimport { HourGuideColumn } from './HourGuideColumn'\n\nconst styles = StyleSheet.create({\n  nowIndicator: {\n    position: 'absolute',\n    zIndex: 10000,\n    height: 2,\n    width: '100%',\n  },\n})\n\ninterface CalendarBodyProps<T extends ICalendarEventBase> {\n  cellHeight: number\n  containerHeight: number\n  dateRange: dayjs.Dayjs[]\n  events: T[]\n  scrollOffsetMinutes: number\n  ampm: boolean\n  showTime: boolean\n  style: ViewStyle\n  eventCellStyle?: EventCellStyle<T>\n  hideNowIndicator?: boolean\n  overlapOffset?: number\n  onPressCell?: (date: Date) => void\n  onPressEvent?: (event: T) => void\n  onSwipeHorizontal?: (d: HorizontalDirection) => void\n  renderEvent?: EventRenderer<T>\n  headerComponent?: React.ReactElement | null\n  headerComponentStyle?: ViewStyle\n  hourStyle?: TextStyle\n}\n\nfunction _CalendarBody<T extends ICalendarEventBase>({\n  containerHeight,\n  cellHeight,\n  dateRange,\n  style,\n  onPressCell,\n  events,\n  onPressEvent,\n  eventCellStyle,\n  ampm,\n  showTime,\n  scrollOffsetMinutes,\n  onSwipeHorizontal,\n  hideNowIndicator,\n  overlapOffset,\n  renderEvent,\n  headerComponent = null,\n  headerComponentStyle = {},\n  hourStyle = {},\n}: CalendarBodyProps<T>) {\n  const scrollView = React.useRef<ScrollView>(null)\n  const { now } = useNow(!hideNowIndicator)\n\n  React.useEffect(() => {\n    if (scrollView.current && scrollOffsetMinutes && Platform.OS !== 'ios') {\n      // We add delay here to work correct on React Native\n      // see: https://stackoverflow.com/questions/33208477/react-native-android-scrollview-scrollto-not-working\n      setTimeout(\n        () => {\n          if (scrollView && scrollView.current) {\n            scrollView.current.scrollTo({\n              y: (cellHeight * scrollOffsetMinutes) / 60,\n              animated: false,\n            })\n          }\n        },\n        Platform.OS === 'web' ? 0 : 10,\n      )\n    }\n  }, [scrollView, scrollOffsetMinutes, cellHeight])\n\n  const panResponder = usePanResponder({\n    onSwipeHorizontal,\n  })\n\n  const _onPressCell = React.useCallback(\n    (date: dayjs.Dayjs) => {\n      onPressCell && onPressCell(date.toDate())\n    },\n    [onPressCell],\n  )\n\n  const _renderMappedEvent = (event: T) => (\n    <CalendarEvent\n      key={`${event.start}${event.title}${event.end}`}\n      event={event}\n      onPressEvent={onPressEvent}\n      eventCellStyle={eventCellStyle}\n      showTime={showTime}\n      eventCount={getCountOfEventsAtEvent(event, events)}\n      eventOrder={getOrderOfEvent(event, events)}\n      overlapOffset={overlapOffset}\n      renderEvent={renderEvent}\n      ampm={ampm}\n    />\n  )\n\n  const theme = useTheme()\n\n  return (\n    <React.Fragment>\n      {headerComponent != null ? <View style={headerComponentStyle}>{headerComponent}</View> : null}\n      <ScrollView\n        style={[\n          {\n            height: containerHeight - cellHeight * 3,\n          },\n          style,\n        ]}\n        ref={scrollView}\n        scrollEventThrottle={32}\n        {...(Platform.OS !== 'web' ? panResponder.panHandlers : {})}\n        showsVerticalScrollIndicator={false}\n        nestedScrollEnabled\n        contentOffset={Platform.OS === 'ios' ? { x: 0, y: scrollOffsetMinutes } : { x: 0, y: 0 }}\n      >\n        <View\n          style={[u['flex-1'], theme.isRTL ? u['flex-row-reverse'] : u['flex-row']]}\n          {...(Platform.OS === 'web' ? panResponder.panHandlers : {})}\n        >\n          <View style={[u['z-20'], u['w-50']]}>\n            {hours.map((hour, index) => (\n              <HourGuideColumn\n                key={hour}\n                cellHeight={cellHeight}\n                hour={hour}\n                ampm={ampm}\n                index={index}\n                hourStyle={hourStyle}\n              />\n            ))}\n          </View>\n          {dateRange.map((date) => (\n            <View style={[u['flex-1'], u['overflow-hidden']]} key={date.toString()}>\n              {hours.map((hour, index) => (\n                <HourGuideCell\n                  key={hour}\n                  cellHeight={cellHeight}\n                  date={date}\n                  hour={hour}\n                  onPress={_onPressCell}\n                  index={index}\n                />\n              ))}\n\n              {/* Render events of this date */}\n              {/* M  T  (W)  T  F  S  S */}\n              {/*       S-E             */}\n              {events\n                .filter(({ start }) =>\n                  dayjs(start).isBetween(date.startOf('day'), date.endOf('day'), null, '[)'),\n                )\n                .map(_renderMappedEvent)}\n\n              {/* Render events which starts before this date and ends on this date */}\n              {/* M  T  (W)  T  F  S  S */}\n              {/* S------E              */}\n              {events\n                .filter(\n                  ({ start, end }) =>\n                    dayjs(start).isBefore(date.startOf('day')) &&\n                    dayjs(end).isBetween(date.startOf('day'), date.endOf('day'), null, '[)'),\n                )\n                .map((event) => ({\n                  ...event,\n                  start: dayjs(event.end).startOf('day'),\n                }))\n                .map(_renderMappedEvent)}\n\n              {/* Render events which starts before this date and ends after this date */}\n              {/* M  T  (W)  T  F  S  S */}\n              {/*    S-------E          */}\n              {events\n                .filter(\n                  ({ start, end }) =>\n                    dayjs(start).isBefore(date.startOf('day')) &&\n                    dayjs(end).isAfter(date.endOf('day')),\n                )\n                .map((event) => ({\n                  ...event,\n                  start: dayjs(event.end).startOf('day'),\n                  end: dayjs(event.end).endOf('day'),\n                }))\n                .map(_renderMappedEvent)}\n\n              {isToday(date) && !hideNowIndicator && (\n                <View\n                  style={[\n                    styles.nowIndicator,\n                    { backgroundColor: theme.palette.nowIndicator },\n                    { top: `${getRelativeTopInDay(now)}%` },\n                  ]}\n                />\n              )}\n            </View>\n          ))}\n        </View>\n      </ScrollView>\n    </React.Fragment>\n  )\n}\n\nexport const CalendarBody = typedMemo(_CalendarBody)\n","import dayjs from 'dayjs'\nimport * as React from 'react'\nimport { Text, TouchableOpacity, View } from 'react-native'\n\nimport { u } from '../commonStyles'\nimport { useCalendarTouchableOpacityProps } from '../hooks/useCalendarTouchableOpacityProps'\nimport { EventCellStyle, EventRenderer, ICalendarEventBase } from '../interfaces'\nimport { useTheme } from '../theme/ThemeContext'\nimport { getEventSpanningInfo, typedMemo } from '../utils'\n\ninterface CalendarEventProps<T extends ICalendarEventBase> {\n  event: T\n  onPressEvent?: (event: T) => void\n  eventCellStyle?: EventCellStyle<T>\n  renderEvent?: EventRenderer<T>\n  date: dayjs.Dayjs\n  dayOfTheWeek: number\n  calendarWidth: number\n  isRTL: boolean\n  eventMinHeightForMonthView: number\n}\n\nfunction _CalendarEventForMonthView<T extends ICalendarEventBase>({\n  event,\n  onPressEvent,\n  eventCellStyle,\n  renderEvent,\n  date,\n  dayOfTheWeek,\n  calendarWidth,\n  isRTL,\n  eventMinHeightForMonthView,\n}: CalendarEventProps<T>) {\n  const theme = useTheme()\n\n  const { eventWidth, isMultipleDays, isMultipleDaysStart, eventWeekDuration } = React.useMemo(\n    () => getEventSpanningInfo(event, date, dayOfTheWeek, calendarWidth),\n    [date, dayOfTheWeek, event, calendarWidth],\n  )\n\n  const touchableOpacityProps = useCalendarTouchableOpacityProps({\n    event,\n    eventCellStyle,\n    onPressEvent,\n    injectedStyles: [\n      { backgroundColor: theme.palette.primary.main },\n      isMultipleDaysStart && eventWeekDuration > 1\n        ? {\n            position: 'absolute',\n            width: eventWidth,\n            zIndex: 10000,\n          }\n        : {},\n      isRTL ? { right: 0 } : { left: 0 },\n      u['mt-2'],\n    ],\n  })\n\n  return (\n    <TouchableOpacity\n      style={{ minHeight: eventMinHeightForMonthView }}\n      onPress={() => onPressEvent?.(event)}\n    >\n      {(!isMultipleDays && date.isSame(event.start, 'day')) ||\n      (isMultipleDays && isMultipleDaysStart) ? (\n        renderEvent ? (\n          renderEvent(event, touchableOpacityProps)\n        ) : (\n          <View {...touchableOpacityProps}>\n            <Text\n              style={[\n                { color: theme.palette.primary.contrastText },\n                theme.typography.xs,\n                u['truncate'],\n                isRTL && { textAlign: 'right' },\n              ]}\n              numberOfLines={1}\n            >\n              {event.title}\n            </Text>\n          </View>\n        )\n      ) : null}\n    </TouchableOpacity>\n  )\n}\n\nexport const CalendarEventForMonthView = typedMemo(_CalendarEventForMonthView)\n","import calendarize from 'calendarize'\nimport dayjs from 'dayjs'\nimport * as React from 'react'\nimport { Platform, Text, TouchableOpacity, View, ViewStyle } from 'react-native'\n\nimport { u } from '../commonStyles'\nimport { useNow } from '../hooks/useNow'\nimport { usePanResponder } from '../hooks/usePanResponder'\nimport {\n  EventCellStyle,\n  EventRenderer,\n  HorizontalDirection,\n  ICalendarEventBase,\n  WeekNum,\n} from '../interfaces'\nimport { useTheme } from '../theme/ThemeContext'\nimport { typedMemo } from '../utils'\nimport { CalendarEventForMonthView } from './CalendarEventForMonthView'\n\ninterface CalendarBodyForMonthViewProps<T extends ICalendarEventBase> {\n  containerHeight: number\n  targetDate: dayjs.Dayjs\n  events: T[]\n  style: ViewStyle\n  eventCellStyle?: EventCellStyle<T>\n  hideNowIndicator?: boolean\n  onPressCell?: (date: Date) => void\n  onPressEvent?: (event: T) => void\n  onSwipeHorizontal?: (d: HorizontalDirection) => void\n  renderEvent?: EventRenderer<T>\n  maxVisibleEventCount: number\n  weekStartsOn: WeekNum\n  eventMinHeightForMonthView: number\n}\n\nfunction _CalendarBodyForMonthView<T extends ICalendarEventBase>({\n  containerHeight,\n  targetDate,\n  style,\n  onPressCell,\n  events,\n  onPressEvent,\n  eventCellStyle,\n  onSwipeHorizontal,\n  hideNowIndicator,\n  renderEvent,\n  maxVisibleEventCount,\n  weekStartsOn,\n  eventMinHeightForMonthView,\n}: CalendarBodyForMonthViewProps<T>) {\n  const { now } = useNow(!hideNowIndicator)\n  const [calendarWidth, setCalendarWidth] = React.useState<number>(0)\n\n  const panResponder = usePanResponder({\n    onSwipeHorizontal,\n  })\n\n  const weeks = calendarize(targetDate.toDate(), weekStartsOn)\n\n  const minCellHeight = containerHeight / 5 - 30\n  const theme = useTheme()\n\n  return (\n    <View\n      style={[\n        {\n          height: containerHeight,\n        },\n        u['flex-column'],\n        u['flex-1'],\n        u['border-b'],\n        u['border-l'],\n        u['border-r'],\n        u['rounded'],\n        { borderColor: theme.palette.gray['200'] },\n        style,\n      ]}\n      onLayout={({ nativeEvent: { layout } }) => setCalendarWidth(layout.width)}\n      {...panResponder.panHandlers}\n    >\n      {weeks.map((week, i) => (\n        <View\n          key={i}\n          style={[\n            u['flex-1'],\n            theme.isRTL ? u['flex-row-reverse'] : u['flex-row'],\n            Platform.OS === 'android' && style, // TODO: in Android, backgroundColor is not applied to child components\n            {\n              minHeight: minCellHeight,\n            },\n          ]}\n        >\n          {week\n            .map((d) => (d > 0 ? targetDate.date(d) : null))\n            .map((date, ii) => (\n              <TouchableOpacity\n                onPress={() => date && onPressCell && onPressCell(date.toDate())}\n                style={[\n                  i > 0 && u['border-t'],\n                  theme.isRTL && ii > 0 && u['border-r'],\n                  !theme.isRTL && ii > 0 && u['border-l'],\n                  { borderColor: theme.palette.gray['200'] },\n                  u['p-2'],\n                  u['flex-1'],\n                  u['flex-column'],\n                  {\n                    minHeight: minCellHeight,\n                  },\n                ]}\n                key={ii}\n              >\n                <Text\n                  style={[\n                    { textAlign: 'center' },\n                    theme.typography.sm,\n                    {\n                      color:\n                        date?.format('YYYY-MM-DD') === now.format('YYYY-MM-DD')\n                          ? theme.palette.primary.main\n                          : theme.palette.gray['800'],\n                    },\n                  ]}\n                >\n                  {date && date.format('D')}\n                </Text>\n                {date &&\n                  events\n                    .sort((a, b) => {\n                      if (dayjs(a.start).isSame(b.start, 'day')) {\n                        const aDuration = dayjs.duration(dayjs(a.end).diff(dayjs(a.start))).days()\n                        const bDuration = dayjs.duration(dayjs(b.end).diff(dayjs(b.start))).days()\n                        return bDuration - aDuration\n                      }\n                      return a.start.getTime() - b.start.getTime()\n                    })\n                    .filter(({ start, end }) =>\n                      date.isBetween(\n                        dayjs(start).startOf('day'),\n                        dayjs(end).endOf('day'),\n                        null,\n                        '[)',\n                      ),\n                    )\n                    .reduce(\n                      (elements, event, index, events) => [\n                        ...elements,\n                        index > maxVisibleEventCount ? null : index === maxVisibleEventCount ? (\n                          <Text\n                            key={index}\n                            style={{ fontSize: 11, marginTop: 2, fontWeight: 'bold' }}\n                          >\n                            {events.length - maxVisibleEventCount} More\n                          </Text>\n                        ) : (\n                          <CalendarEventForMonthView\n                            key={index}\n                            event={event}\n                            eventCellStyle={eventCellStyle}\n                            onPressEvent={onPressEvent}\n                            renderEvent={renderEvent}\n                            date={date}\n                            dayOfTheWeek={ii}\n                            calendarWidth={calendarWidth}\n                            isRTL={theme.isRTL}\n                            eventMinHeightForMonthView={eventMinHeightForMonthView}\n                          />\n                        ),\n                      ],\n                      [] as (null | JSX.Element)[],\n                    )}\n              </TouchableOpacity>\n            ))}\n        </View>\n      ))}\n    </View>\n  )\n}\n\nexport const CalendarBodyForMonthView = typedMemo(_CalendarBodyForMonthView)\n","import dayjs from 'dayjs'\nimport * as React from 'react'\nimport { Platform, Text, TouchableOpacity, View, ViewStyle } from 'react-native'\n\nimport { eventCellCss, u } from '../commonStyles'\nimport { ICalendarEventBase } from '../interfaces'\nimport { useTheme } from '../theme/ThemeContext'\nimport { isToday, objHasContent, stringHasContent, typedMemo } from '../utils'\n\nexport interface CalendarHeaderProps<T extends ICalendarEventBase> {\n  dateRange: dayjs.Dayjs[]\n  cellHeight: number\n  style: ViewStyle\n  allDayEvents: T[]\n  onPressDateHeader?: (date: Date) => void\n  onPressEvent?: (event: T) => void\n  activeDate?: Date\n  headerContentStyle?: ViewStyle\n  dayHeaderStyle?: ViewStyle\n  dayHeaderHighlightColor?: string\n  weekDayHeaderHighlightColor?: string\n  showAllDayEventCell?: boolean\n}\n\nfunction _CalendarHeader<T extends ICalendarEventBase>({\n  dateRange,\n  cellHeight,\n  style,\n  allDayEvents,\n  onPressDateHeader,\n  onPressEvent,\n  activeDate,\n  headerContentStyle = {},\n  dayHeaderStyle = {},\n  dayHeaderHighlightColor = '',\n  weekDayHeaderHighlightColor = '',\n  showAllDayEventCell = true,\n}: CalendarHeaderProps<T>) {\n  const _onPressHeader = React.useCallback(\n    (date: Date) => {\n      onPressDateHeader && onPressDateHeader(date)\n    },\n    [onPressDateHeader],\n  )\n\n  const _onPressEvent = React.useCallback(\n    (event: T) => {\n      onPressEvent && onPressEvent(event)\n    },\n    [onPressEvent],\n  )\n\n  const theme = useTheme()\n\n  const borderColor = { borderColor: theme.palette.gray['200'] }\n  const primaryBg = { backgroundColor: theme.palette.primary.main }\n\n  return (\n    <View\n      style={[\n        showAllDayEventCell ? u['border-b-2'] : {},\n        showAllDayEventCell ? borderColor : {},\n        theme.isRTL ? u['flex-row-reverse'] : u['flex-row'],\n        style,\n      ]}\n    >\n      <View style={[u['z-10'], u['w-50'], borderColor]} />\n      {dateRange.map((date) => {\n        const shouldHighlight = activeDate ? date.isSame(activeDate, 'date') : isToday(date)\n\n        return (\n          <TouchableOpacity\n            style={[u['flex-1'], u['pt-2']]}\n            onPress={() => _onPressHeader(date.toDate())}\n            disabled={onPressDateHeader === undefined}\n            key={date.toString()}\n          >\n            <View\n              style={[\n                { height: cellHeight },\n                objHasContent(headerContentStyle) ? headerContentStyle : u['justify-between'],\n              ]}\n            >\n              <Text\n                style={[\n                  theme.typography.xs,\n                  u['text-center'],\n                  {\n                    color: shouldHighlight\n                      ? stringHasContent(weekDayHeaderHighlightColor)\n                        ? weekDayHeaderHighlightColor\n                        : theme.palette.primary.main\n                      : theme.palette.gray['500'],\n                  },\n                ]}\n              >\n                {date.format('ddd')}\n              </Text>\n              <View\n                style={\n                  objHasContent(dayHeaderStyle)\n                    ? dayHeaderStyle\n                    : shouldHighlight\n                    ? [\n                        primaryBg,\n                        u['h-36'],\n                        u['w-36'],\n                        u['pb-6'],\n                        u['rounded-full'],\n                        u['items-center'],\n                        u['justify-center'],\n                        u['self-center'],\n                        u['z-20'],\n                      ]\n                    : [u['mb-6']]\n                }\n              >\n                <Text\n                  style={[\n                    {\n                      color: shouldHighlight\n                        ? stringHasContent(dayHeaderHighlightColor)\n                          ? dayHeaderHighlightColor\n                          : theme.palette.primary.contrastText\n                        : theme.palette.gray['800'],\n                    },\n                    theme.typography.xl,\n                    u['text-center'],\n                    Platform.OS === 'web' &&\n                      shouldHighlight &&\n                      !stringHasContent(dayHeaderHighlightColor) &&\n                      u['mt-6'],\n                  ]}\n                >\n                  {date.format('D')}\n                </Text>\n              </View>\n            </View>\n            {showAllDayEventCell ? (\n              <View\n                style={[\n                  u['border-l'],\n                  { borderColor: theme.palette.gray['200'] },\n                  { height: cellHeight },\n                ]}\n              >\n                {allDayEvents.map((event) => {\n                  if (!dayjs(date).isBetween(event.start, event.end, 'day', '[]')) {\n                    return null\n                  }\n                  return (\n                    <TouchableOpacity\n                      style={[eventCellCss.style, primaryBg, u['mt-2']]}\n                      key={`${event.start}${event.title}`}\n                      onPress={() => _onPressEvent(event)}\n                    >\n                      <Text\n                        style={{\n                          fontSize: theme.typography.sm.fontSize,\n                          color: theme.palette.primary.contrastText,\n                        }}\n                      >\n                        {event.title}\n                      </Text>\n                    </TouchableOpacity>\n                  )\n                })}\n              </View>\n            ) : null}\n          </TouchableOpacity>\n        )\n      })}\n    </View>\n  )\n}\n\nexport const CalendarHeader = typedMemo(_CalendarHeader)\n","import dayjs from 'dayjs'\nimport * as React from 'react'\nimport { Text, View, ViewStyle } from 'react-native'\n\nimport { u } from '../commonStyles'\nimport { WeekNum } from '../interfaces'\nimport { useTheme } from '../theme/ThemeContext'\nimport { getDatesInWeek, typedMemo } from '../utils'\n\nexport interface CalendarHeaderForMonthViewProps {\n  weekStartsOn: WeekNum\n  locale: string\n  style: ViewStyle\n}\n\nfunction _CalendarHeaderForMonthView({\n  locale,\n  weekStartsOn,\n  style,\n}: CalendarHeaderForMonthViewProps) {\n  const dates = getDatesInWeek(new Date(), weekStartsOn, locale)\n  const todayWeekNum = dayjs().day()\n\n  const theme = useTheme()\n\n  return (\n    <View\n      style={[\n        u['border-b'],\n        { borderColor: theme.palette.gray['100'] },\n        theme.isRTL ? u['flex-row-reverse'] : u['flex-row'],\n        style,\n      ]}\n    >\n      {dates.map((date) => (\n        <View style={{ flex: 1, paddingTop: 2 }} key={date.toISOString()}>\n          <View style={{ height: 30 }}>\n            <Text\n              style={[\n                u['text-center'],\n                {\n                  color:\n                    todayWeekNum === date.day()\n                      ? theme.palette.primary.main\n                      : theme.palette.gray['800'],\n                },\n              ]}\n            >\n              {date.format('ddd')}\n            </Text>\n          </View>\n        </View>\n      ))}\n    </View>\n  )\n}\n\nexport const CalendarHeaderForMonthView = typedMemo(_CalendarHeaderForMonthView)\n","import dayjs from 'dayjs'\nimport React from 'react'\nimport { TextStyle, ViewStyle } from 'react-native'\n\nimport { MIN_HEIGHT } from '../commonStyles'\nimport {\n  DateRangeHandler,\n  EventCellStyle,\n  EventRenderer,\n  HeaderRenderer,\n  HorizontalDirection,\n  ICalendarEventBase,\n  Mode,\n  MonthHeaderRenderer,\n  WeekNum,\n} from '../interfaces'\nimport { useTheme } from '../theme/ThemeContext'\nimport {\n  getDatesInMonth,\n  getDatesInNextCustomDays,\n  getDatesInNextOneDay,\n  getDatesInNextThreeDays,\n  getDatesInWeek,\n  isAllDayEvent,\n  modeToNum,\n  typedMemo,\n} from '../utils'\nimport { CalendarBody } from './CalendarBody'\nimport { CalendarBodyForMonthView } from './CalendarBodyForMonthView'\nimport { CalendarHeader } from './CalendarHeader'\nimport { CalendarHeaderForMonthView } from './CalendarHeaderForMonthView'\n\nexport interface CalendarContainerProps<T extends ICalendarEventBase> {\n  /**\n   * Events to be rendered. This is a required prop.\n   */\n  events: T[]\n\n  /**\n   * The height of calendar component. This is a required prop.\n   */\n  height: number\n\n  /**\n   * The height of each hour row.\n   */\n  hourRowHeight?: number\n\n  /**\n   * Adjusts the indentation of events that occur during the same time period. Defaults to 20 on web and 8 on mobile.\n   */\n  overlapOffset?: number\n\n  // Custom style\n  eventCellStyle?: EventCellStyle<T>\n  calendarContainerStyle?: ViewStyle\n  headerContainerStyle?: ViewStyle\n  headerContentStyle?: ViewStyle\n  dayHeaderStyle?: ViewStyle\n  dayHeaderHighlightColor?: string\n  weekDayHeaderHighlightColor?: string\n  bodyContainerStyle?: ViewStyle\n\n  // Custom renderer\n  renderEvent?: EventRenderer<T>\n  renderHeader?: HeaderRenderer<T>\n  renderHeaderForMonthView?: MonthHeaderRenderer\n\n  ampm?: boolean\n  date?: Date\n  locale?: string\n  hideNowIndicator?: boolean\n  mode?: Mode\n  scrollOffsetMinutes?: number\n  showTime?: boolean\n\n  swipeEnabled?: boolean\n  weekStartsOn?: WeekNum\n  onChangeDate?: DateRangeHandler\n  onPressCell?: (date: Date) => void\n  onPressDateHeader?: (date: Date) => void\n  onPressEvent?: (event: T) => void\n  weekEndsOn?: WeekNum\n  maxVisibleEventCount?: number\n  eventMinHeightForMonthView?: number\n  activeDate?: Date\n  headerComponent?: React.ReactElement | null\n  headerComponentStyle?: ViewStyle\n  hourStyle?: TextStyle\n  showAllDayEventCell?: boolean\n}\n\nfunction _CalendarContainer<T extends ICalendarEventBase>({\n  events,\n  height,\n  hourRowHeight,\n  ampm = false,\n  date,\n  eventCellStyle,\n  locale = 'en',\n  hideNowIndicator = false,\n  mode = 'week',\n  overlapOffset,\n  scrollOffsetMinutes = 0,\n  showTime = true,\n  headerContainerStyle = {},\n  headerContentStyle = {},\n  dayHeaderStyle = {},\n  dayHeaderHighlightColor = '',\n  weekDayHeaderHighlightColor = '',\n  bodyContainerStyle = {},\n  swipeEnabled = true,\n  weekStartsOn = 0,\n  onChangeDate,\n  onPressCell,\n  onPressDateHeader,\n  onPressEvent,\n  renderEvent,\n  renderHeader: HeaderComponent = CalendarHeader,\n  renderHeaderForMonthView: HeaderComponentForMonthView = CalendarHeaderForMonthView,\n  weekEndsOn = 6,\n  maxVisibleEventCount = 3,\n  eventMinHeightForMonthView = 22,\n  activeDate,\n  headerComponent = null,\n  headerComponentStyle = {},\n  hourStyle = {},\n  showAllDayEventCell = true,\n}: CalendarContainerProps<T>) {\n  const [targetDate, setTargetDate] = React.useState(dayjs(date))\n\n  React.useEffect(() => {\n    if (date) {\n      setTargetDate(dayjs(date))\n    }\n  }, [date])\n\n  const allDayEvents = React.useMemo(\n    () => events.filter((event) => isAllDayEvent(event.start, event.end)),\n    [events],\n  )\n\n  const daytimeEvents = React.useMemo(\n    () => events.filter((event) => !isAllDayEvent(event.start, event.end)),\n    [events],\n  )\n\n  const dateRange = React.useMemo(() => {\n    switch (mode) {\n      case 'month':\n        return getDatesInMonth(targetDate, locale)\n      case 'week':\n        return getDatesInWeek(targetDate, weekStartsOn, locale)\n      case '3days':\n        return getDatesInNextThreeDays(targetDate, locale)\n      case 'day':\n        return getDatesInNextOneDay(targetDate, locale)\n      case 'custom':\n        return getDatesInNextCustomDays(targetDate, weekStartsOn, weekEndsOn, locale)\n      default:\n        throw new Error(\n          `[react-native-big-calendar] The mode which you specified \"${mode}\" is not supported.`,\n        )\n    }\n  }, [mode, targetDate, locale, weekEndsOn, weekStartsOn])\n\n  React.useEffect(() => {\n    if (onChangeDate) {\n      onChangeDate([dateRange[0].toDate(), dateRange.slice(-1)[0].toDate()])\n    }\n  }, [dateRange, onChangeDate])\n\n  const cellHeight = React.useMemo(\n    () => hourRowHeight || Math.max(height - 30, MIN_HEIGHT) / 24,\n    [height, hourRowHeight],\n  )\n\n  const theme = useTheme()\n\n  const onSwipeHorizontal = React.useCallback(\n    (direction: HorizontalDirection) => {\n      if (!swipeEnabled) {\n        return\n      }\n      if ((direction === 'LEFT' && !theme.isRTL) || (direction === 'RIGHT' && theme.isRTL)) {\n        setTargetDate(targetDate.add(modeToNum(mode, targetDate), 'day'))\n      } else {\n        setTargetDate(targetDate.add(modeToNum(mode, targetDate) * -1, 'day'))\n      }\n    },\n    [swipeEnabled, targetDate, mode, theme.isRTL],\n  )\n\n  const commonProps = {\n    cellHeight,\n    dateRange,\n    mode,\n    onPressEvent,\n  }\n\n  if (mode === 'month') {\n    const headerProps = {\n      style: headerContainerStyle,\n      locale: locale,\n      weekStartsOn: weekStartsOn,\n      headerContentStyle: headerContentStyle,\n      dayHeaderStyle: dayHeaderStyle,\n      dayHeaderHighlightColor: dayHeaderHighlightColor,\n      weekDayHeaderHighlightColor: weekDayHeaderHighlightColor,\n      showAllDayEventCell: showAllDayEventCell,\n    }\n    return (\n      <React.Fragment>\n        <HeaderComponentForMonthView {...headerProps} />\n        <CalendarBodyForMonthView<T>\n          {...commonProps}\n          style={bodyContainerStyle}\n          containerHeight={height}\n          events={[...daytimeEvents, ...allDayEvents]}\n          eventCellStyle={eventCellStyle}\n          weekStartsOn={weekStartsOn}\n          hideNowIndicator={hideNowIndicator}\n          onPressCell={onPressCell}\n          onPressEvent={onPressEvent}\n          onSwipeHorizontal={onSwipeHorizontal}\n          renderEvent={renderEvent}\n          targetDate={targetDate}\n          maxVisibleEventCount={maxVisibleEventCount}\n          eventMinHeightForMonthView={eventMinHeightForMonthView}\n        />\n      </React.Fragment>\n    )\n  }\n\n  const headerProps = {\n    ...commonProps,\n    style: headerContainerStyle,\n    allDayEvents: allDayEvents,\n    onPressDateHeader: onPressDateHeader,\n    activeDate,\n    headerContentStyle: headerContentStyle,\n    dayHeaderStyle: dayHeaderStyle,\n    dayHeaderHighlightColor: dayHeaderHighlightColor,\n    weekDayHeaderHighlightColor: weekDayHeaderHighlightColor,\n    showAllDayEventCell: showAllDayEventCell,\n  }\n\n  return (\n    <React.Fragment>\n      <HeaderComponent {...headerProps} />\n      <CalendarBody\n        {...commonProps}\n        style={bodyContainerStyle}\n        containerHeight={height}\n        events={daytimeEvents}\n        eventCellStyle={eventCellStyle}\n        hideNowIndicator={hideNowIndicator}\n        overlapOffset={overlapOffset}\n        scrollOffsetMinutes={scrollOffsetMinutes}\n        ampm={ampm}\n        showTime={showTime}\n        onPressCell={onPressCell}\n        onPressEvent={onPressEvent}\n        onSwipeHorizontal={onSwipeHorizontal}\n        renderEvent={renderEvent}\n        headerComponent={headerComponent}\n        headerComponentStyle={headerComponentStyle}\n        hourStyle={hourStyle}\n      />\n    </React.Fragment>\n  )\n}\n\nexport const CalendarContainer = typedMemo(_CalendarContainer)\n","import dayjs from 'dayjs'\nimport isBetween from 'dayjs/plugin/isBetween'\nimport { merge } from 'merge-anything'\nimport React from 'react'\n\nimport { ICalendarEventBase } from '../interfaces'\nimport { defaultTheme } from '../theme/defaultTheme'\nimport { ThemeContext } from '../theme/ThemeContext'\nimport { ThemeInterface } from '../theme/ThemeInterface'\nimport { DeepPartial } from '../utility-types'\nimport { typedMemo } from '../utils'\nimport { CalendarContainer, CalendarContainerProps } from './CalendarContainer'\n\nexport interface CalendarProps<T extends ICalendarEventBase> extends CalendarContainerProps<T> {\n  theme?: DeepPartial<ThemeInterface>\n  isRTL?: boolean\n}\n\ndayjs.extend(isBetween)\n\nfunction _Calendar<T extends ICalendarEventBase>({\n  theme = defaultTheme,\n  isRTL,\n  ...props\n}: CalendarProps<T>) {\n  const _theme = merge(defaultTheme, theme, { isRTL }) as ThemeInterface\n  return (\n    <ThemeContext.Provider value={_theme}>\n      <CalendarContainer {...props} />\n    </ThemeContext.Provider>\n  )\n}\n\nexport const Calendar = typedMemo(_Calendar)\n","import dayjs from 'dayjs'\nimport duration from 'dayjs/plugin/duration'\nimport isBetween from 'dayjs/plugin/isBetween'\n\nimport { Calendar } from './components/Calendar'\n\ndayjs.extend(duration)\ndayjs.extend(isBetween)\n\nexport * from './components/Calendar'\nexport * from './components/CalendarBody'\nexport * from './components/CalendarBodyForMonthView'\nexport * from './components/CalendarEvent'\nexport * from './components/CalendarEventForMonthView'\nexport * from './components/CalendarHeader'\nexport * from './components/CalendarHeaderForMonthView'\nexport * from './components/DefaultCalendarEventRenderer'\n\nexport * from './commonStyles'\nexport * from './interfaces'\nexport * from './theme/ThemeContext'\nexport * from './theme/ThemeInterface'\nexport * from './theme/defaultTheme'\nexport * from './utils'\n\nexport * from './interfaces'\n\n/* eslint-disable */\nexport default Calendar\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"\"use strict\";\n\nvar _objectWithoutProperties = require(\"@babel/runtime/helpers/objectWithoutProperties\");\n\nvar _excluded = [\"TDefaultRenderer\"];\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useInternalRenderer;\n\nvar _IMGElement = _interopRequireDefault(require(\"../elements/IMGElement\"));\n\nvar _OLElement = _interopRequireDefault(require(\"../elements/OLElement\"));\n\nvar _ULElement = _interopRequireDefault(require(\"../elements/ULElement\"));\n\nvar _ARenderer = require(\"../renderers/ARenderer\");\n\nvar _IMGRenderer = require(\"../renderers/IMGRenderer\");\n\nvar _OLRenderer = require(\"../renderers/OLRenderer\");\n\nvar _ULRenderer = require(\"../renderers/ULRenderer\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar specialRenderersConfig = {\n  img: {\n    hook: _IMGRenderer.useIMGElementProps,\n    Element: _IMGElement.default\n  },\n  ol: {\n    hook: _OLRenderer.useOLElementProps,\n    Element: _OLElement.default\n  },\n  ul: {\n    hook: _ULRenderer.useULElementProps,\n    Element: _ULElement.default\n  },\n  a: {\n    hook: _ARenderer.useAElementProps,\n    Element: undefined\n  }\n};\n\nfunction hasSpecialInternalRenderer(tagName) {\n  return tagName in specialRenderersConfig;\n}\n\nfunction useInternalRenderer(tagName, props) {\n  var TDefaultRenderer = props.TDefaultRenderer,\n      rendererProps = _objectWithoutProperties(props, _excluded);\n\n  if (hasSpecialInternalRenderer(tagName)) {\n    return {\n      Renderer: specialRenderersConfig[tagName].Element || TDefaultRenderer,\n      rendererProps: specialRenderersConfig[tagName].hook(props)\n    };\n  }\n\n  return {\n    Renderer: TDefaultRenderer,\n    rendererProps: rendererProps\n  };\n}","map":{"version":3,"sources":["useInternalRenderer.ts"],"names":["specialRenderersConfig","img","hook","useIMGElementProps","Element","IMGElement","ol","useOLElementProps","OLElement","ul","useULElementProps","ULElement","a","useAElementProps","undefined","tagName","rendererProps","hasSpecialInternalRenderer","Renderer"],"mappings":";;;;;;;;;;AAEA,IAAA,WAAA,GAAA,sBAAA,CAAA,OAAA,0BAAA,CAAA;;AACA,IAAA,UAAA,GAAA,sBAAA,CAAA,OAAA,yBAAA,CAAA;;AACA,IAAA,UAAA,GAAA,sBAAA,CAAA,OAAA,yBAAA,CAAA;;AACA,IAAA,UAAA,GAAA,OAAA,0BAAA;;AACA,IAAA,YAAA,GAAA,OAAA,4BAAA;;AACA,IAAA,WAAA,GAAA,OAAA,2BAAA;;AACA,IAAA,WAAA,GAAA,OAAA,2BAAA;;;;;;;;AAGA,IAAMA,sBAAsB,GAAG;AAC7BC,EAAAA,GAAG,EAAE;AACHC,IAAAA,IAAI,EAAEC,YAAAA,CADH,kBAAA;AAEHC,IAAAA,OAAO,EAAEC,WAAAA,CAAAA;AAFN,GADwB;AAK7BC,EAAAA,EAAE,EAAE;AACFJ,IAAAA,IAAI,EAAEK,WAAAA,CADJ,iBAAA;AAEFH,IAAAA,OAAO,EAAEI,UAAAA,CAAAA;AAFP,GALyB;AAS7BC,EAAAA,EAAE,EAAE;AACFP,IAAAA,IAAI,EAAEQ,WAAAA,CADJ,iBAAA;AAEFN,IAAAA,OAAO,EAAEO,UAAAA,CAAAA;AAFP,GATyB;AAa7BC,EAAAA,CAAC,EAAE;AACDV,IAAAA,IAAI,EAAEW,UAAAA,CADL,gBAAA;AAEDT,IAAAA,OAAO,EAAEU;AAFR;AAb0B,CAA/B;;AAqBA,SAAA,0BAAA,CAAA,OAAA,EAEkD;AAChD,SAAOC,OAAO,IAAd,sBAAA;AACD;;AAoBc,SAAA,mBAAA,CAAA,OAAA,EAAA,KAAA,EAKwC;AACrD,MAAM,gBAAN,GAAA,KAAA,CAAM,gBAAN;AAAA,MAA6BC,aAA7B,4BAAA,KAAA;;AACA,MAAIC,0BAA0B,CAA9B,OAA8B,CAA9B,EAAyC;AACvC,WAAO;AACLC,MAAAA,QAAQ,EAAElB,sBAAsB,CAAtBA,OAAsB,CAAtBA,CAAAA,OAAAA,IADL,gBAAA;AAELgB,MAAAA,aAAa,EAAEhB,sBAAsB,CAAtBA,OAAsB,CAAtBA,CAAAA,IAAAA,CAAAA,KAAAA;AAFV,KAAP;AAID;;AACD,SAAO;AACLkB,IAAAA,QAAQ,EADH,gBAAA;AAELF,IAAAA,aAAAA,EAAAA;AAFK,GAAP;AAID","sourcesContent":["import { TagName } from '@native-html/transient-render-engine';\nimport { ComponentType } from 'react';\nimport IMGElement from '../elements/IMGElement';\nimport OLElement from '../elements/OLElement';\nimport ULElement from '../elements/ULElement';\nimport { useAElementProps } from '../renderers/ARenderer';\nimport { useIMGElementProps } from '../renderers/IMGRenderer';\nimport { useOLElementProps } from '../renderers/OLRenderer';\nimport { useULElementProps } from '../renderers/ULRenderer';\nimport { InternalRendererProps, TDefaultRendererProps } from '../shared-types';\n\nconst specialRenderersConfig = {\n  img: {\n    hook: useIMGElementProps,\n    Element: IMGElement\n  },\n  ol: {\n    hook: useOLElementProps,\n    Element: OLElement\n  },\n  ul: {\n    hook: useULElementProps,\n    Element: ULElement\n  },\n  a: {\n    hook: useAElementProps,\n    Element: undefined\n  }\n};\n\nexport type InternalSpecialRenderedTag = keyof typeof specialRenderersConfig;\n\nfunction hasSpecialInternalRenderer(\n  tagName: TagName\n): tagName is keyof typeof specialRenderersConfig {\n  return tagName in specialRenderersConfig;\n}\n\nexport interface InternalRendererConfig<P> {\n  Renderer: ComponentType<P>;\n  rendererProps: P;\n}\n/**\n * Resuse internal renderers logic for infinite customization!\n *\n * @remarks `tagName` must be invariant, i.e. it cannot change. You would\n * otherwise break the rules of hooks.\n *\n * @param tagName - **Invariant** The tag name to extend.\n * @param props - The props passed to the custom renderer.\n * @typeParam T - The name of the tag to target.\n * @returns An object with two fields: `Renderer` (the internal react\n * component) and `rendererProps`, the internal component props.\n *\n * @public\n */\nexport default function useInternalRenderer<T extends TagName>(\n  tagName: T,\n  props: InternalRendererProps<any>\n): T extends InternalSpecialRenderedTag\n  ? InternalRendererConfig<ReturnType<typeof specialRenderersConfig[T]['hook']>>\n  : InternalRendererConfig<TDefaultRendererProps<any>> {\n  const { TDefaultRenderer, ...rendererProps } = props;\n  if (hasSpecialInternalRenderer(tagName)) {\n    return {\n      Renderer: specialRenderersConfig[tagName].Element || TDefaultRenderer,\n      rendererProps: specialRenderersConfig[tagName].hook(props as any)\n    } as any;\n  }\n  return {\n    Renderer: TDefaultRenderer,\n    rendererProps\n  } as any;\n}\n"]},"metadata":{},"sourceType":"script"}
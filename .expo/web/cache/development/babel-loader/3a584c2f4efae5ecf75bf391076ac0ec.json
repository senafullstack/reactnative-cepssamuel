{"ast":null,"code":"\"use strict\";\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useAssembledCommonProps;\n\nvar _mergeCollapsedMargins = _interopRequireDefault(require(\"../helpers/mergeCollapsedMargins\"));\n\nvar _RenderRegistryProvider = require(\"../context/RenderRegistryProvider\");\n\nvar _SharedPropsProvider = require(\"../context/SharedPropsProvider\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction useAssembledCommonProps(_ref, TDefault) {\n  var tnode = _ref.tnode,\n      propsFromParent = _ref.propsFromParent,\n      sharedProps = _ref.sharedProps,\n      renderIndex = _ref.renderIndex,\n      renderLength = _ref.renderLength,\n      TNodeChildrenRenderer = _ref.TNodeChildrenRenderer;\n\n  var _ref2 = (0, _RenderRegistryProvider.useRendererConfig)(tnode),\n      Default = _ref2.Default,\n      Custom = _ref2.Custom;\n\n  var containerProps = (0, _SharedPropsProvider.useDefaultContainerProps)();\n\n  var assembledProps = _objectSpread({\n    tnode: tnode,\n    propsFromParent: propsFromParent,\n    sharedProps: sharedProps,\n    TDefaultRenderer: TDefault,\n    TNodeChildrenRenderer: TNodeChildrenRenderer,\n    style: (0, _mergeCollapsedMargins.default)(propsFromParent === null || propsFromParent === void 0 ? void 0 : propsFromParent.collapsedMarginTop, tnode.getNativeStyles()),\n    type: tnode.type === 'text' || tnode.type === 'phrasing' ? 'text' : 'block',\n    propsForChildren: tnode.tagName ? {} : propsFromParent,\n    InternalRenderer: Default || TDefault,\n    renderIndex: renderIndex,\n    renderLength: renderLength\n  }, containerProps);\n\n  return {\n    assembledProps: assembledProps,\n    Renderer: Custom || Default || null\n  };\n}","map":{"version":3,"sources":["useAssembledCommonProps.ts"],"names":["TNodeChildrenRenderer","Custom","containerProps","assembledProps","tnode","propsFromParent","sharedProps","TDefaultRenderer","style","type","propsForChildren","InternalRenderer","Default","renderIndex","renderLength","Renderer"],"mappings":";;;;;;;;;;;;;AAUA,IAAA,sBAAA,GAAA,sBAAA,CAAA,OAAA,oCAAA,CAAA;;AACA,IAAA,uBAAA,GAAA,OAAA,qCAAA;;AACA,IAAA,oBAAA,GAAA,OAAA,kCAAA;;;;;;;;AAKe,SAAA,uBAAA,OAAA,QAAA,EAeb;AAAA,MAdA,KAcA,QAdA,KAcA;AAAA,MAdA,eAcA,QAdA,eAcA;AAAA,MAdA,WAcA,QAdA,WAcA;AAAA,MAdA,WAcA,QAdA,WAcA;AAAA,MAdA,YAcA,QAdA,YAcA;AAAA,MAREA,qBAQF,QAREA,qBAQF;;AACA,cAA4B,CAAA,GAAA,uBAAA,CAAA,iBAAA,EAA5B,KAA4B,CAA5B;AAAA,MAAM,OAAN,SAAM,OAAN;AAAA,MAAiBC,MAAjB,SAAiBA,MAAjB;;AACA,MAAMC,cAAc,GAAG,CAAA,GAAA,oBAAA,CAAvB,wBAAuB,GAAvB;;AACA,MAAMC,cAAiE;AACrEC,IAAAA,KADwE,EACxEA,KADqE;AAErEC,IAAAA,eAFwE,EAExEA,eAFqE;AAGrEC,IAAAA,WAHwE,EAGxEA,WAHqE;AAIrEC,IAAAA,gBAAgB,EAJwD,QAAH;AAKrEP,IAAAA,qBALwE,EAKxEA,qBALqE;AAMrEQ,IAAAA,KAAK,EAAE,CAAA,GAAA,sBAAA,CAAA,OAAA,EACLH,eADK,KAAA,IACLA,IAAAA,eADK,KAAA,KAAA,CACLA,GADK,KAAA,CACLA,GAAAA,eAAe,CADV,kBAAA,EAELD,KAAK,CARiE,eAQtEA,EAFK,CAN8D;AAUrEK,IAAAA,IAAI,EAAEL,KAAK,CAALA,IAAAA,KAAAA,MAAAA,IAAyBA,KAAK,CAALA,IAAAA,KAAzBA,UAAAA,GAAAA,MAAAA,GAVkE,OAAH;AAWrEM,IAAAA,gBAAgB,EAAEN,KAAK,CAALA,OAAAA,GAAAA,EAAAA,GAXsD,eAAH;AAYrEO,IAAAA,gBAAgB,EAAEC,OAAO,IAZ+C,QAAH;AAarEC,IAAAA,WAbwE,EAaxEA,WAbqE;AAcrEC,IAAAA,YAdwE,EAcxEA;AAdqE,KAelEZ,cAfkE,CAAvE;;AAiBA,SAAO;AACLC,IAAAA,cADK,EACLA,cADK;AAELY,IAAAA,QAAQ,EAAEd,MAAM,IAANA,OAAAA,IAAqB;AAF1B,GAAP;AAID","sourcesContent":["import { TNode } from '@native-html/transient-render-engine';\nimport {\n  CustomRenderer,\n  CustomRendererProps,\n  InternalRenderer,\n  InternalRendererProps,\n  TDefaultRenderer,\n  TDefaultRendererProps\n} from '../shared-types';\nimport { TNodeSubRendererProps } from '../internal-types';\nimport mergeCollapsedMargins from '../helpers/mergeCollapsedMargins';\nimport { useRendererConfig } from '../context/RenderRegistryProvider';\nimport { useDefaultContainerProps } from '../context/SharedPropsProvider';\n\n/**\n * @internal\n */\nexport default function useAssembledCommonProps<T extends TNode>(\n  {\n    tnode,\n    propsFromParent,\n    sharedProps,\n    renderIndex,\n    renderLength,\n    TNodeChildrenRenderer\n  }: TNodeSubRendererProps<T>,\n  TDefault: TDefaultRenderer<T> | null\n): {\n  Renderer: CustomRenderer<T> | InternalRenderer<T> | null;\n  assembledProps: CustomRendererProps<T> &\n    TDefaultRendererProps<T> &\n    InternalRendererProps<T>;\n} {\n  const { Default, Custom } = useRendererConfig(tnode);\n  const containerProps = useDefaultContainerProps();\n  const assembledProps: CustomRendererProps<T> & TDefaultRendererProps<T> = {\n    tnode,\n    propsFromParent,\n    sharedProps,\n    TDefaultRenderer: TDefault as TDefaultRenderer<T>,\n    TNodeChildrenRenderer,\n    style: mergeCollapsedMargins(\n      propsFromParent?.collapsedMarginTop,\n      tnode.getNativeStyles()\n    ) as any,\n    type: tnode.type === 'text' || tnode.type === 'phrasing' ? 'text' : 'block',\n    propsForChildren: tnode.tagName ? {} : propsFromParent,\n    InternalRenderer: Default || (TDefault as any),\n    renderIndex,\n    renderLength,\n    ...containerProps\n  };\n  return {\n    assembledProps,\n    Renderer: Custom || Default || null\n  };\n}\n"]},"metadata":{},"sourceType":"script"}
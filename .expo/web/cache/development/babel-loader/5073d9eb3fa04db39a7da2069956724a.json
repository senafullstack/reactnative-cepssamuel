{"ast":null,"code":"\"use strict\";\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\n\nvar _objectWithoutProperties = require(\"@babel/runtime/helpers/objectWithoutProperties\");\n\nvar _excluded = [\"tnode\", \"TDefaultRenderer\", \"listType\", \"style\", \"getFallbackListStyleTypeFromNestLevel\", \"markerBoxStyle\", \"markerTextStyle\", \"enableExperimentalRtl\", \"enableRemoveTopMarginIfNested\", \"enableRemoveBottomMarginIfNested\", \"enableDynamicMarkerBoxWidth\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getMarkerBoxStyle = getMarkerBoxStyle;\nexports.default = ListElement;\n\nvar _reactNative = require(\"react-native-web/dist/index\");\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNativeLi = require(\"@jsamr/react-native-li\");\n\nvar _TChildrenRendererContext = require(\"../context/TChildrenRendererContext\");\n\nvar _constants = require(\"../constants\");\n\nvar _pick = _interopRequireDefault(require(\"ramda/src/pick\"));\n\nvar _ListStyleSpecsProvider = require(\"../context/ListStyleSpecsProvider\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction getStartIndex(tnode) {\n  var parsedIndex = tnode.attributes.start ? Number(tnode.attributes.start) : Number.NaN;\n  return Number.isNaN(parsedIndex) ? 1 : parsedIndex;\n}\n\nvar pickMarkerTextStyles = (0, _pick.default)(['fontStyle', 'fontSize', 'fontWeight', 'fontFamily', 'fontVariant', 'color', 'lineHeight']);\n\nfunction extractMarkerTextStyle(tnode) {\n  return Object.assign({\n    lineHeight: 14 * 1.3,\n    fontSize: 14,\n    color: _constants.DEFAULT_TEXT_COLOR\n  }, pickMarkerTextStyles(tnode.styles.nativeTextFlow));\n}\n\nfunction getMarkerBoxStyle(markerWidth, paddingValue) {\n  var markerBoxWidth = typeof markerWidth === 'number' ? typeof paddingValue === 'number' ? Math.max(paddingValue, markerWidth) : markerWidth : paddingValue;\n  return {\n    width: markerBoxWidth\n  };\n}\n\nvar listStyleTypeFallbackRecord = {\n  ol: 'decimal',\n  ul: 'disc'\n};\n\nfunction ListElement(_ref) {\n  var tnode = _ref.tnode,\n      TDefaultRenderer = _ref.TDefaultRenderer,\n      listType = _ref.listType,\n      style = _ref.style,\n      getFallbackListStyleTypeFromNestLevel = _ref.getFallbackListStyleTypeFromNestLevel,\n      markerBoxStyle = _ref.markerBoxStyle,\n      providedMarkerTextStyle = _ref.markerTextStyle,\n      _ref$enableExperiment = _ref.enableExperimentalRtl,\n      enableExperimentalRtl = _ref$enableExperiment === void 0 ? false : _ref$enableExperiment,\n      _ref$enableRemoveTopM = _ref.enableRemoveTopMarginIfNested,\n      enableRemoveTopMarginIfNested = _ref$enableRemoveTopM === void 0 ? true : _ref$enableRemoveTopM,\n      _ref$enableRemoveBott = _ref.enableRemoveBottomMarginIfNested,\n      enableRemoveBottomMarginIfNested = _ref$enableRemoveBott === void 0 ? true : _ref$enableRemoveBott,\n      _ref$enableDynamicMar = _ref.enableDynamicMarkerBoxWidth,\n      enableDynamicMarkerBoxWidth = _ref$enableDynamicMar === void 0 ? false : _ref$enableDynamicMar,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _tnode$parent, _tnode$parent2, _tnode$parent3, _style$fixedPaddingRu;\n\n  var listStyleSpecs = (0, _ListStyleSpecsProvider.useListStyleSpecs)();\n  var markers = tnode.markers;\n  var nestLevel = listType === 'ol' ? markers.olNestLevel : markers.ulNestLevel;\n  var TChildrenRenderer = (0, _TChildrenRendererContext.useTChildrenRenderer)();\n  var rtl = enableExperimentalRtl && (style.direction === 'rtl' || markers.direction === 'rtl');\n  var removeTopMarginStyle = enableRemoveTopMarginIfNested && ((_tnode$parent = tnode.parent) === null || _tnode$parent === void 0 ? void 0 : _tnode$parent.tagName) === 'li' && tnode.nodeIndex === 0 ? styles.zeroMarginTop : null;\n  var removeBottomMarginStyle = enableRemoveBottomMarginIfNested && ((_tnode$parent2 = tnode.parent) === null || _tnode$parent2 === void 0 ? void 0 : _tnode$parent2.tagName) === 'li' && tnode.nodeIndex === ((_tnode$parent3 = tnode.parent) === null || _tnode$parent3 === void 0 ? void 0 : _tnode$parent3.children.length) - 1 ? styles.zeroMarginBottom : null;\n  var ownListType = tnode.styles.webTextFlow.listStyleType;\n  var selectedListType = getFallbackListStyleTypeFromNestLevel(nestLevel) || ownListType || listStyleTypeFallbackRecord[listType];\n  var listStyleType = ownListType || selectedListType;\n\n  if (typeof __DEV__ === 'boolean' && __DEV__ && !(listStyleType in listStyleSpecs)) {\n    if (listStyleType.match(/^(\"|')/)) {\n      console.warn(\"This library doesn't support strings for list-style-type CSS properties.\");\n    } else {\n      console.warn(\"list-style-type \\\"\" + listStyleType + \"\\\" is not handled by react-native-render-html. \" + 'You can easily provide support for this style via \"customListStyleSpecs\" prop.');\n    }\n  }\n\n  var spec = listStyleType in listStyleSpecs ? listStyleSpecs[listStyleType] : listStyleSpecs[selectedListType];\n  var counterRenderer = spec.counterStyleRenderer;\n  var startIndex = getStartIndex(tnode);\n  var markerTextStyle = typeof providedMarkerTextStyle === 'object' && providedMarkerTextStyle ? _objectSpread(_objectSpread({}, extractMarkerTextStyle(tnode)), providedMarkerTextStyle) : extractMarkerTextStyle(tnode);\n  var itemProps = (0, _reactNativeLi.useMarkedList)({\n    counterRenderer: counterRenderer,\n    startIndex: startIndex,\n    markerTextStyle: markerTextStyle,\n    markerBoxStyle: markerBoxStyle,\n    rtlLineReversed: rtl,\n    rtlMarkerReversed: rtl,\n    length: tnode.children.length,\n    dynamicMarkerBoxWidth: enableDynamicMarkerBoxWidth,\n    renderMarker: spec.renderMarker\n  });\n  var markerWidth = itemProps.markerTextWidth;\n  var fixedPaddingRule = rtl ? 'paddingRight' : 'paddingLeft';\n  var paddingValue = (_style$fixedPaddingRu = style[fixedPaddingRule]) !== null && _style$fixedPaddingRu !== void 0 ? _style$fixedPaddingRu : style.paddingLeft;\n  var markerBoxWidthStyle = getMarkerBoxStyle(markerWidth, paddingValue);\n\n  var renderChild = function renderChild(_ref2) {\n    var childElement = _ref2.childElement,\n        key = _ref2.key,\n        index = _ref2.index;\n    return _react.default.createElement(_reactNativeLi.MarkedListItem, _extends({\n      key: key,\n      index: index\n    }, itemProps, {\n      markerBoxStyle: [itemProps.markerBoxStyle, markerBoxWidthStyle],\n      markerTextStyle: itemProps.markerTextStyle,\n      enableMarkerClipping: true,\n      style: itemProps.style\n    }), _react.default.createElement(_reactNative.View, {\n      style: styles.shrink\n    }, childElement));\n  };\n\n  var dynamicPaddingStyle = _defineProperty({\n    position: 'relative'\n  }, fixedPaddingRule, 0);\n\n  return _react.default.createElement(TDefaultRenderer, _extends({\n    tnode: tnode,\n    style: [style, removeTopMarginStyle, removeBottomMarginStyle, dynamicPaddingStyle]\n  }, props), _react.default.createElement(TChildrenRenderer, {\n    tchildren: tnode.children,\n    renderChild: renderChild\n  }));\n}\n\nvar styles = _reactNative.StyleSheet.create({\n  zeroMarginTop: {\n    marginTop: 0\n  },\n  zeroMarginBottom: {\n    marginBottom: 0\n  },\n  shrink: {\n    flexShrink: 1\n  }\n});","map":{"version":3,"sources":["ListElement.tsx"],"names":["parsedIndex","tnode","Number","pickMarkerTextStyles","lineHeight","fontSize","color","DEFAULT_TEXT_COLOR","markerBoxWidth","Math","width","listStyleTypeFallbackRecord","ol","ul","markerTextStyle","enableExperimentalRtl","enableRemoveTopMarginIfNested","enableRemoveBottomMarginIfNested","enableDynamicMarkerBoxWidth","props","listStyleSpecs","markers","nestLevel","listType","TChildrenRenderer","rtl","style","removeTopMarginStyle","styles","removeBottomMarginStyle","ownListType","selectedListType","getFallbackListStyleTypeFromNestLevel","listStyleType","console","spec","counterRenderer","startIndex","getStartIndex","extractMarkerTextStyle","providedMarkerTextStyle","itemProps","markerBoxStyle","rtlLineReversed","rtlMarkerReversed","length","dynamicMarkerBoxWidth","renderMarker","markerWidth","fixedPaddingRule","paddingValue","markerBoxWidthStyle","getMarkerBoxStyle","renderChild","index","shrink","dynamicPaddingStyle","position","zeroMarginTop","marginTop","zeroMarginBottom","marginBottom","flexShrink"],"mappings":"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","sourcesContent":["import { StyleSheet, View } from 'react-native';\nimport React from 'react';\nimport { TBlock, TNode } from '@native-html/transient-render-engine';\nimport { MarkedListItem, useMarkedList } from '@jsamr/react-native-li';\nimport type {\n  DefaultSupportedListStyleType,\n  InternalRendererProps,\n  ListElementConfig,\n  TChildProps\n} from '../shared-types';\nimport { useTChildrenRenderer } from '../context/TChildrenRendererContext';\nimport { DEFAULT_TEXT_COLOR } from '../constants';\nimport pick from 'ramda/src/pick';\nimport { useListStyleSpecs } from '../context/ListStyleSpecsProvider';\n\nexport interface ListElementProps<T extends 'ol' | 'ul'>\n  extends InternalRendererProps<TBlock>,\n    ListElementConfig {\n  listType: T;\n}\n\nfunction getStartIndex(tnode: TNode) {\n  const parsedIndex = tnode.attributes.start\n    ? Number(tnode.attributes.start)\n    : Number.NaN;\n  return Number.isNaN(parsedIndex) ? 1 : parsedIndex;\n}\n\nconst pickMarkerTextStyles = pick([\n  'fontStyle',\n  'fontSize',\n  'fontWeight',\n  'fontFamily',\n  'fontVariant',\n  'color',\n  'lineHeight'\n]);\n\nfunction extractMarkerTextStyle(tnode: TNode) {\n  return Object.assign(\n    {\n      lineHeight: 14 * 1.3,\n      fontSize: 14,\n      color: DEFAULT_TEXT_COLOR\n    },\n    pickMarkerTextStyles(tnode.styles.nativeTextFlow)\n  );\n}\n\nexport function getMarkerBoxStyle(\n  markerWidth: number | false,\n  paddingValue: string | number | undefined\n) {\n  const markerBoxWidth =\n    typeof markerWidth === 'number'\n      ? typeof paddingValue === 'number'\n        ? Math.max(paddingValue, markerWidth)\n        : markerWidth\n      : paddingValue;\n  return { width: markerBoxWidth };\n}\n\nconst listStyleTypeFallbackRecord: Record<\n  'ol' | 'ul',\n  DefaultSupportedListStyleType\n> = {\n  ol: 'decimal',\n  ul: 'disc'\n};\n\nexport default function ListElement({\n  tnode,\n  TDefaultRenderer,\n  listType,\n  style,\n  getFallbackListStyleTypeFromNestLevel,\n  markerBoxStyle,\n  markerTextStyle: providedMarkerTextStyle,\n  enableExperimentalRtl = false,\n  enableRemoveTopMarginIfNested = true,\n  enableRemoveBottomMarginIfNested = true,\n  enableDynamicMarkerBoxWidth = false,\n  ...props\n}: ListElementProps<'ol' | 'ul'>) {\n  const listStyleSpecs = useListStyleSpecs();\n  const markers = tnode.markers;\n  const nestLevel =\n    listType === 'ol' ? markers.olNestLevel : markers.ulNestLevel;\n  const TChildrenRenderer = useTChildrenRenderer();\n  const rtl =\n    enableExperimentalRtl &&\n    (style.direction === 'rtl' || markers.direction === 'rtl');\n  const removeTopMarginStyle =\n    enableRemoveTopMarginIfNested &&\n    tnode.parent?.tagName === 'li' &&\n    tnode.nodeIndex === 0\n      ? styles.zeroMarginTop\n      : null;\n  const removeBottomMarginStyle =\n    enableRemoveBottomMarginIfNested &&\n    tnode.parent?.tagName === 'li' &&\n    tnode.nodeIndex === tnode.parent?.children.length - 1\n      ? styles.zeroMarginBottom\n      : null;\n  const ownListType = tnode.styles.webTextFlow.listStyleType as\n    | DefaultSupportedListStyleType\n    | undefined;\n  const selectedListType =\n    getFallbackListStyleTypeFromNestLevel!(nestLevel) ||\n    ownListType ||\n    listStyleTypeFallbackRecord[listType];\n  const listStyleType = ownListType || selectedListType;\n  if (\n    typeof __DEV__ === 'boolean' &&\n    __DEV__ &&\n    !(listStyleType in listStyleSpecs)\n  ) {\n    if (listStyleType.match(/^(\"|')/)) {\n      console.warn(\n        \"This library doesn't support strings for list-style-type CSS properties.\"\n      );\n    } else {\n      console.warn(\n        `list-style-type \"${listStyleType}\" is not handled by react-native-render-html. ` +\n          'You can easily provide support for this style via \"customListStyleSpecs\" prop.'\n      );\n    }\n  }\n  const spec =\n    listStyleType in listStyleSpecs\n      ? listStyleSpecs[listStyleType]\n      : listStyleSpecs[selectedListType];\n  const counterRenderer = spec.counterStyleRenderer;\n  const startIndex = getStartIndex(tnode);\n  const markerTextStyle =\n    typeof providedMarkerTextStyle === 'object' && providedMarkerTextStyle\n      ? { ...extractMarkerTextStyle(tnode), ...providedMarkerTextStyle }\n      : extractMarkerTextStyle(tnode);\n  const itemProps = useMarkedList({\n    counterRenderer,\n    startIndex,\n    markerTextStyle,\n    markerBoxStyle,\n    rtlLineReversed: rtl,\n    rtlMarkerReversed: rtl,\n    length: tnode.children.length,\n    dynamicMarkerBoxWidth: enableDynamicMarkerBoxWidth,\n    renderMarker: spec.renderMarker\n  });\n  const markerWidth = itemProps.markerTextWidth;\n  const fixedPaddingRule = rtl\n    ? ('paddingRight' as const)\n    : ('paddingLeft' as const);\n  // Fallback to padding-left value on RTL mode\n  const paddingValue = style[fixedPaddingRule] ?? style.paddingLeft;\n  const markerBoxWidthStyle = getMarkerBoxStyle(markerWidth, paddingValue);\n  const renderChild = ({ childElement, key, index }: TChildProps) => (\n    <MarkedListItem\n      key={key}\n      index={index}\n      {...itemProps}\n      markerBoxStyle={[itemProps.markerBoxStyle, markerBoxWidthStyle]}\n      markerTextStyle={itemProps.markerTextStyle}\n      enableMarkerClipping\n      style={itemProps.style}>\n      <View style={styles.shrink}>{childElement}</View>\n    </MarkedListItem>\n  );\n\n  const dynamicPaddingStyle = {\n    position: 'relative' as const,\n    [fixedPaddingRule]: 0\n  };\n  return (\n    <TDefaultRenderer\n      tnode={tnode}\n      style={[\n        style,\n        removeTopMarginStyle,\n        removeBottomMarginStyle,\n        dynamicPaddingStyle\n      ]}\n      {...props}>\n      <TChildrenRenderer tchildren={tnode.children} renderChild={renderChild} />\n    </TDefaultRenderer>\n  );\n}\n\nconst styles = StyleSheet.create({\n  zeroMarginTop: { marginTop: 0 },\n  zeroMarginBottom: { marginBottom: 0 },\n  shrink: { flexShrink: 1 }\n});\n"]},"metadata":{},"sourceType":"script"}
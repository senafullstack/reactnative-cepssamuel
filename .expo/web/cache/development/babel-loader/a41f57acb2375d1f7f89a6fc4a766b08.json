{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useIMGElementStateWithCache;\n\nvar _defaultInitialImageDimensions = _interopRequireDefault(require(\"./defaultInitialImageDimensions\"));\n\nvar _getIMGState = require(\"./getIMGState\");\n\nvar _useImageConcreteDimensions = _interopRequireDefault(require(\"./useImageConcreteDimensions\"));\n\nvar _useImageSpecifiedDimensions = _interopRequireDefault(require(\"./useImageSpecifiedDimensions\"));\n\nvar _useIMGNormalizedSource = _interopRequireDefault(require(\"./useIMGNormalizedSource\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction useIMGElementStateWithCache(props) {\n  var alt = props.alt,\n      altColor = props.altColor,\n      source = props.source,\n      contentWidth = props.contentWidth,\n      computeMaxWidth = props.computeMaxWidth,\n      objectFit = props.objectFit,\n      _props$initialDimensi = props.initialDimensions,\n      initialDimensions = _props$initialDimensi === void 0 ? _defaultInitialImageDimensions.default : _props$initialDimensi,\n      cachedNaturalDimensions = props.cachedNaturalDimensions;\n\n  var _ref = (0, _useImageSpecifiedDimensions.default)(props),\n      flatStyle = _ref.flatStyle,\n      specifiedDimensions = _ref.specifiedDimensions;\n\n  var nomalizedSource = (0, _useIMGNormalizedSource.default)({\n    specifiedDimensions: specifiedDimensions,\n    source: source\n  });\n  var concreteDimensions = (0, _useImageConcreteDimensions.default)({\n    flatStyle: flatStyle,\n    naturalDimensions: cachedNaturalDimensions,\n    specifiedDimensions: specifiedDimensions,\n    computeMaxWidth: computeMaxWidth,\n    contentWidth: contentWidth\n  });\n  return (0, _getIMGState.getIMGState)({\n    error: null,\n    concreteDimensions: concreteDimensions,\n    containerStyle: flatStyle,\n    initialDimensions: initialDimensions,\n    objectFit: objectFit,\n    source: nomalizedSource,\n    alt: alt,\n    altColor: altColor\n  });\n}","map":{"version":3,"sources":["useIMGElementStateWithCache.ts"],"names":["initialDimensions","defaultImageInitialDimensions","cachedNaturalDimensions","specifiedDimensions","nomalizedSource","source","concreteDimensions","flatStyle","naturalDimensions","computeMaxWidth","contentWidth","error","containerStyle","objectFit","alt","altColor"],"mappings":";;;;;;;AAAA,IAAA,8BAAA,GAAA,sBAAA,CAAA,OAAA,mCAAA,CAAA;;AACA,IAAA,YAAA,GAAA,OAAA,iBAAA;;AAMA,IAAA,2BAAA,GAAA,sBAAA,CAAA,OAAA,gCAAA,CAAA;;AACA,IAAA,4BAAA,GAAA,sBAAA,CAAA,OAAA,iCAAA,CAAA;;AACA,IAAA,uBAAA,GAAA,sBAAA,CAAA,OAAA,4BAAA,CAAA;;;;;;;;AAOe,SAAA,2BAAA,CAAA,KAAA,EAEkC;AAC/C,MAAM,GAAN,GAAA,KAAA,CAAM,GAAN;AAAA,MAAM,QAAN,GAAA,KAAA,CAAM,QAAN;AAAA,MAAM,MAAN,GAAA,KAAA,CAAM,MAAN;AAAA,MAAM,YAAN,GAAA,KAAA,CAAM,YAAN;AAAA,MAAM,eAAN,GAAA,KAAA,CAAM,eAAN;AAAA,MAAM,SAAN,GAAA,KAAA,CAAM,SAAN;AAAA,8BAAA,KAAA,CAOEA,iBAPF;AAAA,MAOEA,iBAPF,sCAOsBC,8BAAAA,CAPhB,OAAN;AAAA,MAQEC,uBARF,GAAA,KAAA,CAQEA,uBARF;;AAUA,aAA2C,CAAA,GAAA,4BAAA,CAAA,OAAA,EAA3C,KAA2C,CAA3C;AAAA,MAAM,SAAN,QAAM,SAAN;AAAA,MAAmBC,mBAAnB,QAAmBA,mBAAnB;;AACA,MAAMC,eAAe,GAAG,CAAA,GAAA,uBAAA,CAAA,OAAA,EAAuB;AAC7CD,IAAAA,mBAD6C,EAC7CA,mBAD6C;AAE7CE,IAAAA,MAAAA,EAAAA;AAF6C,GAAvB,CAAxB;AAIA,MAAMC,kBAAkB,GAAG,CAAA,GAAA,2BAAA,CAAA,OAAA,EAA2B;AACpDC,IAAAA,SADoD,EACpDA,SADoD;AAEpDC,IAAAA,iBAAiB,EAFmC,uBAAA;AAGpDL,IAAAA,mBAHoD,EAGpDA,mBAHoD;AAIpDM,IAAAA,eAJoD,EAIpDA,eAJoD;AAKpDC,IAAAA,YAAAA,EAAAA;AALoD,GAA3B,CAA3B;AAQA,SAAO,CAAA,GAAA,YAAA,CAAA,WAAA,EAAY;AACjBC,IAAAA,KAAK,EADY,IAAA;AAEjBL,IAAAA,kBAFiB,EAEjBA,kBAFiB;AAGjBM,IAAAA,cAAc,EAHG,SAAA;AAIjBZ,IAAAA,iBAJiB,EAIjBA,iBAJiB;AAKjBa,IAAAA,SALiB,EAKjBA,SALiB;AAMjBR,IAAAA,MAAM,EANW,eAAA;AAOjBS,IAAAA,GAPiB,EAOjBA,GAPiB;AAQjBC,IAAAA,QAAAA,EAAAA;AARiB,GAAZ,CAAP;AAUD","sourcesContent":["import defaultImageInitialDimensions from './defaultInitialImageDimensions';\nimport { getIMGState } from './getIMGState';\nimport type {\n  UseIMGElementStateWithCacheProps,\n  IMGElementStateError,\n  IMGElementStateSuccess\n} from './img-types';\nimport useImageConcreteDimensions from './useImageConcreteDimensions';\nimport useImageSpecifiedDimensions from './useImageSpecifiedDimensions';\nimport useIMGNormalizedSource from './useIMGNormalizedSource';\n\n/**\n * This hook is useful when one has access to image natural dimensions prior to\n * loading. The `cachedNaturalDimensions` prop must be passed to immediately\n * compute concrete dimensions.\n */\nexport default function useIMGElementStateWithCache(\n  props: UseIMGElementStateWithCacheProps\n): IMGElementStateError | IMGElementStateSuccess {\n  const {\n    alt,\n    altColor,\n    source,\n    contentWidth,\n    computeMaxWidth,\n    objectFit,\n    initialDimensions = defaultImageInitialDimensions,\n    cachedNaturalDimensions\n  } = props;\n  const { flatStyle, specifiedDimensions } = useImageSpecifiedDimensions(props);\n  const nomalizedSource = useIMGNormalizedSource({\n    specifiedDimensions,\n    source\n  });\n  const concreteDimensions = useImageConcreteDimensions({\n    flatStyle,\n    naturalDimensions: cachedNaturalDimensions,\n    specifiedDimensions,\n    computeMaxWidth,\n    contentWidth\n  });\n\n  return getIMGState({\n    error: null,\n    concreteDimensions,\n    containerStyle: flatStyle,\n    initialDimensions,\n    objectFit,\n    source: nomalizedSource,\n    alt,\n    altColor\n  });\n}\n"]},"metadata":{},"sourceType":"script"}
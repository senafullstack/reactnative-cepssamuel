{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";import React,{useEffect,useState}from\"react\";import{Card}from\"react-native-elements\";import View from\"react-native-web/dist/exports/View\";import StatusBar from\"react-native-web/dist/exports/StatusBar\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import ActivityIndicator from\"react-native-web/dist/exports/ActivityIndicator\";import Image from\"react-native-web/dist/exports/Image\";import Text from\"react-native-web/dist/exports/Text\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import MenuHeader from\"../layouts/MenuHeader\";import Icone from\"../Configs/Icone\";import{obterToken}from\"../Configs/Globais\";import Globais from\"../Configs/Globais\";export default(function(_ref){var navigation=_ref.navigation,titulo=_ref.titulo;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),dados=_useState2[0],setDados=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),dadoslogin=_useState4[0],setDadoslogin=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),dadosagenda=_useState6[0],setDadosAgenda=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),carregando=_useState8[0],setCarregando=_useState8[1];function carregaragenda(token,id_turma){var url;return _regeneratorRuntime.async(function carregaragenda$(_context){while(1){switch(_context.prev=_context.next){case 0:url=Globais.url+\"v1/agenda/\"+id_turma;setCarregando(true);_context.next=4;return _regeneratorRuntime.awrap(fetch(url,{method:\"get\",headers:new Headers({Authorization:\"Bearer \"+token})}).then(function(resp){return resp.json();}).then(function(json){var resultado=json.data.data;setDadosAgenda(resultado);}).catch(function(e){alert(\"erro\"+e);}).finally(function(){setCarregando(false);}));case 4:case\"end\":return _context.stop();}}},null,null,null,Promise);}function carregarimagens(token){var url;return _regeneratorRuntime.async(function carregarimagens$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:url=Globais.url+\"v1/cardapio\";setCarregando(true);_context2.next=4;return _regeneratorRuntime.awrap(fetch(url,{method:\"get\",headers:new Headers({Authorization:\"Bearer \"+token})}).then(function(resp){return resp.json();}).then(function(json){var resultado=json.data.data;setDados(resultado);}).catch(function(e){alert(\"erro\"+e);}).finally(function(){setCarregando(false);}));case 4:case\"end\":return _context2.stop();}}},null,null,null,Promise);}useEffect(function(){obterToken(\"dadoslogin\").then(function(resposta){carregarimagens(resposta.access_token);carregaragenda(resposta.access_token,resposta.id_turma);});},[]);return React.createElement(View,null,React.createElement(MenuHeader,{navigation:navigation,titulo:\"Nosso Cantinho\"}),React.createElement(ScrollView,{style:styles.scrollView},React.createElement(View,{style:{flexDirection:\"column\",justifyContent:\"center\",alignItems:\"center\"}},React.createElement(Card,{containerStyle:{width:\"90%\",borderRadius:10}},React.createElement(Card.Title,{style:{color:\"#43C1C4\"}},\"Cardapio da semana\",\" \"),React.createElement(Card.Divider,null),carregando?React.createElement(ActivityIndicator,{size:\"large\"}):dados.map(function(item,index){return React.createElement(TouchableOpacity,{onPress:function onPress(){navigation.navigate(\"TabCardapio\",{id_cardapio:item.id_cardapio});},key:item.id_cardapio},React.createElement(View,{style:{width:\"100%\",flexDirection:\"row\"}},React.createElement(View,{style:{margin:2,flex:1}},React.createElement(Image,{source:{uri:Globais.urladmin+item.foto},style:{width:\"100%\",height:100}}))),React.createElement(Card.Divider,null));}),React.createElement(Card.Title,{style:{color:\"#43C1C4\"}},\"Agenda \"),React.createElement(Card.Divider,null),carregando?React.createElement(View,{style:{width:Globais.percentuallargura(85),height:Globais.percentualaltura(85),justifyContent:\"center\",alignItems:\"center\"}},React.createElement(ActivityIndicator,{size:\"large\",animating:true})):dadosagenda.map(function(item,index){return React.createElement(TouchableOpacity,{onPress:function onPress(){navigation.navigate(\"PageVerAgenda\",{informacoes:item});},key:item.id_agenda},React.createElement(View,{style:{width:\"100%\",flexDirection:\"row\"}},React.createElement(View,{style:{margin:2,flex:0.2}},React.createElement(Image,{source:{uri:Globais.urladmin+item.foto},style:{width:\"100%\",height:60}})),React.createElement(View,{style:{margin:2,flex:0.8,justifyContent:\"center\"}},React.createElement(Text,{style:styles.titulo},item.materia),React.createElement(Text,{style:{color:\"#F38DAD\"}},\" \",item.dataagendaFormatada),item.arquivo!=\"\"?React.createElement(TouchableOpacity,{onPress:function onPress(){Globais.Download(Globais.urladmin+item.arquivo);}},React.createElement(Icone,{name:\"file\",estilo:{},color:\"##43C1C4\"})):React.createElement(React.Fragment,null))),React.createElement(Card.Divider,null));})))));});var styles=StyleSheet.create({container:{flex:1,paddingTop:StatusBar.currentHeight},scrollView:{marginHorizontal:0},titulo:{color:\"#43C1C4\",fontSize:15}});","map":{"version":3,"sources":["C:/xampp/htdocs/nossocantinho/Appcolegio/Pages/PageHome.tsx"],"names":["React","useEffect","useState","Card","MenuHeader","Icone","obterToken","Globais","navigation","titulo","dados","setDados","dadoslogin","setDadoslogin","dadosagenda","setDadosAgenda","carregando","setCarregando","carregaragenda","token","id_turma","url","fetch","method","headers","Headers","Authorization","then","resp","json","resultado","data","catch","e","alert","finally","carregarimagens","resposta","access_token","styles","scrollView","flexDirection","justifyContent","alignItems","width","borderRadius","color","map","item","index","navigate","id_cardapio","margin","flex","uri","urladmin","foto","height","percentuallargura","percentualaltura","informacoes","id_agenda","materia","dataagendaFormatada","arquivo","Download","StyleSheet","create","container","paddingTop","StatusBar","currentHeight","marginHorizontal","fontSize"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Input, Card, Button } from \"react-native-elements\";\r\nimport {\r\n  View,\r\n  Modal,\r\n  StatusBar,\r\n  StyleSheet,\r\n  ActivityIndicator,\r\n  Image,\r\n  Text,\r\n  SafeAreaView,\r\n  ScrollView,\r\n  Pressable,\r\n  Alert,\r\n  FlatList,\r\n  TouchableOpacity,\r\n} from \"react-native\";\r\nimport MenuHeader from \"../layouts/MenuHeader\";\r\nimport Icone from \"../Configs/Icone\";\r\nimport { obterToken } from \"../Configs/Globais\";\r\nimport Globais from \"../Configs/Globais\";\r\n\r\nexport default ({ navigation, titulo }) => {\r\n  const [dados, setDados] = useState([]);\r\n  const [dadoslogin, setDadoslogin] = useState(\"\");\r\n  const [dadosagenda, setDadosAgenda] = useState([]);\r\n  const [carregando, setCarregando] = useState(false);\r\n  async function carregaragenda(token, id_turma) {\r\n    var url = Globais.url + \"v1/agenda/\" + id_turma;\r\n    setCarregando(true);\r\n\r\n    await fetch(url, {\r\n      method: \"get\",\r\n      headers: new Headers({\r\n        Authorization: \"Bearer \" + token,\r\n      }),\r\n    })\r\n      .then((resp) => resp.json())\r\n      .then((json) => {\r\n        const resultado = json.data.data;\r\n        setDadosAgenda(resultado);\r\n        // console.log(resultado);\r\n      })\r\n      .catch((e) => {\r\n        alert(\"erro\" + e);\r\n      })\r\n      .finally(() => {\r\n        setCarregando(false);\r\n      });\r\n  }\r\n\r\n  async function carregarimagens(token) {\r\n    var url = Globais.url + \"v1/cardapio\";\r\n    setCarregando(true);\r\n    //console.log(token);\r\n    await fetch(url, {\r\n      method: \"get\",\r\n      headers: new Headers({\r\n        Authorization: \"Bearer \" + token,\r\n      }),\r\n    })\r\n      .then((resp) => resp.json())\r\n      .then((json) => {\r\n        const resultado = json.data.data;\r\n        setDados(resultado);\r\n      })\r\n      .catch((e) => {\r\n        alert(\"erro\" + e);\r\n      })\r\n      .finally(() => {\r\n        setCarregando(false);\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    obterToken(\"dadoslogin\").then((resposta) => {\r\n      carregarimagens(resposta.access_token);\r\n      carregaragenda(resposta.access_token, resposta.id_turma);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <View>\r\n      <MenuHeader navigation={navigation} titulo=\"Nosso Cantinho\" />\r\n\r\n      <ScrollView style={styles.scrollView}>\r\n        <View\r\n          style={{\r\n            flexDirection: \"column\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <Card containerStyle={{ width: \"90%\", borderRadius: 10 }}>\r\n            <Card.Title style={{ color: \"#43C1C4\" }}>\r\n              Cardapio da semana{\" \"}\r\n            </Card.Title>\r\n            <Card.Divider />\r\n\r\n            {carregando ? (\r\n              <ActivityIndicator size=\"large\" />\r\n            ) : (\r\n              dados.map((item, index) => (\r\n                <TouchableOpacity\r\n                  onPress={() => {\r\n                    navigation.navigate(\"TabCardapio\", {\r\n                      id_cardapio: item.id_cardapio,\r\n                    });\r\n                  }}\r\n                  key={item.id_cardapio}\r\n                >\r\n                  <View style={{ width: \"100%\", flexDirection: \"row\" }}>\r\n                    <View style={{ margin: 2, flex: 1 }}>\r\n                      <Image\r\n                        source={{ uri: Globais.urladmin + item.foto }}\r\n                        style={{ width: \"100%\", height: 100 }}\r\n                      />\r\n                    </View>\r\n                  </View>\r\n                  <Card.Divider />\r\n                </TouchableOpacity>\r\n              ))\r\n            )}\r\n\r\n            <Card.Title style={{ color: \"#43C1C4\" }}>Agenda </Card.Title>\r\n            <Card.Divider />\r\n            {carregando ? (\r\n              <View\r\n                style={{\r\n                  width: Globais.percentuallargura(85),\r\n                  height: Globais.percentualaltura(85),\r\n                  justifyContent: \"center\",\r\n                  alignItems: \"center\",\r\n                }}\r\n              >\r\n                <ActivityIndicator size=\"large\" animating={true} />\r\n              </View>\r\n            ) : (\r\n              dadosagenda.map((item, index) => (\r\n                <TouchableOpacity\r\n                  onPress={() => {\r\n                    navigation.navigate(\"PageVerAgenda\", {\r\n                      informacoes: item,\r\n                    });\r\n                  }}\r\n                  key={item.id_agenda}\r\n                >\r\n                  <View style={{ width: \"100%\", flexDirection: \"row\" }}>\r\n                    <View style={{ margin: 2, flex: 0.2 }}>\r\n                      <Image\r\n                        source={{ uri: Globais.urladmin + item.foto }}\r\n                        style={{ width: \"100%\", height: 60 }}\r\n                      />\r\n                    </View>\r\n                    <View\r\n                      style={{ margin: 2, flex: 0.8, justifyContent: \"center\" }}\r\n                    >\r\n                      <Text style={styles.titulo}>{item.materia}</Text>\r\n                      <Text style={{ color: \"#F38DAD\" }}>\r\n                        {\" \"}\r\n                        {item.dataagendaFormatada}\r\n                      </Text>\r\n                      {item.arquivo != \"\" ? (\r\n                        <TouchableOpacity\r\n                          onPress={() => {\r\n                            Globais.Download(Globais.urladmin + item.arquivo);\r\n                          }}\r\n                        >\r\n                          <Icone name=\"file\" estilo={{}} color=\"##43C1C4\" />\r\n                        </TouchableOpacity>\r\n                      ) : (\r\n                        <></>\r\n                      )}\r\n                    </View>\r\n                  </View>\r\n                  <Card.Divider />\r\n                </TouchableOpacity>\r\n              ))\r\n            )}\r\n          </Card>\r\n        </View>\r\n      </ScrollView>\r\n    </View>\r\n  );\r\n};\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    paddingTop: StatusBar.currentHeight,\r\n  },\r\n  scrollView: {\r\n    marginHorizontal: 0,\r\n  },\r\n\r\n  titulo: {\r\n    color: \"#43C1C4\",\r\n    fontSize: 15,\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}
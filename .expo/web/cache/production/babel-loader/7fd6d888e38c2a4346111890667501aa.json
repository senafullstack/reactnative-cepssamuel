{"ast":null,"code":"\"use strict\";var _objectWithoutProperties=require(\"@babel/runtime/helpers/objectWithoutProperties\");var _excluded=[\"remoteErrorView\",\"remoteLoadingView\",\"renderersProps\",\"children\",\"renderers\"];Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=RenderHTMLConfigProvider;exports.renderHTMLConfigPropTypes=void 0;var _react=_interopRequireWildcard(require(\"react\"));var _propTypes=_interopRequireDefault(require(\"prop-types\"));var _RenderersPropsProvider=_interopRequireDefault(require(\"./context/RenderersPropsProvider\"));var _SharedPropsProvider=_interopRequireDefault(require(\"./context/SharedPropsProvider\"));var _TChildrenRendererContext=_interopRequireDefault(require(\"./context/TChildrenRendererContext\"));var _TNodeChildrenRenderer=_interopRequireDefault(require(\"./TNodeChildrenRenderer\"));var _TChildrenRenderer=_interopRequireDefault(require(\"./TChildrenRenderer\"));var _sourceLoaderContext=_interopRequireWildcard(require(\"./context/sourceLoaderContext\"));var _RenderRegistryProvider=_interopRequireDefault(require(\"./context/RenderRegistryProvider\"));var _TRenderEngineProvider=require(\"./TRenderEngineProvider\");var _useProfiler=_interopRequireDefault(require(\"./hooks/useProfiler\"));var _ListStyleSpecsProvider=_interopRequireDefault(require(\"./context/ListStyleSpecsProvider\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!==\"function\")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!==\"object\"&&typeof obj!==\"function\"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!==\"default\"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}var childrenRendererContext={TChildrenRenderer:_TChildrenRenderer.default,TNodeChildrenRenderer:_TNodeChildrenRenderer.default};var renderHTMLConfigPropTypes={bypassAnonymousTPhrasingNodes:_propTypes.default.bool,defaultTextProps:_propTypes.default.object,defaultViewProps:_propTypes.default.object,enableExperimentalBRCollapsing:_propTypes.default.bool,enableExperimentalGhostLinesPrevention:_propTypes.default.bool,enableExperimentalMarginCollapsing:_propTypes.default.bool,remoteErrorView:_propTypes.default.func,remoteLoadingView:_propTypes.default.func,debug:_propTypes.default.bool,computeEmbeddedMaxWidth:_propTypes.default.func,renderersProps:_propTypes.default.object,WebView:_propTypes.default.any,GenericPressable:_propTypes.default.any,defaultWebViewProps:_propTypes.default.object,pressableHightlightColor:_propTypes.default.string,customListStyleSpecs:_propTypes.default.object,renderers:_propTypes.default.object,provideEmbeddedHeaders:_propTypes.default.func};exports.renderHTMLConfigPropTypes=renderHTMLConfigPropTypes;function RenderHTMLConfigProvider(props){var remoteErrorView=props.remoteErrorView,remoteLoadingView=props.remoteLoadingView,renderersProps=props.renderersProps,children=props.children,renderers=props.renderers,sharedProps=_objectWithoutProperties(props,_excluded);var engine=(0,_TRenderEngineProvider.useAmbientTRenderEngine)();var profile=(0,_useProfiler.default)({prop:'remoteErrorView or remoteLoadingView'});var sourceLoaderConfig=(0,_react.useMemo)(function(){typeof __DEV__==='boolean'&&__DEV__&&profile();return{remoteErrorView:remoteErrorView||_sourceLoaderContext.defaultRenderError,remoteLoadingView:remoteLoadingView||_sourceLoaderContext.defaultRenderLoading};},[remoteErrorView,remoteLoadingView,profile]);return _react.default.createElement(_RenderRegistryProvider.default,{renderers:renderers,elementModels:engine.getHTMLElementsModels()},_react.default.createElement(_SharedPropsProvider.default,sharedProps,_react.default.createElement(_ListStyleSpecsProvider.default,null,_react.default.createElement(_RenderersPropsProvider.default,{renderersProps:renderersProps},_react.default.createElement(_TChildrenRendererContext.default.Provider,{value:childrenRendererContext},_react.default.createElement(_sourceLoaderContext.default.Provider,{value:sourceLoaderConfig},children))))));}RenderHTMLConfigProvider.propTypes=renderHTMLConfigPropTypes;","map":{"version":3,"sources":["RenderHTMLConfigProvider.tsx"],"names":["childrenRendererContext","TChildrenRenderer","TNodeChildrenRenderer","renderHTMLConfigPropTypes","bypassAnonymousTPhrasingNodes","PropTypes","defaultTextProps","defaultViewProps","enableExperimentalBRCollapsing","enableExperimentalGhostLinesPrevention","enableExperimentalMarginCollapsing","remoteErrorView","remoteLoadingView","debug","computeEmbeddedMaxWidth","renderersProps","WebView","GenericPressable","defaultWebViewProps","pressableHightlightColor","customListStyleSpecs","renderers","provideEmbeddedHeaders","func","sharedProps","engine","profile","prop","sourceLoaderConfig","defaultRenderError","defaultRenderLoading","RenderHTMLConfigProvider"],"mappings":"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","sourcesContent":["import React, { PropsWithChildren, ReactElement, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport RenderersPropsProvider from './context/RenderersPropsProvider';\nimport SharedPropsProvider from './context/SharedPropsProvider';\nimport TChildrenRenderersContext from './context/TChildrenRendererContext';\nimport { RenderHTMLConfig } from './shared-types';\nimport TNodeChildrenRenderer from './TNodeChildrenRenderer';\nimport TChildrenRenderer from './TChildrenRenderer';\nimport sourceLoaderContext, {\n  defaultRenderError,\n  defaultRenderLoading\n} from './context/sourceLoaderContext';\nimport RenderRegistryProvider from './context/RenderRegistryProvider';\nimport { useAmbientTRenderEngine } from './TRenderEngineProvider';\nimport useProfiler from './hooks/useProfiler';\nimport ListStyleSpecsProvider from './context/ListStyleSpecsProvider';\n\nconst childrenRendererContext = {\n  TChildrenRenderer,\n  TNodeChildrenRenderer\n};\n\nexport type RenderHTMLConfigPropTypes = Record<keyof RenderHTMLConfig, any>;\n\nexport const renderHTMLConfigPropTypes: RenderHTMLConfigPropTypes = {\n  bypassAnonymousTPhrasingNodes: PropTypes.bool,\n  defaultTextProps: PropTypes.object,\n  defaultViewProps: PropTypes.object,\n  enableExperimentalBRCollapsing: PropTypes.bool,\n  enableExperimentalGhostLinesPrevention: PropTypes.bool,\n  enableExperimentalMarginCollapsing: PropTypes.bool,\n  remoteErrorView: PropTypes.func,\n  remoteLoadingView: PropTypes.func,\n  debug: PropTypes.bool,\n  computeEmbeddedMaxWidth: PropTypes.func,\n  renderersProps: PropTypes.object,\n  WebView: PropTypes.any,\n  GenericPressable: PropTypes.any,\n  defaultWebViewProps: PropTypes.object,\n  pressableHightlightColor: PropTypes.string,\n  customListStyleSpecs: PropTypes.object,\n  renderers: PropTypes.object,\n  provideEmbeddedHeaders: PropTypes.func\n};\n\n/**\n * A component to provide configuration for {@link RenderHTMLSource}\n * descendants, to be used in conjunction with {@link TRenderEngineProvider}.\n */\nexport default function RenderHTMLConfigProvider(\n  props: PropsWithChildren<RenderHTMLConfig>\n): ReactElement {\n  const {\n    remoteErrorView,\n    remoteLoadingView,\n    renderersProps,\n    children,\n    renderers,\n    ...sharedProps\n  } = props;\n  const engine = useAmbientTRenderEngine();\n  const profile = useProfiler({ prop: 'remoteErrorView or remoteLoadingView' });\n  const sourceLoaderConfig = useMemo(() => {\n    typeof __DEV__ === 'boolean' && __DEV__ && profile();\n    return {\n      remoteErrorView: remoteErrorView || defaultRenderError,\n      remoteLoadingView: remoteLoadingView || defaultRenderLoading\n    };\n  }, [remoteErrorView, remoteLoadingView, profile]);\n  return (\n    <RenderRegistryProvider\n      renderers={renderers}\n      elementModels={engine.getHTMLElementsModels()}>\n      <SharedPropsProvider {...sharedProps}>\n        <ListStyleSpecsProvider>\n          <RenderersPropsProvider renderersProps={renderersProps}>\n            <TChildrenRenderersContext.Provider value={childrenRendererContext}>\n              <sourceLoaderContext.Provider value={sourceLoaderConfig}>\n                {children}\n              </sourceLoaderContext.Provider>\n            </TChildrenRenderersContext.Provider>\n          </RenderersPropsProvider>\n        </ListStyleSpecsProvider>\n      </SharedPropsProvider>\n    </RenderRegistryProvider>\n  );\n}\n\n/**\n * @ignore\n */\nRenderHTMLConfigProvider.propTypes = renderHTMLConfigPropTypes;\n"]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=useIMGElementStateWithCache;var _defaultInitialImageDimensions=_interopRequireDefault(require(\"./defaultInitialImageDimensions\"));var _getIMGState=require(\"./getIMGState\");var _useImageConcreteDimensions=_interopRequireDefault(require(\"./useImageConcreteDimensions\"));var _useImageSpecifiedDimensions=_interopRequireDefault(require(\"./useImageSpecifiedDimensions\"));var _useIMGNormalizedSource=_interopRequireDefault(require(\"./useIMGNormalizedSource\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function useIMGElementStateWithCache(props){var alt=props.alt,altColor=props.altColor,source=props.source,contentWidth=props.contentWidth,computeMaxWidth=props.computeMaxWidth,objectFit=props.objectFit,_props$initialDimensi=props.initialDimensions,initialDimensions=_props$initialDimensi===void 0?_defaultInitialImageDimensions.default:_props$initialDimensi,cachedNaturalDimensions=props.cachedNaturalDimensions;var _ref=(0,_useImageSpecifiedDimensions.default)(props),flatStyle=_ref.flatStyle,specifiedDimensions=_ref.specifiedDimensions;var nomalizedSource=(0,_useIMGNormalizedSource.default)({specifiedDimensions:specifiedDimensions,source:source});var concreteDimensions=(0,_useImageConcreteDimensions.default)({flatStyle:flatStyle,naturalDimensions:cachedNaturalDimensions,specifiedDimensions:specifiedDimensions,computeMaxWidth:computeMaxWidth,contentWidth:contentWidth});return(0,_getIMGState.getIMGState)({error:null,concreteDimensions:concreteDimensions,containerStyle:flatStyle,initialDimensions:initialDimensions,objectFit:objectFit,source:nomalizedSource,alt:alt,altColor:altColor});}","map":{"version":3,"sources":["useIMGElementStateWithCache.ts"],"names":["initialDimensions","defaultImageInitialDimensions","cachedNaturalDimensions","specifiedDimensions","nomalizedSource","source","concreteDimensions","flatStyle","naturalDimensions","computeMaxWidth","contentWidth","error","containerStyle","objectFit","alt","altColor"],"mappings":"kHAAA,GAAA,CAAA,8BAAA,CAAA,sBAAA,CAAA,OAAA,mCAAA,CAAA,CACA,GAAA,CAAA,YAAA,CAAA,OAAA,iBAAA,CAMA,GAAA,CAAA,2BAAA,CAAA,sBAAA,CAAA,OAAA,gCAAA,CAAA,CACA,GAAA,CAAA,4BAAA,CAAA,sBAAA,CAAA,OAAA,iCAAA,CAAA,CACA,GAAA,CAAA,uBAAA,CAAA,sBAAA,CAAA,OAAA,4BAAA,CAAA,C,mFAOe,QAAA,CAAA,2BAAA,CAAA,KAAA,CAEkC,CAC/C,GAAM,CAAA,GAAN,CAAA,KAAA,CAAM,GAAN,CAAM,QAAN,CAAA,KAAA,CAAM,QAAN,CAAM,MAAN,CAAA,KAAA,CAAM,MAAN,CAAM,YAAN,CAAA,KAAA,CAAM,YAAN,CAAM,eAAN,CAAA,KAAA,CAAM,eAAN,CAAM,SAAN,CAAA,KAAA,CAAM,SAAN,uBAAA,KAAA,CAOEA,iBAPF,CAOEA,iBAPF,gCAOsBC,8BAAAA,CAPhB,OAAN,uBAQEC,uBARF,CAAA,KAAA,CAQEA,uBARF,CAUA,SAA2C,CAAA,EAAA,4BAAA,CAAA,OAAA,EAA3C,KAA2C,CAA3C,CAAM,SAAN,MAAM,SAAN,CAAmBC,mBAAnB,MAAmBA,mBAAnB,CACA,GAAMC,CAAAA,eAAe,CAAG,CAAA,EAAA,uBAAA,CAAA,OAAA,EAAuB,CAC7CD,mBAD6C,CAC7CA,mBAD6C,CAE7CE,MAAAA,CAAAA,MAF6C,CAAvB,CAAxB,CAIA,GAAMC,CAAAA,kBAAkB,CAAG,CAAA,EAAA,2BAAA,CAAA,OAAA,EAA2B,CACpDC,SADoD,CACpDA,SADoD,CAEpDC,iBAAiB,CAFmC,uBAAA,CAGpDL,mBAHoD,CAGpDA,mBAHoD,CAIpDM,eAJoD,CAIpDA,eAJoD,CAKpDC,YAAAA,CAAAA,YALoD,CAA3B,CAA3B,CAQA,MAAO,CAAA,EAAA,YAAA,CAAA,WAAA,EAAY,CACjBC,KAAK,CADY,IAAA,CAEjBL,kBAFiB,CAEjBA,kBAFiB,CAGjBM,cAAc,CAHG,SAAA,CAIjBZ,iBAJiB,CAIjBA,iBAJiB,CAKjBa,SALiB,CAKjBA,SALiB,CAMjBR,MAAM,CANW,eAAA,CAOjBS,GAPiB,CAOjBA,GAPiB,CAQjBC,QAAAA,CAAAA,QARiB,CAAZ,CAAP,CAUD","sourcesContent":["import defaultImageInitialDimensions from './defaultInitialImageDimensions';\nimport { getIMGState } from './getIMGState';\nimport type {\n  UseIMGElementStateWithCacheProps,\n  IMGElementStateError,\n  IMGElementStateSuccess\n} from './img-types';\nimport useImageConcreteDimensions from './useImageConcreteDimensions';\nimport useImageSpecifiedDimensions from './useImageSpecifiedDimensions';\nimport useIMGNormalizedSource from './useIMGNormalizedSource';\n\n/**\n * This hook is useful when one has access to image natural dimensions prior to\n * loading. The `cachedNaturalDimensions` prop must be passed to immediately\n * compute concrete dimensions.\n */\nexport default function useIMGElementStateWithCache(\n  props: UseIMGElementStateWithCacheProps\n): IMGElementStateError | IMGElementStateSuccess {\n  const {\n    alt,\n    altColor,\n    source,\n    contentWidth,\n    computeMaxWidth,\n    objectFit,\n    initialDimensions = defaultImageInitialDimensions,\n    cachedNaturalDimensions\n  } = props;\n  const { flatStyle, specifiedDimensions } = useImageSpecifiedDimensions(props);\n  const nomalizedSource = useIMGNormalizedSource({\n    specifiedDimensions,\n    source\n  });\n  const concreteDimensions = useImageConcreteDimensions({\n    flatStyle,\n    naturalDimensions: cachedNaturalDimensions,\n    specifiedDimensions,\n    computeMaxWidth,\n    contentWidth\n  });\n\n  return getIMGState({\n    error: null,\n    concreteDimensions,\n    containerStyle: flatStyle,\n    initialDimensions,\n    objectFit,\n    source: nomalizedSource,\n    alt,\n    altColor\n  });\n}\n"]},"metadata":{},"sourceType":"script"}
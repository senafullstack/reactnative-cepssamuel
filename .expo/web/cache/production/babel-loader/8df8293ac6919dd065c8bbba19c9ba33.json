{"ast":null,"code":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.removeCollapsibleAroundSegmentBreak=removeCollapsibleAroundSegmentBreak;exports.removeConsecutiveSegmentBreaks=removeConsecutiveSegmentBreaks;exports.normalizeZeroWidthWhitespaces=normalizeZeroWidthWhitespaces;exports.removeLineBreaksAroundEastAsianDiscardSet=removeLineBreaksAroundEastAsianDiscardSet;exports.replaceSegmentBreaks=replaceSegmentBreaks;exports.normalizeWhitespaces=normalizeWhitespaces;var COLLAPSIBLE_AROUND_SEGMENT_BREAK_REGEX=/[ \\t]*[\\r\\n\\f]+[ \\t]*/g;var CONSECUTIVE_SEGMENT_BREAKS_REGEX=/[\\r\\n\\f]+/g;var ZERO_WIDTH_SPACES_AROUND_SEGMENT_BREAKS_REGEX=/(\\u200b\\n\\u200b?|\\u200b?\\n\\u200b)/g;var SPACE_DISCARDING_CHARSET_REGEX=/([\\u2E80-\\u2EFF\\u2F00-\\u2FDF\\u2FF0-\\u2FFF\\u3000-\\u303F\\u3040-\\u309F\\u30A0-\\u30FF\\u3130-\\u318F\\u3190-\\u319F\\u31C0-\\u31EF\\u31F0-\\u31FF\\u3300-\\u33FF\\u3400-\\u4DBF\\u4E00-\\u9FFF\\uA000-\\uA48F\\uA490-\\uA4CF\\uF900-\\uFAFF\\uFE10-\\uFE1F\\uFE30-\\uFE4F\\uFE50-\\uFE6F\\uFF00-\\uFFEF])\\n([\\u2E80-\\u2EFF\\u2F00-\\u2FDF\\u2FF0-\\u2FFF\\u3000-\\u303F\\u3040-\\u309F\\u30A0-\\u30FF\\u3130-\\u318F\\u3190-\\u319F\\u31C0-\\u31EF\\u31F0-\\u31FF\\u3300-\\u33FF\\u3400-\\u4DBF\\u4E00-\\u9FFF\\uA000-\\uA48F\\uA490-\\uA4CF\\uF900-\\uFAFF\\uFE10-\\uFE1F\\uFE30-\\uFE4F\\uFE50-\\uFE6F\\uFF00-\\uFFEF])/g;var SEGMENT_BREAK_REGEX=/\\n/g;var SUBSEQUENT_WHITESPACE_REGEX=/[ \\t]+/g;function removeCollapsibleAroundSegmentBreak(data){return data.replace(COLLAPSIBLE_AROUND_SEGMENT_BREAK_REGEX,'\\n');}function removeConsecutiveSegmentBreaks(data){return data.replace(CONSECUTIVE_SEGMENT_BREAKS_REGEX,'\\n');}function normalizeZeroWidthWhitespaces(data){return data.replace(ZERO_WIDTH_SPACES_AROUND_SEGMENT_BREAKS_REGEX,\"\\u200B\");}function removeLineBreaksAroundEastAsianDiscardSet(data){return data.replace(SPACE_DISCARDING_CHARSET_REGEX,'$1$2');}function replaceSegmentBreaks(data){return data.replace(SEGMENT_BREAK_REGEX,' ');}function normalizeWhitespaces(data){return data.replace(SUBSEQUENT_WHITESPACE_REGEX,' ');}","map":{"version":3,"sources":["text-transforms.ts"],"names":["COLLAPSIBLE_AROUND_SEGMENT_BREAK_REGEX","CONSECUTIVE_SEGMENT_BREAKS_REGEX","ZERO_WIDTH_SPACES_AROUND_SEGMENT_BREAKS_REGEX","SPACE_DISCARDING_CHARSET_REGEX","SEGMENT_BREAK_REGEX","SUBSEQUENT_WHITESPACE_REGEX","data"],"mappings":"geAGA,GAAMA,CAAAA,sCAAsC,CAA5C,wBAAA,CACA,GAAMC,CAAAA,gCAAgC,CAAtC,YAAA,CACA,GAAMC,CAAAA,6CAA6C,CAAnD,oCAAA,CAEA,GAAMC,CAAAA,8BAA8B,CAApC,qhBAAA,CAEA,GAAMC,CAAAA,mBAAmB,CAAzB,KAAA,CACA,GAAMC,CAAAA,2BAA2B,CAAjC,SAAA,CAIO,QAAA,CAAA,mCAAA,CAAA,IAAA,CAAmE,CACxE,MAAOC,CAAAA,IAAI,CAAJA,OAAAA,CAAAA,sCAAAA,CAAP,IAAOA,CAAP,CAGF,CAEO,QAAA,CAAA,8BAAA,CAAA,IAAA,CAA8D,CACnE,MAAOA,CAAAA,IAAI,CAAJA,OAAAA,CAAAA,gCAAAA,CAAP,IAAOA,CAAP,CAGF,CAIO,QAAA,CAAA,6BAAA,CAAA,IAAA,CAA6D,CAClE,MAAOA,CAAAA,IAAI,CAAJA,OAAAA,CAAAA,6CAAAA,CAAP,QAAOA,CAAP,CAGF,CAQO,QAAA,CAAA,yCAAA,CAAA,IAAA,CAEG,CACR,MAAOA,CAAAA,IAAI,CAAJA,OAAAA,CAAAA,8BAAAA,CAAP,MAAOA,CAAP,CAGF,CAGO,QAAA,CAAA,oBAAA,CAAA,IAAA,CAAoD,CACzD,MAAOA,CAAAA,IAAI,CAAJA,OAAAA,CAAAA,mBAAAA,CAAP,GAAOA,CAAP,CAGF,CAGO,QAAA,CAAA,oBAAA,CAAA,IAAA,CAAoD,CACzD,MAAOA,CAAAA,IAAI,CAAJA,OAAAA,CAAAA,2BAAAA,CAAP,GAAOA,CAAP,CACD","sourcesContent":["// TODO, when React Native supports unicode regexes,\n// we should use `p{Zs}` instead of [ \\t] to comply\n// with the CSS3 Text Module standard. https://www.w3.org/TR/css-text-3/#spaces\nconst COLLAPSIBLE_AROUND_SEGMENT_BREAK_REGEX = /[ \\t]*[\\r\\n\\f]+[ \\t]*/g;\nconst CONSECUTIVE_SEGMENT_BREAKS_REGEX = /[\\r\\n\\f]+/g;\nconst ZERO_WIDTH_SPACES_AROUND_SEGMENT_BREAKS_REGEX =\n  /(\\u200b\\n\\u200b?|\\u200b?\\n\\u200b)/g;\nconst SPACE_DISCARDING_CHARSET_REGEX =\n  /([\\u2E80-\\u2EFF\\u2F00-\\u2FDF\\u2FF0-\\u2FFF\\u3000-\\u303F\\u3040-\\u309F\\u30A0-\\u30FF\\u3130-\\u318F\\u3190-\\u319F\\u31C0-\\u31EF\\u31F0-\\u31FF\\u3300-\\u33FF\\u3400-\\u4DBF\\u4E00-\\u9FFF\\uA000-\\uA48F\\uA490-\\uA4CF\\uF900-\\uFAFF\\uFE10-\\uFE1F\\uFE30-\\uFE4F\\uFE50-\\uFE6F\\uFF00-\\uFFEF])\\n([\\u2E80-\\u2EFF\\u2F00-\\u2FDF\\u2FF0-\\u2FFF\\u3000-\\u303F\\u3040-\\u309F\\u30A0-\\u30FF\\u3130-\\u318F\\u3190-\\u319F\\u31C0-\\u31EF\\u31F0-\\u31FF\\u3300-\\u33FF\\u3400-\\u4DBF\\u4E00-\\u9FFF\\uA000-\\uA48F\\uA490-\\uA4CF\\uF900-\\uFAFF\\uFE10-\\uFE1F\\uFE30-\\uFE4F\\uFE50-\\uFE6F\\uFF00-\\uFFEF])/g;\nconst SEGMENT_BREAK_REGEX = /\\n/g;\nconst SUBSEQUENT_WHITESPACE_REGEX = /[ \\t]+/g;\n\n// Implementation of\n// https://www.w3.org/TR/2020/WD-css-text-3-20201119/#white-space-phase-1\nexport function removeCollapsibleAroundSegmentBreak(data: string): string {\n  return data.replace(COLLAPSIBLE_AROUND_SEGMENT_BREAK_REGEX, '\\n');\n}\n\n// Implementation of\n// https://www.w3.org/TR/2020/WD-css-text-3-20201119/#line-break-transform\nexport function removeConsecutiveSegmentBreaks(data: string): string {\n  return data.replace(CONSECUTIVE_SEGMENT_BREAKS_REGEX, '\\n');\n}\n\n// Implementation of\n// https://www.w3.org/TR/2020/WD-css-text-3-20200429/#line-break-transform\n// In the latest version (https://www.w3.org/TR/2020/WD-css-text-3-20201119/),\n// the behavior is considered at UA discretion.\nexport function normalizeZeroWidthWhitespaces(data: string): string {\n  return data.replace(ZERO_WIDTH_SPACES_AROUND_SEGMENT_BREAKS_REGEX, '\\u200b');\n}\n\n// Partial implementation of\n// https://www.w3.org/TR/2020/WD-css-text-3-20200429/#line-break-transform\n//\n// Because RN Javascript runtime doesn't support String.fromCharCode, we don't support space discarding\n// for character ranges above U+FFFF\n//\n// In the latest version (https://www.w3.org/TR/2020/WD-css-text-3-20201119/),\n// the behavior is considered at UA discretion.\nexport function removeLineBreaksAroundEastAsianDiscardSet(\n  data: string\n): string {\n  return data.replace(SPACE_DISCARDING_CHARSET_REGEX, '$1$2');\n}\n\n// Implementation of\n// https://www.w3.org/TR/2020/WD-css-text-3-20201119/#white-space-phase-2\n// (A.1)\nexport function replaceSegmentBreaks(data: string): string {\n  return data.replace(SEGMENT_BREAK_REGEX, ' ');\n}\n\n// Implementation of\n// https://www.w3.org/TR/2020/WD-css-text-3-20201119/#white-space-phase-2\n// (A.4)\nexport function normalizeWhitespaces(data: string): string {\n  return data.replace(SUBSEQUENT_WHITESPACE_REGEX, ' ');\n}\n"]},"metadata":{},"sourceType":"script"}
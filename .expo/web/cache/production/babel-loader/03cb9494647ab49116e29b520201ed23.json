{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState}from\"react\";import Icon from\"@expo/vector-icons/FontAwesome\";import{Input,Card,Button}from\"react-native-elements\";import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Image from\"react-native-web/dist/exports/Image\";import Globais from\"../Configs/Globais\";export default(function(_ref){var navigation=_ref.navigation,titulo=_ref.titulo;var _useState=useState(\"maria@maria.com.br\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setemail=_useState2[1];var _useState3=useState(\"123456\"),_useState4=_slicedToArray(_useState3,2),senha=_useState4[0],setsenha=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),dados=_useState6[0],setDados=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),temerro=_useState8[0],settemErro=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),mensagem=_useState10[0],setmensagem=_useState10[1];var dadosFormdata=new FormData();dadosFormdata.append(\"username\",email);dadosFormdata.append(\"password\",senha);var requestPost={method:\"POST\",body:dadosFormdata};function logincandidato(){var url=Globais.url+\"login\";fetch(url,requestPost).then(function(resp){return resp.json();}).then(function(json){var dadosretorno=json;if(dadosretorno.error==\"Unauthorized\"){settemErro(true);setmensagem(dadosretorno.info);}else{Globais.nomeusuario=dadosretorno.nome;Globais.emailusuario=dadosretorno.email;Globais.logado=true;Globais.token=dadosretorno.token;Globais.fotousuario=dadosretorno.foto;Globais.ArmazenarJson(\"dadoslogin\",dadosretorno);setDados(json.login);navigation.navigate(\"AppInicio\");}}).catch(function(e){alert(\"erro\"+e);}).finally(function(){});}return React.createElement(ScrollView,null,React.createElement(View,{style:{flexDirection:\"column\",justifyContent:\"center\",alignItems:\"center\"}},React.createElement(Image,{style:estilos.image,source:require(\"../assets/images/logo.png\")}),React.createElement(Card,{containerStyle:{width:\"90%\",borderRadius:10}},React.createElement(Card.Title,{style:{color:\"#43C1C4\"}},\"Bem vindo(a)\"),React.createElement(Card.Divider,null),React.createElement(Input,{onChangeText:function onChangeText(texto){setemail(texto);},style:{color:\"#F38DAD\"},value:email,placeholder:\"Email\",leftIcon:{type:\"font-awesome\",name:\"user\",color:\"#F38DAD\"}}),React.createElement(Input,{secureTextEntry:true,placeholder:\"Senha\",value:senha,style:{color:\"#F38DAD\"},onChangeText:function onChangeText(texto){setsenha(texto);},leftIcon:React.createElement(Icon,{name:\"lock\",size:24,color:\"#F38DAD\"})}),React.createElement(Button,{buttonStyle:{backgroundColor:\"#5BA3D9\"},onPress:function onPress(){return logincandidato();},icon:React.createElement(Icon,{name:\"arrow-right\",size:18,color:\"white\"}),title:\"Entrar\"}),temerro?React.createElement(View,{style:{width:\"100%\",height:15,alignContent:\"center\",alignItems:\"center\"}},React.createElement(Text,{style:{fontSize:20,color:\"red\"}},mensagem)):React.createElement(View,null))));});var estilos=StyleSheet.create({image:{width:300,height:300,resizeMode:\"contain\"}});","map":{"version":3,"sources":["C:/xampp/htdocs/nossocantinho/Appcolegio/Pages/PageLogin.tsx"],"names":["React","useState","Icon","Input","Card","Button","Globais","navigation","titulo","email","setemail","senha","setsenha","dados","setDados","temerro","settemErro","mensagem","setmensagem","dadosFormdata","FormData","append","requestPost","method","body","logincandidato","url","fetch","then","resp","json","dadosretorno","error","info","nomeusuario","nome","emailusuario","logado","token","fotousuario","foto","ArmazenarJson","login","navigate","catch","e","alert","finally","flexDirection","justifyContent","alignItems","estilos","image","require","width","borderRadius","color","texto","type","name","backgroundColor","height","alignContent","fontSize","StyleSheet","create","resizeMode"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Icon from \"react-native-vector-icons/FontAwesome\";\r\nimport { Input, Card, Button } from \"react-native-elements\";\r\n\r\nimport {\r\n  View,\r\n  Text,\r\n  TextInput,\r\n  ScrollView,\r\n  StyleSheet,\r\n  Image,\r\n  TouchableOpacity,\r\n} from \"react-native\";\r\nimport Globais from \"../Configs/Globais\";\r\nexport default ({ navigation, titulo }) => {\r\n  const [email, setemail] = useState(\"maria@maria.com.br\");\r\n  const [senha, setsenha] = useState(\"123456\");\r\n  const [dados, setDados] = useState([]);\r\n  const [temerro, settemErro] = useState(false);\r\n  const [mensagem, setmensagem] = useState(\"\");\r\n\r\n  var dadosFormdata = new FormData();\r\n  dadosFormdata.append(\"username\", email);\r\n  dadosFormdata.append(\"password\", senha);\r\n\r\n  var requestPost = {\r\n    method: \"POST\",\r\n    body: dadosFormdata,\r\n  };\r\n\r\n  function logincandidato() {\r\n    var url = Globais.url + \"login\";\r\n\r\n    fetch(url, requestPost)\r\n      .then((resp) => resp.json())\r\n      .then((json) => {\r\n        let dadosretorno = json;\r\n\r\n        if (dadosretorno.error == \"Unauthorized\") {\r\n          settemErro(true);\r\n\r\n          setmensagem(dadosretorno.info);\r\n        } else {\r\n          Globais.nomeusuario = dadosretorno.nome;\r\n          Globais.emailusuario = dadosretorno.email;\r\n          Globais.logado = true;\r\n\r\n          Globais.token = dadosretorno.token;\r\n          Globais.fotousuario = dadosretorno.foto;\r\n          //  ArmazenarJson(\"dadoslogin\", dadosretorno);\r\n          Globais.ArmazenarJson(\"dadoslogin\", dadosretorno);\r\n\r\n          setDados(json.login);\r\n          navigation.navigate(\"AppInicio\");\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        alert(\"erro\" + e);\r\n      })\r\n      .finally(() => {\r\n        //alert(\"fim\");\r\n      });\r\n  }\r\n\r\n  return (\r\n    <ScrollView>\r\n      <View\r\n        style={{\r\n          flexDirection: \"column\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <Image\r\n          style={estilos.image}\r\n          source={require(\"../assets/images/logo.png\")}\r\n        />\r\n\r\n        <Card containerStyle={{ width: \"90%\", borderRadius: 10 }}>\r\n          <Card.Title style={{ color: \"#43C1C4\" }}>Bem vindo(a)</Card.Title>\r\n          <Card.Divider />\r\n          <Input\r\n            onChangeText={(texto) => {\r\n              setemail(texto);\r\n            }}\r\n            style={{ color: \"#F38DAD\" }}\r\n            value={email}\r\n            placeholder=\"Email\"\r\n            leftIcon={{ type: \"font-awesome\", name: \"user\", color: \"#F38DAD\" }}\r\n          />\r\n\r\n          <Input\r\n            secureTextEntry={true}\r\n            placeholder=\"Senha\"\r\n            value={senha}\r\n            style={{ color: \"#F38DAD\" }}\r\n            onChangeText={(texto) => {\r\n              setsenha(texto);\r\n            }}\r\n            leftIcon={<Icon name=\"lock\" size={24} color=\"#F38DAD\" />}\r\n          />\r\n          <Button\r\n            buttonStyle={{ backgroundColor: \"#5BA3D9\" }}\r\n            onPress={() => logincandidato()}\r\n            icon={<Icon name=\"arrow-right\" size={18} color=\"white\" />}\r\n            title=\"Entrar\"\r\n          />\r\n          {temerro ? (\r\n            <View\r\n              style={{\r\n                width: \"100%\",\r\n                height: 15,\r\n                alignContent: \"center\",\r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              <Text\r\n                style={{\r\n                  fontSize: 20,\r\n                  color: \"red\",\r\n                }}\r\n              >\r\n                {mensagem}\r\n              </Text>\r\n            </View>\r\n          ) : (\r\n            <View></View>\r\n          )}\r\n        </Card>\r\n      </View>\r\n    </ScrollView>\r\n  );\r\n};\r\n\r\nconst estilos = StyleSheet.create({\r\n  image: {\r\n    width: 300,\r\n    height: 300,\r\n    resizeMode: \"contain\",\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}
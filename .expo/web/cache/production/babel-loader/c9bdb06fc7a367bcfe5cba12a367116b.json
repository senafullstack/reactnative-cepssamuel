{"ast":null,"code":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _react=_interopRequireWildcard(require(\"react\"));var _DocumentMetadataProvider=_interopRequireDefault(require(\"./context/DocumentMetadataProvider\"));var _TNodeRenderer=_interopRequireDefault(require(\"./TNodeRenderer\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!==\"function\")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!==\"object\"&&typeof obj!==\"function\"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!==\"default\"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}var TDocumentRenderer=(0,_react.memo)(function(_ref){var tdoc=_ref.tdoc,baseUrl=_ref.baseUrl,onDocumentMetadataLoaded=_ref.onDocumentMetadataLoaded;var metadata=(0,_react.useMemo)(function(){var _tdoc$context=tdoc.context,baseHref=_tdoc$context.baseHref,baseTarget=_tdoc$context.baseTarget,lang=_tdoc$context.lang,links=_tdoc$context.links,meta=_tdoc$context.meta,title=_tdoc$context.title,dir=_tdoc$context.dir;return{baseTarget:baseTarget,baseUrl:baseUrl!==null&&baseUrl!==void 0?baseUrl:baseHref,lang:lang,dir:dir,links:links,meta:meta,title:title};},[tdoc.context,baseUrl]);(0,_react.useEffect)(function(){onDocumentMetadataLoaded===null||onDocumentMetadataLoaded===void 0?void 0:onDocumentMetadataLoaded.call(null,metadata);},[onDocumentMetadataLoaded,metadata]);return _react.default.createElement(_DocumentMetadataProvider.default,{value:metadata},_react.default.createElement(_TNodeRenderer.default,{renderIndex:0,renderLength:1,tnode:tdoc}));});var _default=TDocumentRenderer;exports.default=_default;","map":{"version":3,"sources":["TDocumentRenderer.tsx"],"names":["TDocumentRenderer","onDocumentMetadataLoaded","metadata","dir","tdoc","baseTarget","baseUrl","lang","links","meta","title"],"mappings":"6FAAA,GAAA,CAAA,MAAA,CAAA,uBAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA,CAGA,GAAA,CAAA,yBAAA,CAAA,sBAAA,CAAA,OAAA,sCAAA,CAAA,CACA,GAAA,CAAA,cAAA,CAAA,sBAAA,CAAA,OAAA,mBAAA,CAAA,C,6kCAEA,GAAMA,CAAAA,iBAAiB,CAAG,CAAA,EAAA,MAAA,CAAA,IAAA,EACxB,cAQM,IARL,CAAA,IAQK,MARL,IAQK,CARL,OAQK,MARL,OAQK,CALJC,wBAKI,MALJA,wBAKI,CACJ,GAAMC,CAAAA,QAA0B,CAAG,CAAA,EAAA,MAAA,CAAA,OAAA,EAAQ,UAAM,CAC/C,kBACEE,IAAI,CADN,OAAA,CAAM,QAAN,eAAM,QAAN,CAAM,UAAN,eAAM,UAAN,CAAM,IAAN,eAAM,IAAN,CAAM,KAAN,eAAM,KAAN,CAAM,IAAN,eAAM,IAAN,CAAM,KAAN,eAAM,KAAN,CAAwDD,GAAxD,eAAwDA,GAAxD,CAEA,MAAO,CACLE,UADK,CACLA,UADK,CAELC,OAAO,CAAEA,OAAF,GAAA,IAAEA,EAAAA,OAAF,GAAA,IAAA,EAAEA,CAAF,OAAEA,CAFJ,QAAA,CAGLC,IAHK,CAGLA,IAHK,CAILJ,GAJK,CAILA,GAJK,CAKLK,KALK,CAKLA,KALK,CAMLC,IANK,CAMLA,IANK,CAOLC,KAAAA,CAAAA,KAPK,CAAP,CAHiC,CAAA,CAYhC,CAACN,IAAI,CAAL,OAAA,CAZH,OAYG,CAZgC,CAAnC,CAaA,CAAA,EAAA,MAAA,CAAA,SAAA,EAAU,UAAM,CACdH,wBAAwB,GAAxBA,IAAAA,EAAAA,wBAAwB,GAAA,IAAxBA,EAAAA,CAAAA,IAAAA,EAAAA,CAAAA,wBAAwB,CAAxBA,IAAAA,CAAAA,IAAAA,CAAAA,QAAAA,CAAAA,CADF,CAAA,CAEG,CAAA,wBAAA,CAFH,QAEG,CAFH,EAGA,MACE,CAAA,MAAA,CAAA,OAAA,CAAA,aAAA,CAAC,yBAAA,CAAD,OAAA,CAAA,CAA0B,KAAK,CAAEC,QAAjC,CAAA,CACE,MAAA,CAAA,OAAA,CAAA,aAAA,CAAC,cAAA,CAAD,OAAA,CAAA,CAAe,WAAW,CAA1B,CAAA,CAA+B,YAAY,CAA3C,CAAA,CAAgD,KAAK,CAAEE,IAAvD,CAAA,CADF,CADF,CA1BJ,CAA0B,CAA1B,C,aAiCeJ,iB","sourcesContent":["import React, { memo, useEffect, useMemo } from 'react';\nimport { TDocument } from '@native-html/transient-render-engine';\nimport { DocumentMetadata, RenderHTMLSourceProps } from './shared-types';\nimport DocumentMetadataProvider from './context/DocumentMetadataProvider';\nimport TNodeRenderer from './TNodeRenderer';\n\nconst TDocumentRenderer = memo(\n  ({\n    tdoc,\n    baseUrl,\n    onDocumentMetadataLoaded\n  }: {\n    baseUrl?: string;\n    onDocumentMetadataLoaded?: RenderHTMLSourceProps['onDocumentMetadataLoaded'];\n    tdoc: TDocument;\n  }) => {\n    const metadata: DocumentMetadata = useMemo(() => {\n      const { baseHref, baseTarget, lang, links, meta, title, dir } =\n        tdoc.context;\n      return {\n        baseTarget,\n        baseUrl: baseUrl ?? baseHref,\n        lang,\n        dir,\n        links,\n        meta,\n        title\n      };\n    }, [tdoc.context, baseUrl]);\n    useEffect(() => {\n      onDocumentMetadataLoaded?.call(null, metadata);\n    }, [onDocumentMetadataLoaded, metadata]);\n    return (\n      <DocumentMetadataProvider value={metadata}>\n        <TNodeRenderer renderIndex={0} renderLength={1} tnode={tdoc} />\n      </DocumentMetadataProvider>\n    );\n  }\n);\nexport default TDocumentRenderer;\n"]},"metadata":{},"sourceType":"script"}
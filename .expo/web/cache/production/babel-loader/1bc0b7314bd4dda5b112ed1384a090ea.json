{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Card}from\"react-native-elements\";import View from\"react-native-web/dist/exports/View\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import ActivityIndicator from\"react-native-web/dist/exports/ActivityIndicator\";import Image from\"react-native-web/dist/exports/Image\";import SafeAreaView from\"react-native-web/dist/exports/SafeAreaView\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import FlatList from\"react-native-web/dist/exports/FlatList\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Globais from\"../Configs/Globais\";export default(function(_ref){var navigation=_ref.navigation,titulo=_ref.titulo;useEffect(function(){carregarimagens();},[]);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modalVisible=_useState2[0],setModalVisible=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),dados=_useState4[0],setDados=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),carregando=_useState6[0],setCarregando=_useState6[1];function carregarimagens(){var url=Globais.url+\"galeria\";setCarregando(true);fetch(url).then(function(resp){return resp.json();}).then(function(json){var resultado=json.data.data;setDados(resultado);}).catch(function(e){alert(\"erro\"+e);}).finally(function(){setCarregando(false);});}return React.createElement(SafeAreaView,{style:styles.container},React.createElement(ScrollView,null,React.createElement(View,{style:{flexDirection:\"column\",justifyContent:\"center\",alignItems:\"center\"}},React.createElement(Card,{containerStyle:{width:\"90%\",borderRadius:10}},React.createElement(Card.Title,{style:{color:\"#43C1C4\"}},\"Galeria\"),React.createElement(Card.Divider,null),carregando?React.createElement(View,{style:{width:Globais.percentuallargura(85),height:Globais.percentualaltura(85),justifyContent:\"center\",alignItems:\"center\"}},React.createElement(ActivityIndicator,{size:\"large\",animating:true})):React.createElement(SafeAreaView,{style:styles.container},React.createElement(FlatList,{data:dados,numColumns:3,horizontal:false,keyExtractor:function keyExtractor(item){return item.id_galeria.toString();},renderItem:function renderItem(_ref2){var item=_ref2.item,index=_ref2.index;return React.createElement(TouchableOpacity,{onPress:function onPress(){navigation.navigate(\"PageVergaleriaexterno\",{foto:item.foto});}},React.createElement(View,{style:{flex:1,flexDirection:\"column\",margin:1}},React.createElement(Image,{style:styles.imageThumbnail,source:{uri:Globais.urladmin+item.foto}})));}}))))));});var styles=StyleSheet.create({container:{flex:1,justifyContent:\"center\"},imageThumbnail:{justifyContent:\"center\",alignItems:\"center\",height:Globais.percentualaltura(13),width:Globais.percentuallargura(26)}});","map":{"version":3,"sources":["C:/xampp/htdocs/nossocantinho/Appcolegio/Pagesexternas/PageGaleria.tsx"],"names":["React","useEffect","useState","Card","Globais","navigation","titulo","carregarimagens","modalVisible","setModalVisible","dados","setDados","carregando","setCarregando","url","fetch","then","resp","json","resultado","data","catch","e","alert","finally","styles","container","flexDirection","justifyContent","alignItems","width","borderRadius","color","percentuallargura","height","percentualaltura","item","id_galeria","toString","index","navigate","foto","flex","margin","imageThumbnail","uri","urladmin","StyleSheet","create"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Icon from \"react-native-vector-icons/FontAwesome\";\r\nimport { Input, Card, Button } from \"react-native-elements\";\r\nimport { MaskedTextInput } from \"react-native-mask-text\";\r\n\r\nimport {\r\n  View,\r\n  Modal,\r\n  StatusBar,\r\n  StyleSheet,\r\n  ActivityIndicator,\r\n  Image,\r\n  Text,\r\n  SafeAreaView,\r\n  ScrollView,\r\n  Pressable,\r\n  Alert,\r\n  FlatList,\r\n  TouchableOpacity,\r\n} from \"react-native\";\r\nimport Globais from \"../Configs/Globais\";\r\n\r\nexport default ({ navigation, titulo }) => {\r\n  useEffect(() => {\r\n    carregarimagens();\r\n  }, []);\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [dados, setDados] = useState([]);\r\n  const [carregando, setCarregando] = useState(false);\r\n\r\n  function carregarimagens() {\r\n    var url = Globais.url + \"galeria\";\r\n    setCarregando(true);\r\n\r\n    fetch(url)\r\n      .then((resp) => resp.json())\r\n      .then((json) => {\r\n        const resultado = json.data.data;\r\n        setDados(resultado);\r\n      })\r\n      .catch((e) => {\r\n        alert(\"erro\" + e);\r\n      })\r\n      .finally(() => {\r\n        setCarregando(false);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <SafeAreaView style={styles.container}>\r\n      <ScrollView>\r\n        <View\r\n          style={{\r\n            flexDirection: \"column\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <Card containerStyle={{ width: \"90%\", borderRadius: 10 }}>\r\n            <Card.Title style={{ color: \"#43C1C4\" }}>Galeria</Card.Title>\r\n            <Card.Divider />\r\n\r\n            {carregando ? (\r\n              <View\r\n                style={{\r\n                  width: Globais.percentuallargura(85),\r\n                  height: Globais.percentualaltura(85),\r\n                  justifyContent: \"center\",\r\n                  alignItems: \"center\",\r\n                }}\r\n              >\r\n                <ActivityIndicator size=\"large\" animating={true} />\r\n              </View>\r\n            ) : (\r\n              <SafeAreaView style={styles.container}>\r\n                <FlatList\r\n                  data={dados}\r\n                  numColumns={3}\r\n                  horizontal={false}\r\n                  keyExtractor={(item) => item.id_galeria.toString()}\r\n                  renderItem={({ item, index }) => (\r\n                    <TouchableOpacity\r\n                      onPress={() => {\r\n                        navigation.navigate(\"PageVergaleriaexterno\", {\r\n                          foto: item.foto,\r\n                        });\r\n                      }}\r\n                    >\r\n                      <View\r\n                        style={{\r\n                          flex: 1,\r\n                          flexDirection: \"column\",\r\n                          margin: 1,\r\n                        }}\r\n                      >\r\n                        <Image\r\n                          style={styles.imageThumbnail}\r\n                          source={{ uri: Globais.urladmin + item.foto }}\r\n                        />\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </SafeAreaView>\r\n            )}\r\n          </Card>\r\n        </View>\r\n      </ScrollView>\r\n    </SafeAreaView>\r\n  );\r\n};\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: \"center\",\r\n  },\r\n  imageThumbnail: {\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    height: Globais.percentualaltura(13),\r\n    width: Globais.percentuallargura(26),\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}